{"version":3,"sources":["images/i1.png","pages/login.js"],"names":["module","exports","Login","props","useContext","AuthContext","isLoggedIn","setAuth","useState","email","setEmail","password","setPassword","handleChange","e","n","target","name","v","value","to","className","style","backgroundColor","color","alt","src","img1","height","marginTop","marginRight","paddingRight","paddingTop","paddingLeft","marginLeft","onChange","type","id","aria-describedby","placeholder","htmlFor","onClick","preventDefault","data","test","validateEmail","length","notyf","error","Axios","post","getApiLink","then","response","success","catch","message","href"],"mappings":"yGAAAA,EAAOC,QAAU,IAA0B,gC,4IC+J5BC,UA/ID,SAACC,GAAW,IAAD,EAEWC,qBAAWC,KAAnCC,EAFa,EAEbA,WAAYC,EAFC,EAEDA,QAFC,EAIKC,mBAAS,IAJd,mBAIdC,EAJc,KAIPC,EAJO,OAKWF,mBAAS,IALpB,mBAKdG,EALc,KAKJC,EALI,KAOrB,SAASC,EAAaC,GAGlB,IAAIC,EAAID,EAAEE,OAAOC,KACbC,EAAIJ,EAAEE,OAAOG,MACP,UAANJ,EACAL,EAASQ,GACI,aAANH,GACPH,EAAYM,GA4CpB,OAAKZ,EA8EO,oCACJ,kBAAC,IAAD,CAAUc,GAAG,OA7Eb,oCACI,yBAAKC,UAAU,aACX,yBAAKA,UAAU,8BACX,yBAAKA,UAAU,gCACX,yBAAKA,UAAU,0CAA0CC,MAAO,CAAEC,gBAAiB,UAAWC,MAAO,YACjG,yBAAKH,UAAU,iBACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,4BAA4BC,MAAO,CAAEC,gBAAiB,UAAWC,MAAO,YAGnF,yBAAKC,IAAI,MAAMC,IAAKC,IAChBL,MAAO,CAAEM,OAAQ,QAASC,UAAW,OAAQC,YAAa,MAAOC,aAAc,OAAQC,WAAY,MAAOC,YAAa,MAAOC,WAAY,WAElJ,yBAAKb,UAAU,YACX,yBAAKA,UAAU,uCACX,yBAAKA,UAAU,eAEX,wBAAIA,UAAU,OACVC,MAAO,CAAEE,MAAO,YADpB,kBAIJ,0BAAMH,UAAU,QACZ,yBAAKA,UAAU,cACX,2BAAOA,UAAU,iCACbc,SAAUtB,EACVuB,KAAK,QAAQC,GAAG,oBAAoBC,mBAAiB,YACrDC,YAAY,yBAAyBtB,KAAK,QAC1CK,MAAO,MAGf,yBAAKD,UAAU,cACX,2BAAOA,UAAU,iCACbc,SAAUtB,EACVuB,KAAK,WAAWC,GAAG,uBAAuBE,YAAY,WACtDtB,KAAK,WAAWK,MAAO,MAE/B,yBAAKD,UAAU,cACX,yBAAKA,UAAU,8BACX,yBAAKA,UAAU,cACX,2BACIA,UAAU,wCAAwCe,KAAK,WACvDC,GAAG,gBACP,2BACIhB,UAAU,wCAAwCmB,QAAQ,cAC1DlB,MAAO,IAFX,kBAKN,4BAAQD,UAAU,gDACpBe,KAAK,SAASd,MAAO,GAAImB,QA1F7E,SAAsB3B,GAClBA,EAAE4B,iBAEF,IAAIC,EAAO,CACPlC,QACAE,YAGU,KAAVF,GAhCU,SAACA,GAEnB,MADS,4JACCmC,KAAKnC,GA8BUoC,CAAcpC,GAKlB,KAAbE,GAAmBA,EAASmC,OAAS,EACrCC,IAAMC,MAAM,oBAIhBC,IAAMC,KAAN,UAAcC,cAAd,UAAoCR,GAAMS,MAAK,SAACC,GAI5CN,IAAMO,QAAQ,2BAEVD,EAASV,KAAKW,SACd/C,EAAQ8C,EAASV,SAEtBY,OAAM,SAACzC,GAIgC,OAAlCA,EAAEuC,SAASV,KAAKK,MAAMQ,QACtBT,IAAMC,MAAM,GAAKlC,EAAEuC,SAASV,KAAKK,MAAMQ,SAEvCT,IAAMC,MAAM,YAzBhBD,IAAMC,MAAM,mBAgFkC,SAEN,8BAUJ,yBAAK3B,UAAU,eAAc,uBAAGA,UAAU,QAAQoC,KAAK,uBACnDnC,MAAO,CAAEE,MAAO,YADS,qBAE7B,yBAAKH,UAAU,eAAc,kBAAC,IAAD,CAAMA,UAAU,QAAQD,GAAG,YACpDE,MAAO,CAAEE,MAAO,YADS","file":"static/js/9.76353d6b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/i1.843d2b1c.png\";","import React, { useState, useContext } from 'react';\r\nimport img1 from \"../images/i1.png\"\r\n\r\nimport { Link, Redirect } from \"react-router-dom\"\r\n\r\nimport { AuthContext } from \"../contexts/auth_context\"\r\nimport notyf from \"../lib/notification\"\r\n\r\nimport Axios from \"axios\"\r\nimport { getApiLink } from \"../lib/env.lib\"\r\n\r\nconst validateEmail = (email) => {\r\n    let re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(email);\r\n}\r\n\r\nconst Login = (props) => {\r\n\r\n    const { isLoggedIn, setAuth } = useContext(AuthContext);\r\n\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n\r\n    function handleChange(e) {\r\n        // console.log(e.target.name, e.target.value)\r\n\r\n        let n = e.target.name;\r\n        let v = e.target.value;\r\n        if (n === \"email\") {\r\n            setEmail(v)\r\n        } else if (n === \"password\") {\r\n            setPassword(v)\r\n        }\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        let data = {\r\n            email,\r\n            password\r\n        }\r\n\r\n        if (email === \"\" || !validateEmail(email)) {\r\n            notyf.error(\"Invalid email\")\r\n            return\r\n        }\r\n\r\n        if (password === \"\" || password.length < 6) {\r\n            notyf.error(\"Invalid password\")\r\n            return\r\n        }\r\n\r\n        Axios.post(`${getApiLink()}/login`, data).then((response) => {\r\n            // console.log(getApiLink())\r\n            // console.log(response)\r\n            // alert(response)\r\n            notyf.success(\"Logged in successfully!\")\r\n\r\n            if (response.data.success) {\r\n                setAuth(response.data)\r\n            }\r\n        }).catch((e) => {\r\n            // alert(e)\r\n            // console.log({ response: e.response })\r\n\r\n            if (e.response.data.error.message !== null) {\r\n                notyf.error(\"\" + e.response.data.error.message)\r\n            } else {\r\n                notyf.error(\"Error\")\r\n            }\r\n        })\r\n        // alert(name + \" \" + username + \" \" + email + \" \" + password + \" \" + confpassword)\r\n    }\r\n\r\n    if (!isLoggedIn) {\r\n        return (\r\n            <>\r\n                <div className=\"container\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"col-md-9 col-lg-12 col-xl-10\">\r\n                            <div className=\"card shadow-lgx o-hidden border-0 my-5x\" style={{ backgroundColor: \"inherit\", color: \"inherit\" }}>\r\n                                <div className=\"card-body p-0\">\r\n                                    <div className=\"row\">\r\n                                        <div className=\"col-lg-6 d-none d-lg-flex\" style={{ backgroundColor: \"inherit\", color: \"inherit\" }}>\r\n                                            {/* <img alt=\"img\"\r\n                                            src=\"assets/img/Rectangle%202.png\" /> */}\r\n                                            <img alt=\"img\" src={img1}\r\n                                                style={{ height: \"400px\", marginTop: \"87px\", marginRight: \"6px\", paddingRight: \"-7px\", paddingTop: \"1px\", paddingLeft: \"0px\", marginLeft: \"12px\" }} />\r\n                                        </div>\r\n                                        <div className=\"col-lg-6\">\r\n                                            <div className=\"pt-4 p-md-5 pl-sm-0 pr-sm-0 pt-sm-5\">\r\n                                                <div className=\"text-center\">\r\n\r\n                                                    <h4 className=\"mb-4\"\r\n                                                        style={{ color: \"inherit\" }}>Welcome\r\n                                            Back!</h4>\r\n                                                </div>\r\n                                                <form className=\"user\">\r\n                                                    <div className=\"form-group\">\r\n                                                        <input className=\"form-control form-control-user\"\r\n                                                            onChange={handleChange}\r\n                                                            type=\"email\" id=\"exampleInputEmail\" aria-describedby=\"emailHelp\"\r\n                                                            placeholder=\"Enter Email Address...\" name=\"email\"\r\n                                                            style={{}} />\r\n                                                    </div>\r\n\r\n                                                    <div className=\"form-group\">\r\n                                                        <input className=\"form-control form-control-user\"\r\n                                                            onChange={handleChange}\r\n                                                            type=\"password\" id=\"exampleInputPassword\" placeholder=\"Password\"\r\n                                                            name=\"password\" style={{}} />\r\n                                                    </div>\r\n                                                    <div className=\"form-group\">\r\n                                                        <div className=\"pl-2 custom-checkbox small\">\r\n                                                            <div className=\"form-check\">\r\n                                                                <input\r\n                                                                    className=\"form-check-input custom-control-input\" type=\"checkbox\"\r\n                                                                    id=\"formCheck-1\" />\r\n                                                                <label\r\n                                                                    className=\"form-check-label custom-control-label\" htmlFor=\"formCheck-1\"\r\n                                                                    style={{}}>Remember Me</label>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div><button className=\"btn btn-primary btn-block text-white btn-user\"\r\n                                                        type=\"submit\" style={{}} onClick={handleSubmit}>Login</button>\r\n                                                    <hr />\r\n                                                    {/* <a className=\"btn btn-primary btn-block text-white btn-google btn-user\"\r\n                                                        role=\"button\" style={{}} href=\"#btn\">\r\n                                                        <i\r\n                                                            className=\"fab fa-google\"></i>&nbsp; Login with Google</a><a href=\"#btn\"\r\n                                                                className=\"btn btn-primary btn-block text-white btn-facebook btn-user\"\r\n                                                                role=\"button\" style={{}}><i\r\n                                                                    className=\"fab fa-facebook-f\"></i>&nbsp; Login with Facebook</a>\r\n                                                    <hr /> */}\r\n                                                </form>\r\n                                                <div className=\"text-center\"><a className=\"small\" href=\"forgot-password.html\"\r\n                                                    style={{ color: \"inherit\" }}>Forgot Password?</a></div>\r\n                                                <div className=\"text-center\"><Link className=\"small\" to=\"/register\"\r\n                                                    style={{ color: \"inherit\" }}>Create an Account!</Link>\r\n\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    } else {\r\n        return (<>\r\n            <Redirect to=\"/\" />\r\n        </>)\r\n    }\r\n}\r\n\r\nexport default Login;"],"sourceRoot":""}