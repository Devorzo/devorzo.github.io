{"version":3,"sources":["icons/downArrow.svg","lib/cropimage.lib.js","components/Settings/profile.js","components/Settings/account.js","components/Settings/security.js","pages/settings.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","fill","d","className","SvgDownArrow","_ref","svgRef","title","props","focusable","role","viewBox","ref","ForwardRef","forwardRef","cropImage","image","crop","fileName","canvas","document","scaleX","naturalWidth","width","scaleY","naturalHeight","height","getContext","drawImage","x","y","Promise","resolve","toBlob","blob","name","ProfileSettings","useContext","AuthContext","user_dp","user_fullname","user_username","user_bio","user_gender","auth_token","setAuth","useState","requireBackground","setRequireBackground","aspect","setCrop","modalDisp","setModalDisp","imgSrc","setImgSrc","imgRef","setImgRef","u_dp","setDp","u_name","setName","u_bio","setBio","u_gender","setGender","onImageLoad","useCallback","img","unit","handleChange","e","value","uploadImage","file_d","f","FormData","append","Axios","post","getApiLink","then","doc","dp","console","log","data","success","file_name","xAuthToken","profile_image_link","message","token","notyf","error","catch","handleUpload","f_i","setAttribute","click","addEventListener","files","window","URL","createObjectURL","removeEventListener","Helmet","charSet","rel","href","onLoad","RegExp","test","src","alt","autoClose","autoCloseTouch","containerClassName","containerStyle","menuStyle","onClick","type","placeholder","onChange","disabled","id","cols","rows","defaultChecked","fullname","gender","transform","innerWidth","Modal","show","onHide","Header","closeButton","Title","Body","circularCrop","keepSelection","onComplete","percrop","newCrop","onImageLoaded","Footer","File","AccountSettings","SecuritySettings","LockRounded","style","fontSize","Settings","display","setdisplay","showMenu","setshowMenu","useToggle","setUseToggle","w","screen","availWidth","useEffect","icon","faCaretDown","faCaretRight","Nav","variant","defaultActiveKey","Item","Link","eventKey"],"mappings":"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","file":"static/js/8.04b0267f.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M151.5 347.8L3.5 201c-4.7-4.7-4.7-12.3 0-17l19.8-19.8c4.7-4.7 12.3-4.7 17 0L160 282.7l119.7-118.5c4.7-4.7 12.3-4.7 17 0l19.8 19.8c4.7 4.7 4.7 12.3 0 17l-148 146.8c-4.7 4.7-12.3 4.7-17 0z\",\n  className: \"\"\n});\n\nvar SvgDownArrow = function SvgDownArrow(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"far\",\n    \"data-icon\": \"angle-down\",\n    role: \"img\",\n    viewBox: \"0 0 320 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDownArrow, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/downArrow.3a6d5d96.svg\";\nexport { ForwardRef as ReactComponent };","export const cropImage = (image, crop, fileName) => {\r\n  const canvas = document.createElement('canvas');\r\n  const scaleX = image.naturalWidth / image.width;\r\n  const scaleY = image.naturalHeight / image.height;\r\n  canvas.width = crop.width;\r\n  canvas.height = crop.height;\r\n  const ctx = canvas.getContext('2d');\r\n\r\n  ctx.drawImage(\r\n    image,\r\n    crop.x * scaleX,\r\n    crop.y * scaleY,\r\n    crop.width * scaleX,\r\n    crop.height * scaleY,\r\n    0,\r\n    0,\r\n    crop.width,\r\n    crop.height,\r\n  );\r\n\r\n  // As Base64 string\r\n  // const base64Image = canvas.toDataURL('image/jpeg');\r\n\r\n  // As a blob\r\n  return new Promise((resolve) => {\r\n    canvas.toBlob(\r\n      (blob) => {\r\n        // eslint-disable-next-line no-param-reassign\r\n        blob.name = fileName;\r\n        resolve(blob);\r\n      },\r\n      'image/jpeg',\r\n      1,\r\n    );\r\n  });\r\n};\r\n\r\nexport default { cropImage };\r\n","import React, { useState, useContext, useCallback } from 'react';\r\nimport { Modal } from 'react-bootstrap';\r\nimport 'react-image-crop/lib/ReactCrop.scss';\r\nimport ReactCrop from 'react-image-crop';\r\nimport { Helmet } from 'react-helmet';\r\nimport Axios from 'axios';\r\nimport { getApiLink } from '../../lib/env.lib';\r\nimport DropdownMenu, { DropdownItem } from '../dropdown';\r\nimport { ReactComponent as Menu } from '../../icons/downArrow.svg';\r\nimport { AuthContext } from '../../contexts/auth_context';\r\nimport notyf from '../../lib/notification';\r\nimport { cropImage } from '../../lib/cropimage.lib';\r\n\r\nconst ProfileSettings = (props) => {\r\n  const {\r\n    user_dp,\r\n    user_fullname,\r\n    user_username,\r\n    user_bio,\r\n    user_gender,\r\n    auth_token,\r\n    setAuth,\r\n  } = useContext(AuthContext);\r\n\r\n  const [requireBackground, setRequireBackground] = useState(true);\r\n  // const [state, setstate] = useState(initialState)\r\n  const [crop, setCrop] = useState({\r\n    aspect: 1 / 1,\r\n    width: 1024,\r\n  });\r\n\r\n  const [modalDisp, setModalDisp] = useState(false);\r\n\r\n  const [imgSrc, setImgSrc] = useState(null);\r\n  // const [file, setFile] = useState(null);\r\n  const [imgRef, setImgRef] = useState(null);\r\n  const [u_dp, setDp] = useState(user_dp);\r\n  const [u_name, setName] = useState(user_fullname);\r\n  const [u_bio, setBio] = useState(user_bio);\r\n  const [u_gender, setGender] = useState(user_gender);\r\n\r\n  const onImageLoad = useCallback((img) => {\r\n    setImgRef(img);\r\n\r\n    const aspect = 1 / 1;\r\n    const width =\r\n      img.width / aspect < img.height * aspect\r\n        ? 100\r\n        : ((img.height * aspect) / img.width) * 100;\r\n    const height =\r\n      img.width / aspect > img.height * aspect\r\n        ? 100\r\n        : (img.width / aspect / img.height) * 100;\r\n    const y = (100 - height) / 2;\r\n    const x = (100 - width) / 2;\r\n\r\n    setCrop({\r\n      unit: '%',\r\n      width,\r\n      height,\r\n      x,\r\n      y,\r\n      aspect,\r\n    });\r\n\r\n    // return false; // Return false if you set crop state in here.\r\n    return true;\r\n  }, []);\r\n\r\n  function handleChange(e) {\r\n    if (e.target.name === 'name') {\r\n      setName(e.target.value);\r\n    }\r\n\r\n    if (e.target.name === 'bio') {\r\n      setBio(e.target.value);\r\n    }\r\n\r\n    if (e.target.name === 'gender') {\r\n      setGender(e.target.value);\r\n    }\r\n  }\r\n\r\n  function saveImage(dp) {\r\n    Axios.post(`${getApiLink()}/api/v1/updateUserSettings`, {\r\n      xAuthToken: auth_token,\r\n      profile_image_link: dp,\r\n    })\r\n      .then((doc) => {\r\n        console.log(doc);\r\n\r\n        if (doc.data.success) {\r\n          setDp(dp);\r\n          doc.data.message.token = auth_token;\r\n          console.log({ doc });\r\n          setAuth(doc.data);\r\n          notyf.success('Successfully updated image');\r\n        } else {\r\n          notyf.error('Error occured while updating image');\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        console.log('Error while uploading image');\r\n        notyf.error('Error occured while updating image');\r\n      });\r\n  }\r\n\r\n  function uploadImage(file_d) {\r\n    const f = new FormData();\r\n    f.append('file', file_d);\r\n    return Axios.post(`${getApiLink()}/api/v1/upload`, f, {})\r\n      .then((doc) => {\r\n        console.log(doc);\r\n\r\n        if (doc.data.success) {\r\n          saveImage(`${getApiLink()}/file/${doc.data.file_name}`);\r\n        } else {\r\n          notyf.error('Error occured while updating image');\r\n        }\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        console.log('Error while uploading image');\r\n        return {\r\n          success: 0,\r\n        };\r\n      });\r\n  }\r\n  function handleUpload() {\r\n    const f_i = document.createElement('input');\r\n    f_i.setAttribute('type', 'file');\r\n    f_i.setAttribute('accept', 'image/*');\r\n\r\n    f_i.click();\r\n\r\n    f_i.addEventListener('change', () => {\r\n      if (f_i.files[0]) {\r\n        // setFile(f_i.files[0]);\r\n        // console.log({ file: f_i.files[0] })\r\n        setImgSrc(window.URL.createObjectURL(f_i.files[0]));\r\n        setModalDisp(true);\r\n      } else {\r\n        notyf.error('Invalid file');\r\n      }\r\n\r\n      f_i.removeEventListener('change', () => {});\r\n    });\r\n  }\r\n\r\n  function handleSave() {\r\n    if (u_name === null || u_name === '' || u_name.length > 60) {\r\n      notyf.error('Invalid name');\r\n    } else if (u_gender === null || u_gender === 'Choose...') {\r\n      notyf.error('Invalid gender');\r\n    } else if (u_bio === null || u_bio === '' || u_bio.length > 160) {\r\n      notyf.error('Invalid bio');\r\n    } else {\r\n      Axios.post(`${getApiLink()}/api/v1/updateUserSettings`, {\r\n        xAuthToken: auth_token,\r\n        fullname: u_name,\r\n        user_bio: u_bio,\r\n        gender: u_gender,\r\n      })\r\n        .then((doc) => {\r\n          console.log(doc);\r\n\r\n          if (doc.data.success) {\r\n            doc.data.message.token = auth_token;\r\n            console.log({ doc });\r\n            setAuth(doc.data);\r\n            notyf.success('Successfully updated profile');\r\n          } else {\r\n            notyf.error('Error occured while updating profile information');\r\n          }\r\n        })\r\n        .catch((e) => {\r\n          console.log(e);\r\n          console.log('Error while updating information');\r\n          notyf.error('Error occured while updating profile information');\r\n        });\r\n    }\r\n  }\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>Profile Settings - Devorzo</title>\r\n        <link rel=\"canonical\" href=\"https://devorzo.github.io/settings\" />\r\n      </Helmet>\r\n      <div className={props.className}>\r\n        <h3>Public Profile</h3>\r\n        <hr className=\"light\" />\r\n        <div className=\"row\">\r\n          <div className=\"col-md-4 text-center show-xs hide-md\">\r\n            <div className=\"position-relative text-center\">\r\n              <img\r\n                className={`avatar_image ${\r\n                  requireBackground ? 'with_background' : ''\r\n                }`}\r\n                onLoad={(e) => {\r\n                  const re = new RegExp('avatars.dicebear.com');\r\n                  if (!re.test(e.target.src)) setRequireBackground(false);\r\n                }}\r\n                alt=\"img\"\r\n                name=\"dp\"\r\n                src={u_dp}\r\n              />\r\n\r\n              <DropdownMenu\r\n                title={<Menu className=\"text\" />}\r\n                autoClose\r\n                autoCloseTouch\r\n                containerClassName=\"drop-btnx position-absolute px-2 py-1 right-50 bottom-0 ml-2 mb-2\"\r\n                className=\"profile-edit-btn btn-sm btn-info\"\r\n                containerStyle={\r\n                  {\r\n                    // marginRight: \"4fr\"\r\n                  }\r\n                }\r\n                menuStyle={\r\n                  {\r\n                    // transform: (window.innerWidth <= 576) ? \"translateX(-80%)\" : null\r\n                  }\r\n                }\r\n              >\r\n                <DropdownItem onClick={handleUpload}>Upload Image</DropdownItem>\r\n              </DropdownMenu>\r\n            </div>\r\n          </div>\r\n          <div className=\"col-md-8\">\r\n            <h6>Name</h6>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              name=\"name\"\r\n              placeholder=\"Full Name\"\r\n              value={u_name}\r\n              onChange={handleChange}\r\n            />\r\n            <p className=\"text-muted\">\r\n              Your name may appear around Lattice where you contribute or are\r\n              mentioned.\r\n            </p>\r\n            <br />\r\n            <h6>Username</h6>\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"@username\"\r\n              value={user_username}\r\n              disabled\r\n            />\r\n            <p className=\"text-muted\">\r\n              Your username may appear around Lattice where you contribute or\r\n              are mentioned.\r\n            </p>\r\n\r\n            <h6>Bio</h6>\r\n            <textarea\r\n              id=\"\"\r\n              cols=\"30\"\r\n              rows=\"3\"\r\n              className=\"form-control\"\r\n              name=\"bio\"\r\n              placeholder=\"Enter you Profile Bio\"\r\n              value={u_bio}\r\n              onChange={handleChange}\r\n            />\r\n\r\n            <hr className=\"darker\" />\r\n            <h6>Gender</h6>\r\n            <select\r\n              className=\"custom-select form-control\"\r\n              id=\"ig-gender\"\r\n              name=\"gender\"\r\n              onChange={handleChange}\r\n              value={u_gender}\r\n            >\r\n              <option defaultChecked>Choose...</option>\r\n              <option value=\"0\">Male</option>\r\n              <option value=\"1\">Female</option>\r\n              <option value=\"2\">Others</option>\r\n              <option value=\"-1\">Choose not to specify.</option>\r\n            </select>\r\n            <button\r\n              className=\"btn btn-primary mt-2\"\r\n              onClick={handleSave}\r\n              type=\"button\"\r\n            >\r\n              Save\r\n            </button>\r\n          </div>\r\n          <div className=\"col-md-4 text-left pl-2 hide-xs show-md\">\r\n            <div className=\"position-relative\">\r\n              <img\r\n                className={`avatar_image ${\r\n                  requireBackground ? 'with_background' : ''\r\n                }`}\r\n                onLoad={(e) => {\r\n                  const re = new RegExp('avatars.dicebear.com');\r\n                  if (!re.test(e.target.src)) setRequireBackground(false);\r\n                }}\r\n                alt=\"img\"\r\n                src={u_dp}\r\n              />\r\n\r\n              <DropdownMenu\r\n                title={<Menu className=\"text\" />}\r\n                autoClose\r\n                autoCloseTouch\r\n                containerClassName=\"drop-btnx position-absolute px-2 py-1 left-0 bottom-0 ml-2 mb-2\"\r\n                className=\"profile-edit-btn btn-sm btn-info\"\r\n                containerStyle={\r\n                  {\r\n                    // marginRight: \"4fr\"\r\n                  }\r\n                }\r\n                menuStyle={{\r\n                  transform:\r\n                    window.innerWidth <= 576 ? 'translateX(-80%)' : null,\r\n                }}\r\n              >\r\n                <DropdownItem onClick={handleUpload}>Upload Image</DropdownItem>\r\n              </DropdownMenu>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Modal\r\n        show={modalDisp}\r\n        onHide={() => {\r\n          setModalDisp(false);\r\n        }}\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Select Image</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <ReactCrop\r\n            circularCrop\r\n            keepSelection\r\n            // eslint-disable-next-line no-shadow\r\n            onComplete={(crop, percrop) => {\r\n              console.log(crop, percrop);\r\n            }}\r\n            src={imgSrc}\r\n            crop={crop}\r\n            onChange={(newCrop) => setCrop(newCrop)}\r\n            onImageLoaded={onImageLoad}\r\n          />\r\n          <br />\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <button\r\n            className=\"btn btn-secondary\"\r\n            onClick={() => {\r\n              setModalDisp(false);\r\n            }}\r\n            type=\"button\"\r\n          >\r\n            Close\r\n          </button>\r\n          <button\r\n            className=\"btn btn-primary\"\r\n            onClick={() => {\r\n              cropImage(imgRef, crop, 'file-upload.jpeg').then((blob) => {\r\n                // console.log(blob)\r\n                // setFile(blob);\r\n                setModalDisp(false);\r\n                uploadImage(new File([blob], 'file-upload.jpeg'));\r\n                // setImgSrc(window.URL.createObjectURL(blob))\r\n              });\r\n            }}\r\n            type=\"button\"\r\n          >\r\n            Select\r\n          </button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProfileSettings;\r\n","import React from 'react';\r\n\r\nconst AccountSettings = (props) => {\r\n  return (\r\n    <>\r\n      <div className={props.className}>\r\n        <h3>Account Settings</h3>\r\n        <hr className=\"light\" />\r\n\r\n        <div className=\"row\">\r\n          <div className=\"col-md-8\">This is something</div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AccountSettings;\r\n","import React from 'react';\r\nimport { LockRounded } from '@material-ui/icons';\r\n\r\nconst SecuritySettings = (props) => {\r\n  function handleSave() {\r\n    console.log('saving new password');\r\n  }\r\n  return (\r\n    <>\r\n      <div className={props.className}>\r\n        <h3>Security Settings</h3>\r\n        <hr className=\"light\" />\r\n        <div className=\"row\">\r\n          <div className=\"col-md-8\">\r\n            <br />\r\n            <h5>Change password</h5>\r\n            <hr className=\"light\" />\r\n            <h6>Old passworrd</h6>\r\n            <input\r\n              type=\"password\"\r\n              className=\"form-control\"\r\n              placeholder=\"Enter you current password\"\r\n            />\r\n\r\n            <h6 className=\"mt-3\">New password</h6>\r\n            <div className=\"row\">\r\n              <div className=\"col-md-6 mb-2\">\r\n                <input\r\n                  type=\"password\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Enter new password\"\r\n                />\r\n              </div>\r\n              <div className=\"col-md-6\">\r\n                <input\r\n                  type=\"password\"\r\n                  className=\"form-control\"\r\n                  placeholder=\"Repeat new password\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <button\r\n              className=\"btn btn-primary mt-3\"\r\n              onClick={handleSave}\r\n              type=\"button\"\r\n            >\r\n              Change password\r\n            </button>\r\n\r\n            <h5 className=\"mt-4 pt-3\">Two-factor authentication</h5>\r\n            <hr className=\"light\" />\r\n            <div className=\"text-center\">\r\n              <span className=\"mt-4 mb-2 pt-4 pb-2\">\r\n                <LockRounded\r\n                  className=\"text-muted\"\r\n                  style={{\r\n                    fontSize: '48px',\r\n                  }}\r\n                />\r\n              </span>\r\n              <h5>Two factor authentication is not enabled yet.</h5>\r\n              <p\r\n                className=\"text-muted\"\r\n                style={{\r\n                  fontSize: '14px',\r\n                }}\r\n              >\r\n                Two-factor authentication adds an additional layer of security\r\n                to your account by requiring more than just a password to log\r\n                in.\r\n              </p>\r\n\r\n              <button className=\"btn btn-success mt-4\" type=\"button\">\r\n                Enable two-factor authentication\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SecuritySettings;\r\n","/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\r\n/* TODO\r\n- refactor\r\n- proper image upload\r\n- option to delete account\r\n- working settings\r\n*/\r\n\r\nimport React, { useState, useEffect, useContext, useCallback } from 'react';\r\nimport { Nav } from 'react-bootstrap';\r\nimport 'react-image-crop/lib/ReactCrop.scss';\r\nimport { Helmet } from 'react-helmet';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCaretRight, faCaretDown } from '@fortawesome/free-solid-svg-icons';\r\nimport ProfileSettings from '../components/Settings/profile';\r\nimport AccountSettings from '../components/Settings/account';\r\nimport SecuritySettings from '../components/Settings/security';\r\n\r\nfunction showToggle(c, showMenu) {\r\n  if (c) {\r\n    return (\r\n      <span>\r\n        {showMenu === 1 ? (\r\n          <FontAwesomeIcon icon={faCaretDown} className=\"toggle-icon\" />\r\n        ) : (\r\n          <FontAwesomeIcon icon={faCaretRight} className=\"toggle-icon\" />\r\n        )}\r\n      </span>\r\n    );\r\n  }\r\n  return '';\r\n}\r\n\r\nconst Settings = () => {\r\n  const [display, setdisplay] = useState(1);\r\n\r\n  const [showMenu, setshowMenu] = useState(1);\r\n  const [useToggle, setUseToggle] = useState(0);\r\n  // eslint-disable-next-line no-restricted-globals\r\n  const w = screen.availWidth;\r\n\r\n  useEffect(() => {\r\n    if (w <= 767) {\r\n      setUseToggle(1);\r\n      setshowMenu(0);\r\n    }\r\n  }, [w]);\r\n\r\n  function setSettingsToggler() {\r\n    if (w <= 767) {\r\n      setshowMenu((showMenu + 1) % 2);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <meta charSet=\"utf-8\" />\r\n        <title>Settings - Devorzo</title>\r\n        <link rel=\"canonical\" href=\"https://devorzo.github.io/settings\" />\r\n      </Helmet>\r\n\r\n      <div className=\"settings-section\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-lg-3 mb-0 mt-3\">\r\n              <h2\r\n                className=\"noselect cursor-pointer\"\r\n                onClick={setSettingsToggler}\r\n              >\r\n                Settings&nbsp;\r\n                {/* {showToggle(useToggle, showMenu)} */}\r\n                {useToggle === 1 && showMenu === 1 && (\r\n                  <FontAwesomeIcon icon={faCaretDown} className=\"toggle-icon\" />\r\n                )}\r\n                {useToggle === 1 && showMenu === 0 && (\r\n                  <FontAwesomeIcon\r\n                    icon={faCaretRight}\r\n                    className=\"toggle-icon\"\r\n                  />\r\n                )}\r\n              </h2>\r\n\r\n              <div className={showMenu === 0 ? 'hide-sm hide-xs' : ''}>\r\n                <Nav\r\n                  variant=\"pills\"\r\n                  defaultActiveKey=\"link-1\"\r\n                  className=\"flex-column settings-nav\"\r\n                >\r\n                  <Nav.Item>\r\n                    <Nav.Link\r\n                      i={1}\r\n                      className=\"nav-btn\"\r\n                      onClick={() => {\r\n                        setdisplay(1);\r\n                      }}\r\n                      eventKey=\"link-1\"\r\n                    >\r\n                      Profile Settings\r\n                    </Nav.Link>\r\n                  </Nav.Item>\r\n                  {/* <Nav.Item>\r\n                    <Nav.Link\r\n                      i={1}\r\n                      className=\"nav-btn\"\r\n                      onClick={() => {\r\n                        setdisplay(2);\r\n                      }}\r\n                      eventKey=\"link-2\"\r\n                    >\r\n                      Account Settings\r\n                    </Nav.Link>\r\n                  </Nav.Item>\r\n                  <Nav.Item>\r\n                    <Nav.Link\r\n                      i={1}\r\n                      className=\"nav-btn\"\r\n                      onClick={() => {\r\n                        setdisplay(3);\r\n                      }}\r\n                      eventKey=\"link-3\"\r\n                    >\r\n                      Security Settings\r\n                    </Nav.Link>\r\n                  </Nav.Item> */}\r\n                </Nav>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"col-lg-9\">\r\n              {display === 1 && <ProfileSettings className=\"mt-4 pb-4\" />}\r\n              {display === 2 && <AccountSettings className=\"mt-4 pb-4\" />}\r\n              {display === 3 && <SecuritySettings className=\"mt-4 pb-4\" />}\r\n              <br />\r\n              <br />\r\n              <br />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n"],"sourceRoot":""}