{"version":3,"sources":["pages/settings.js"],"names":["ProfileSettings","props","useContext","AuthContext","user_dp","user_id","user_fullname","user_username","user_bio","user_gender","auth_token","setAuth","useState","aspect","width","crop","setCrop","modalDisp","setModalDisp","imgSrc","setImgSrc","setFile","imgRef","setImgRef","u_dp","setDp","u_name","setName","u_bio","setBio","u_gender","setGender","onImageLoad","useCallback","img","height","unit","x","y","handleChange","e","target","name","value","uploadImage","file_d","f","FormData","append","Axios","post","getApiLink","then","doc","dp","console","log","data","success","file_name","message","token","notyf","error","catch","handleUpload","f_i","document","createElement","setAttribute","click","addEventListener","files","window","URL","createObjectURL","removeEventListener","className","alt","src","title","autoClose","containerClassName","containerStyle","menuStyle","onClick","type","placeholder","onChange","disabled","id","cols","rows","defaultChecked","length","transform","innerWidth","show","onHide","Header","closeButton","Title","Body","circularCrop","keepSelection","onComplete","percrop","newCrop","onImageLoaded","Footer","image","fileName","canvas","scaleX","naturalWidth","scaleY","naturalHeight","getContext","drawImage","Promise","resolve","reject","toBlob","blob","getCroppedImg","File","AccountSettings","SecuritySettings","style","fontSize","Settings","display","setdisplay","showMenu","setshowMenu","useToggle","setUseToggle","w","screen","availWidth","useEffect","charSet","rel","href","c","icon","faCaretDown","faCaretRight","showToggle","variant","defaultActiveKey","Item","Link","i","eventKey"],"mappings":"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","file":"static/js/15.2ecedadb.chunk.js","sourcesContent":["/* TODO\r\n- refactor\r\n- proper image upload\r\n- option to delete account\r\n- working settings\r\n*/\r\n\r\nimport React, { useState, useEffect, useContext, useCallback } from 'react';\r\n\r\nimport { Nav, Dropdown } from \"react-bootstrap\"\r\n\r\nimport 'react-image-crop/lib/ReactCrop.scss';\r\nimport ReactCrop from 'react-image-crop';\r\n\r\nimport { Modal } from \"react-bootstrap\"\r\n\r\nimport DropdownMenu, { DropdownItem } from '../components/dropdown'\r\n\r\nimport { Helmet } from 'react-helmet'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n// faToggleOn, faToggleOff\r\nimport { LockRounded } from '@material-ui/icons';\r\nimport Axios from \"axios\"\r\nimport { getApiLink } from \"../lib/env.lib\"\r\n\r\nimport { faCaretRight, faCaretDown } from '@fortawesome/free-solid-svg-icons';\r\nimport { AuthContext } from \"../contexts/auth_context\"\r\n\r\nimport notyf from \"../lib/notification\"\r\n\r\nfunction getCroppedImg(image, crop, fileName) {\r\n    const canvas = document.createElement('canvas');\r\n    const scaleX = image.naturalWidth / image.width;\r\n    const scaleY = image.naturalHeight / image.height;\r\n    canvas.width = crop.width;\r\n    canvas.height = crop.height;\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    ctx.drawImage(\r\n        image,\r\n        crop.x * scaleX,\r\n        crop.y * scaleY,\r\n        crop.width * scaleX,\r\n        crop.height * scaleY,\r\n        0,\r\n        0,\r\n        crop.width,\r\n        crop.height,\r\n    );\r\n\r\n    // As Base64 string\r\n    // const base64Image = canvas.toDataURL('image/jpeg');\r\n\r\n    // As a blob\r\n    return new Promise((resolve, reject) => {\r\n        canvas.toBlob(blob => {\r\n            blob.name = fileName;\r\n            resolve(blob);\r\n        }, 'image/jpeg', 1);\r\n    });\r\n}\r\n\r\nexport const ProfileSettings = (props) => {\r\n    const { user_id, user_dp, user_fullname, user_username, user_bio, user_gender, auth_token, setAuth } = useContext(AuthContext);\r\n\r\n    // const [state, setstate] = useState(initialState)\r\n    const [crop, setCrop] = useState({\r\n        aspect: 1 / 1,\r\n        width: 1024\r\n    });\r\n\r\n    const [modalDisp, setModalDisp] = useState(false)\r\n\r\n    const [imgSrc, setImgSrc] = useState(null)\r\n    const [file, setFile] = useState(null)\r\n    const [imgRef, setImgRef] = useState(null)\r\n    const [u_dp, setDp] = useState(user_dp)\r\n    const [u_name, setName] = useState(user_fullname)\r\n    const [u_bio, setBio] = useState(user_bio)\r\n    const [u_gender, setGender] = useState(user_gender)\r\n\r\n    const onImageLoad = useCallback(img => {\r\n        setImgRef(img);\r\n\r\n        const aspect = 1 / 1;\r\n        const width = img.width / aspect < img.height * aspect ? 100 : ((img.height * aspect) / img.width) * 100;\r\n        const height = img.width / aspect > img.height * aspect ? 100 : (img.width / aspect / img.height) * 100;\r\n        const y = (100 - height) / 2;\r\n        const x = (100 - width) / 2;\r\n\r\n        setCrop({\r\n            unit: '%',\r\n            width,\r\n            height,\r\n            x,\r\n            y,\r\n            aspect,\r\n        });\r\n\r\n        // return false; // Return false if you set crop state in here.\r\n        return true\r\n    }, []);\r\n\r\n    function handleChange(e) {\r\n        if (e.target.name === \"name\") {\r\n            setName(e.target.value)\r\n        }\r\n\r\n        if (e.target.name === \"bio\") {\r\n            setBio(e.target.value)\r\n        }\r\n\r\n        if (e.target.name === \"gender\") {\r\n            setGender(e.target.value)\r\n        }\r\n    }\r\n\r\n    function saveImage(dp) {\r\n        Axios.post(`${getApiLink()}/api/v1/updateUserSettings`, {\r\n            \"xAuthToken\": auth_token,\r\n            \"profile_image_link\": dp\r\n        }).then((doc) => {\r\n            console.log(doc)\r\n\r\n            if (doc.data.success) {\r\n                setDp(dp)\r\n                doc.data.message.token = auth_token\r\n                console.log({ doc })\r\n                setAuth(doc.data)\r\n                notyf.success(\"Successfully updated image\")\r\n            } else {\r\n                notyf.error(\"Error occured while updating image\")\r\n            }\r\n        }).catch((e) => {\r\n            console.log(e)\r\n            console.log(\"Error while uploading image\")\r\n            notyf.error(\"Error occured while updating image\")\r\n        })\r\n    }\r\n\r\n    function uploadImage(file_d) {\r\n        let f = new FormData()\r\n        f.append(\"file\", file_d)\r\n        return Axios.post(`${getApiLink()}/api/v1/upload`, f, {\r\n\r\n        }).then((doc) => {\r\n            console.log(doc)\r\n\r\n            if (doc.data.success) {\r\n                saveImage(`${getApiLink()}/file/${doc.data.file_name}`)\r\n            } else {\r\n                notyf.error(\"Error occured while updating image\")\r\n            }\r\n        }).catch((e) => {\r\n            console.log(e)\r\n            console.log(\"Error while uploading image\")\r\n            return {\r\n                success: 0\r\n            }\r\n        })\r\n    }\r\n    function handleUpload() {\r\n\r\n        let f_i = document.createElement(\"input\")\r\n        f_i.setAttribute(\"type\", \"file\")\r\n        f_i.setAttribute(\"accept\", \"image/*\")\r\n\r\n        f_i.click()\r\n\r\n        f_i.addEventListener(\"change\", () => {\r\n\r\n            if (f_i.files[0]) {\r\n                setFile(f_i.files[0])\r\n                // console.log({ file: f_i.files[0] })\r\n                setImgSrc(window.URL.createObjectURL(f_i.files[0]))\r\n                setModalDisp(true)\r\n\r\n            } else {\r\n                notyf.error(\"Invalid file\")\r\n            }\r\n\r\n            f_i.removeEventListener(\"change\", () => { })\r\n        })\r\n\r\n\r\n\r\n    }\r\n\r\n    function handleSave() {\r\n\r\n        if (u_name === null || u_name === \"\" || u_name.length > 60) {\r\n            notyf.error(\"Invalid name\")\r\n        } else if (u_gender === null || u_gender === \"Choose...\") {\r\n            notyf.error(\"Invalid gender\")\r\n        } else if (u_bio === null || u_bio === \"\" || u_bio.length > 160) {\r\n            notyf.error(\"Invalid bio\")\r\n        } else {\r\n            Axios.post(`${getApiLink()}/api/v1/updateUserSettings`, {\r\n                \"xAuthToken\": auth_token,\r\n                \"fullname\": u_name,\r\n                \"user_bio\": u_bio,\r\n                \"gender\": u_gender\r\n            }).then((doc) => {\r\n                console.log(doc)\r\n\r\n                if (doc.data.success) {\r\n                    doc.data.message.token = auth_token\r\n                    console.log({ doc })\r\n                    setAuth(doc.data)\r\n                    notyf.success(\"Successfully updated profile\")\r\n                } else {\r\n                    notyf.error(\"Error occured while updating profile information\")\r\n                }\r\n            }).catch((e) => {\r\n                console.log(e)\r\n                console.log(\"Error while updating information\")\r\n                notyf.error(\"Error occured while updating profile information\")\r\n            })\r\n        }\r\n\r\n\r\n    }\r\n    return (<>\r\n\r\n        <div className={props.className}>\r\n            <h3>Public Profile</h3>\r\n            <hr className=\"light\" />\r\n            <div className=\"row\">\r\n                <div className=\"col-md-4 text-center show-xs hide-md\">\r\n\r\n                    <div className=\"position-relative text-center\">\r\n                        <img className=\"avatar_image\" alt=\"img\" name=\"dp\"\r\n                            src={u_dp} />\r\n\r\n                        {/* <Dropdown>\r\n                            <Dropdown.Toggle className=\"position-absolute profile-edit-btn btn-sm px-2 py-1 right-50 bottom-0 ml-2 mb-2\" variant=\"info\" id=\"dropdown-basic2\">\r\n                                Edit\r\n                            </Dropdown.Toggle>\r\n\r\n                            <Dropdown.Menu>\r\n                                <Dropdown.Item eventKey=\"1\" onClick={handleUpload}>Upload Image</Dropdown.Item>\r\n                             <Dropdown.Item eventKey=\"2\">Remove Image</Dropdown.Item> \r\n                            </Dropdown.Menu>\r\n                        </Dropdown> */}\r\n\r\n                        <DropdownMenu title={\"Menu\"}\r\n                            autoClose={true}\r\n                            containerClassName=\"drop-btnx position-absolute px-2 py-1 right-50 bottom-0 ml-2 mb-2\"\r\n                            className=\"profile-edit-btn btn-sm btn-info\"\r\n                            containerStyle={{\r\n                                // marginRight: \"4fr\"\r\n                            }}\r\n                            menuStyle={{\r\n                                // transform: (window.innerWidth <= 576) ? \"translateX(-80%)\" : null\r\n                            }}>\r\n                            <DropdownItem onClick={handleUpload}>Upload Image</DropdownItem>\r\n                        </DropdownMenu>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"col-md-8\">\r\n                    <h6>Name</h6>\r\n                    <input type=\"text\" className=\"form-control\" name=\"name\" placeholder=\"Full Name\" value={u_name} onChange={handleChange} />\r\n                    <p className=\"text-muted\">\r\n                        Your name may appear around Lattice where you contribute or are mentioned.\r\n                        </p>\r\n                    <br />\r\n                    <h6>Username</h6>\r\n                    <input type=\"text\" className=\"form-control\" placeholder=\"@username\" value={user_username} disabled />\r\n                    <p className=\"text-muted\">\r\n                        Your username may appear around Lattice where you contribute or are mentioned.\r\n                        </p>\r\n\r\n                    <h6>Bio</h6>\r\n                    <textarea id=\"\" cols=\"30\" rows=\"3\" className=\"form-control\" name=\"bio\"\r\n                        placeholder=\"Enter you Profile Bio\" value={u_bio} onChange={handleChange} ></textarea>\r\n\r\n                    <hr className=\"darker\" />\r\n                    <h6>Gender</h6>\r\n                    <select className=\"custom-select form-control\" id=\"ig-gender\" name=\"gender\" onChange={handleChange} value={u_gender}>\r\n                        <option defaultChecked>Choose...</option>\r\n                        <option value=\"0\">Male</option>\r\n                        <option value=\"1\">Female</option>\r\n                        <option value=\"2\">Others</option>\r\n                        <option value=\"-1\">Choose not to specify.</option>\r\n                    </select>\r\n                    <button className=\"btn btn-primary mt-2\" onClick={handleSave}>Save</button>\r\n                </div>\r\n                <div className=\"col-md-4 text-left pl-2 hide-xs show-md\">\r\n\r\n                    <div className=\"position-relative\">\r\n                        <img className=\"avatar_image\" alt=\"img\"\r\n                            src={u_dp} />\r\n\r\n                        {/* <Dropdown>\r\n                            <Dropdown.Toggle className=\"position-absolute profile-edit-btn btn-sm px-2 py-1 left-0 bottom-0 ml-2 mb-2\" variant=\"info\" id=\"dropdown-basic\">\r\n                                Edit\r\n                            </Dropdown.Toggle>\r\n\r\n                            <Dropdown.Menu>\r\n                                <Dropdown.Item eventKey=\"1\" onClick={handleUpload}>Upload Image</Dropdown.Item>\r\n                                <Dropdown.Item eventKey=\"2\">Remove Image</Dropdown.Item>\r\n                            </Dropdown.Menu>\r\n                        </Dropdown> */}\r\n\r\n                        <DropdownMenu title={\"Menu\"}\r\n                            autoClose={true}\r\n                            containerClassName=\"drop-btnx position-absolute px-2 py-1 left-0 bottom-0 ml-2 mb-2\"\r\n                            className=\"profile-edit-btn btn-sm btn-info\"\r\n                            containerStyle={{\r\n                                // marginRight: \"4fr\"\r\n                            }}\r\n                            menuStyle={{\r\n                                transform: (window.innerWidth <= 576) ? \"translateX(-80%)\" : null\r\n                            }}>\r\n                            <DropdownItem onClick={handleUpload}>Upload Image</DropdownItem>\r\n                        </DropdownMenu>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n        <Modal show={modalDisp}\r\n            onHide={(() => { setModalDisp(false) })}\r\n        >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Select Image</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <ReactCrop\r\n                    circularCrop={true}\r\n                    keepSelection={true}\r\n                    onComplete={(crop, percrop) => {\r\n                        console.log(crop, percrop)\r\n                    }}\r\n                    src={imgSrc}\r\n                    crop={crop}\r\n                    onChange={newCrop => setCrop(newCrop)}\r\n                    onImageLoaded={onImageLoad}\r\n                />\r\n                <br />\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <button className=\"btn btn-secondary\" onClick={(() => { setModalDisp(false) })}>Close</button>\r\n                <button className=\"btn btn-primary\" onClick={\r\n                    () => {\r\n                        getCroppedImg(imgRef, crop, \"file-upload.jpeg\").then((blob) => {\r\n                            // console.log(blob)\r\n                            setFile(blob)\r\n                            setModalDisp(false)\r\n                            uploadImage(new File([blob], 'file-upload.jpeg'))\r\n                            // setImgSrc(window.URL.createObjectURL(blob))\r\n\r\n                        })\r\n                    }\r\n                }>Select</button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    </>);\r\n}\r\n\r\nconst AccountSettings = (props) => {\r\n    return (<>\r\n        <div className={props.className}>\r\n            <h3>Account Settings</h3>\r\n            <hr className=\"light\" />\r\n\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8\">\r\n                    This is something\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </>);\r\n}\r\n\r\nconst SecuritySettings = (props) => {\r\n\r\n    function handleSave() {\r\n        console.log(\"saving new password\")\r\n    }\r\n    return (\r\n        <>\r\n            <div className={props.className}>\r\n                <h3>Security Settings</h3>\r\n                <hr className=\"light\" />\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-8\">\r\n                        <br />\r\n                        <h5>Change password</h5>\r\n                        <hr className=\"light\" />\r\n                        <h6>Old passworrd</h6>\r\n                        <input type=\"password\" className=\"form-control\" placeholder=\"Enter you current password\" />\r\n\r\n                        <h6 className=\"mt-3\">New password</h6>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-6 mb-2\">\r\n                                <input type=\"password\" className=\"form-control\" placeholder=\"Enter new password\" />\r\n                            </div>\r\n                            <div className=\"col-md-6\">\r\n                                <input type=\"password\" className=\"form-control\" placeholder=\"Repeat new password\" />\r\n                            </div>\r\n                        </div>\r\n                        <button className=\"btn btn-primary mt-3\" onClick={handleSave}>Change password</button>\r\n\r\n                        <h5 className=\"mt-4 pt-3\">Two-factor authentication</h5>\r\n                        <hr className=\"light\" />\r\n                        <div className=\"text-center\">\r\n\r\n                            <span className=\"mt-4 mb-2 pt-4 pb-2\"><LockRounded className=\"text-muted\" style={{\r\n                                fontSize: \"48px\"\r\n                            }} /></span>\r\n                            <h5>Two factor authentication is not enabled yet.</h5>\r\n                            <p className=\"text-muted\" style={{\r\n                                fontSize: \"14px\"\r\n                            }}>Two-factor authentication adds an additional layer of security to\r\n                                your account by requiring more than just a password to log in.</p>\r\n\r\n                            <button className=\"btn btn-success mt-4\">Enable two-factor authentication</button>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>);\r\n}\r\n\r\nfunction handleChange(display) {\r\n    if (display === 1) {\r\n        return (<ProfileSettings className=\"mt-4 pb-4\" />)\r\n    } else if (display === 2) {\r\n        return (<AccountSettings className=\"mt-4 pb-4\" />)\r\n    } else {\r\n        return (<SecuritySettings className=\"mt-4 pb-4\" />)\r\n    }\r\n}\r\n\r\nfunction showToggle(c, showMenu) {\r\n\r\n    if (c) {\r\n        return (\r\n            <span>\r\n                {/* {(showMenu === 1) ? <FontAwesomeIcon icon={faToggleOn} className=\"toggle-icon\" /> : <FontAwesomeIcon icon={faToggleOff} className=\"toggle-icon\" />} */}\r\n                {(showMenu === 1) ? <FontAwesomeIcon icon={faCaretDown} className=\"toggle-icon\" /> : <FontAwesomeIcon icon={faCaretRight} className=\"toggle-icon\" />}\r\n            </span>\r\n        )\r\n    } else {\r\n        return \"\"\r\n    }\r\n\r\n}\r\n// export default ProfileSettings;\r\nconst Settings = () => {\r\n\r\n    const [display, setdisplay] = useState(1);\r\n\r\n    const [showMenu, setshowMenu] = useState(1);\r\n    const [useToggle, setUseToggle] = useState(0);\r\n    // eslint-disable-next-line no-restricted-globals\r\n    const w = screen.availWidth;\r\n\r\n    useEffect(() => {\r\n\r\n        if (w <= 767) {\r\n            setUseToggle(1)\r\n            setshowMenu(0)\r\n        }\r\n\r\n    }, [w])\r\n\r\n    function setStateProfile(e) {\r\n        // console.log(\"1\")\r\n        setdisplay(1)\r\n    }\r\n\r\n    function setStateAccount(e) {\r\n        // console.log(\"2\")\r\n        setdisplay(2)\r\n    }\r\n\r\n    function setStateSecurity(e) {\r\n        // console.log(\"3\")\r\n        setdisplay(3)\r\n    }\r\n\r\n    function setSettingsToggler() {\r\n        if (w <= 767) {\r\n            setshowMenu((showMenu + 1) % 2)\r\n        }\r\n    }\r\n\r\n\r\n    return (<>\r\n        <Helmet>\r\n            <meta charSet=\"utf-8\" />\r\n            <title>Settings - Devorzo</title>\r\n            <link rel=\"canonical\" href=\"https://devorzo.github.io/settings\" />\r\n        </Helmet>\r\n        <div className=\"settings-section\">\r\n            <div className=\"container\">\r\n\r\n                <div className=\"row\">\r\n\r\n\r\n                    <div className=\"col-lg-3 mb-0 mt-3\">\r\n\r\n                        <h2 className=\"noselect cursor-pointer\" onClick={setSettingsToggler}>Settings&nbsp;\r\n                        {showToggle(useToggle, showMenu)}\r\n                        </h2>\r\n\r\n                        <div className={(showMenu === 0) ? \"hide-sm hide-xs\" : \"\"}>\r\n                            <Nav variant=\"pills\" defaultActiveKey=\"link-1\" className=\"flex-column settings-nav\">\r\n                                <Nav.Item>\r\n                                    <Nav.Link i={1} className=\"nav-btn\" onClick={setStateProfile} eventKey=\"link-1\">Profile Settings</Nav.Link>\r\n                                </Nav.Item>\r\n                                {/* <Nav.Item>\r\n                                    <Nav.Link i={1} className=\"nav-btn\" onClick={setStateAccount} eventKey=\"link-2\">Account Settings</Nav.Link>\r\n                                </Nav.Item>\r\n                                <Nav.Item>\r\n                                    <Nav.Link i={1} className=\"nav-btn\" onClick={setStateSecurity} eventKey=\"link-3\">Security Settings</Nav.Link>\r\n                                </Nav.Item> */}\r\n                            </Nav>\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n\r\n                    <div className=\"col-lg-9\">\r\n                        {handleChange(display)}\r\n                        <br />\r\n                        <br />\r\n                        <br />\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div >\r\n    </>\r\n\r\n    );\r\n}\r\n\r\nexport default Settings;"],"sourceRoot":""}