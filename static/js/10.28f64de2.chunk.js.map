{"version":3,"sources":["images/i1.png","pages/login.js"],"names":["module","exports","Login","props","useContext","AuthContext","isLoggedIn","setAuth","useState","email","setEmail","password","setPassword","handleChange","e","n","target","name","v","value","to","className","style","backgroundColor","color","onChange","type","id","aria-describedby","placeholder","htmlFor","onClick","preventDefault","data","test","validateEmail","length","notyf","error","Axios","post","getApiLink","then","response","success","catch","err","message","href"],"mappings":"0GAAAA,EAAOC,QAAU,IAA0B,gC,mICyM5BC,UAvLD,SAACC,GAAW,IAAD,EACSC,qBAAWC,KAAnCC,EADe,EACfA,WAAYC,EADG,EACHA,QADG,EAGGC,mBAAS,IAHZ,mBAGhBC,EAHgB,KAGTC,EAHS,OAISF,mBAAS,IAJlB,mBAIhBG,EAJgB,KAINC,EAJM,KAMvB,SAASC,EAAaC,GAGpB,IAAMC,EAAID,EAAEE,OAAOC,KACbC,EAAIJ,EAAEE,OAAOG,MACT,UAANJ,EACFL,EAASQ,GACM,aAANH,GACTH,EAAYM,GA8ChB,OAAKZ,EAqHH,oCACE,kBAAC,IAAD,CAAUc,GAAG,OApHb,oCACE,yBAAKC,UAAU,aACb,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,gCACb,yBACEA,UAAU,0CACVC,MAAO,CAAEC,gBAAiB,UAAWC,MAAO,YAE5C,yBAAKH,UAAU,iBACb,yBAAKA,UAAU,OAMb,yBAAKA,UAAU,aACf,yBAAKA,UAAU,YACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,uCACb,yBAAKA,UAAU,eACb,wBAAIA,UAAU,OAAOC,MAAO,CAAEE,MAAO,YAArC,kBAIF,0BAAMH,UAAU,QACd,yBAAKA,UAAU,cACb,2BACEA,UAAU,iCACVI,SAAUZ,EACVa,KAAK,QACLC,GAAG,oBACHC,mBAAiB,YACjBC,YAAY,yBACZZ,KAAK,QACLK,MAAO,MAIX,yBAAKD,UAAU,cACb,2BACEA,UAAU,iCACVI,SAAUZ,EACVa,KAAK,WACLC,GAAG,uBACHE,YAAY,WACZZ,KAAK,WACLK,MAAO,MAGX,yBAAKD,UAAU,cACb,yBAAKA,UAAU,8BACb,yBAAKA,UAAU,cACb,2BACEA,UAAU,wCACVK,KAAK,WACLC,GAAG,gBAEL,2BACEG,QAAQ,cACRT,UAAU,yCAFZ,kBASN,4BACEA,UAAU,gDACVK,KAAK,SACLJ,MAAO,GACPS,QAlH5B,SAAsBjB,GACpBA,EAAEkB,iBAEF,IAAMC,EAAO,CACXxB,QACAE,YAGY,KAAVF,GA/Bc,SAACA,GAErB,MADW,4JACDyB,KAAKzB,GA6BQ0B,CAAc1B,GAKlB,KAAbE,GAAmBA,EAASyB,OAAS,EACvCC,IAAMC,MAAM,oBAIdC,IAAMC,KAAN,UAAcC,cAAd,UAAoCR,GACjCS,MAAK,SAACC,GAILN,IAAMO,QAAQ,2BAEVD,EAASV,KAAKW,SAChBrC,EAAQoC,EAASV,SAGpBY,OAAM,SAACC,GAIkC,OAApCA,EAAIH,SAASV,KAAKK,MAAMS,QAC1BV,IAAMC,MAAN,UAAeQ,EAAIH,SAASV,KAAKK,MAAMS,UAEvCV,IAAMC,MAAM,YA3BhBD,IAAMC,MAAM,mBAqGU,UAkBF,yBAAKjB,UAAU,oBACb,uBACEA,UAAU,QACV2B,KAAK,uBACL1B,MAAO,CAAEE,MAAO,YAHlB,qBAQF,yBAAKH,UAAU,qBACb,kBAAC,IAAD,CACEA,UAAU,QACVD,GAAG,YACHE,MAAO,CAAEE,MAAO,YAHlB","file":"static/js/10.28f64de2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/i1.843d2b1c.png\";","/* eslint-disable jsx-a11y/label-has-associated-control */\n/* eslint-disable jsx-a11y/label-has-for */\n/* eslint-disable no-useless-escape */\nimport React, { useState, useContext } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport Axios from 'axios';\nimport img1 from '../images/i1.png';\n\nimport { AuthContext } from '../contexts/auth_context';\nimport notyf from '../lib/notification';\n\nimport { getApiLink } from '../lib/env.lib';\n\nconst validateEmail = (email) => {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(email);\n};\n\nconst Login = (props) => {\n  const { isLoggedIn, setAuth } = useContext(AuthContext);\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleChange(e) {\n    // console.log(e.target.name, e.target.value)\n\n    const n = e.target.name;\n    const v = e.target.value;\n    if (n === 'email') {\n      setEmail(v);\n    } else if (n === 'password') {\n      setPassword(v);\n    }\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    const data = {\n      email,\n      password,\n    };\n\n    if (email === '' || !validateEmail(email)) {\n      notyf.error('Invalid email');\n      return;\n    }\n\n    if (password === '' || password.length < 6) {\n      notyf.error('Invalid password');\n      return;\n    }\n\n    Axios.post(`${getApiLink()}/login`, data)\n      .then((response) => {\n        // console.log(getApiLink())\n        // console.log(response)\n        // alert(response)\n        notyf.success('Logged in successfully!');\n\n        if (response.data.success) {\n          setAuth(response.data);\n        }\n      })\n      .catch((err) => {\n        // alert(e)\n        // console.log({ response: e.response })\n\n        if (err.response.data.error.message !== null) {\n          notyf.error(`${err.response.data.error.message}`);\n        } else {\n          notyf.error('Error');\n        }\n      });\n    // alert(name + \" \" + username + \" \" + email + \" \" + password + \" \" + confpassword)\n  }\n\n  if (!isLoggedIn) {\n    return (\n      <>\n        <div className=\"container\">\n          <div className=\"row justify-content-center\">\n            <div className=\"col-md-9 col-lg-12 col-xl-10\">\n              <div\n                className=\"card shadow-lgx o-hidden border-0 my-5x\"\n                style={{ backgroundColor: 'inherit', color: 'inherit' }}\n              >\n                <div className=\"card-body p-0\">\n                  <div className=\"row\">\n                    {/* <div className=\"col-lg-6 d-none d-lg-flex\" style={{ backgroundColor: \"inherit\", color: \"inherit\" }}>\n                                            \n                                            <img alt=\"img\" src={img1}\n                                                style={{ height: \"400px\", marginTop: \"87px\", marginRight: \"6px\", paddingRight: \"-7px\", paddingTop: \"1px\", paddingLeft: \"0px\", marginLeft: \"12px\" }} />\n                                        </div> */}\n                    <div className=\"col-lg-3\" />\n                    <div className=\"col-lg-6\">\n                      <div className=\"custom-card2 mt-4 p-2 \">\n                        <div className=\"pt-4 p-md-5 pl-sm-0 pr-sm-0 pt-sm-5\">\n                          <div className=\"text-center\">\n                            <h4 className=\"mb-4\" style={{ color: 'inherit' }}>\n                              Welcome Back!\n                            </h4>\n                          </div>\n                          <form className=\"user\">\n                            <div className=\"form-group\">\n                              <input\n                                className=\"form-control form-control-user\"\n                                onChange={handleChange}\n                                type=\"email\"\n                                id=\"exampleInputEmail\"\n                                aria-describedby=\"emailHelp\"\n                                placeholder=\"Enter Email Address...\"\n                                name=\"email\"\n                                style={{}}\n                              />\n                            </div>\n\n                            <div className=\"form-group\">\n                              <input\n                                className=\"form-control form-control-user\"\n                                onChange={handleChange}\n                                type=\"password\"\n                                id=\"exampleInputPassword\"\n                                placeholder=\"Password\"\n                                name=\"password\"\n                                style={{}}\n                              />\n                            </div>\n                            <div className=\"form-group\">\n                              <div className=\"pl-2 custom-checkbox small\">\n                                <div className=\"form-check\">\n                                  <input\n                                    className=\"form-check-input custom-control-input\"\n                                    type=\"checkbox\"\n                                    id=\"formCheck-1\"\n                                  />\n                                  <label\n                                    htmlFor=\"formCheck-1\"\n                                    className=\"form-check-label custom-control-label\"\n                                  >\n                                    Remember Me\n                                  </label>\n                                </div>\n                              </div>\n                            </div>\n                            <button\n                              className=\"btn btn-primary btn-block text-white btn-user\"\n                              type=\"submit\"\n                              style={{}}\n                              onClick={handleSubmit}\n                            >\n                              Login\n                            </button>\n                            {/* <hr /> */}\n                            {/* <a className=\"btn btn-primary btn-block text-white btn-google btn-user\"\n                                                            role=\"button\" style={{}} href=\"#btn\">\n                                                            <i\n                                                                className=\"fab fa-google\"></i>&nbsp; Login with Google</a><a href=\"#btn\"\n                                                                    className=\"btn btn-primary btn-block text-white btn-facebook btn-user\"\n                                                                    role=\"button\" style={{}}><i\n                                                                        className=\"fab fa-facebook-f\"></i>&nbsp; Login with Facebook</a>\n                                                        <hr /> */}\n                          </form>\n                          <div className=\"text-center mt-5\">\n                            <a\n                              className=\"small\"\n                              href=\"forgot-password.html\"\n                              style={{ color: 'inherit' }}\n                            >\n                              Forgot Password?\n                            </a>\n                          </div>\n                          <div className=\"text-center mt-3x\">\n                            <Link\n                              className=\"small\"\n                              to=\"/register\"\n                              style={{ color: 'inherit' }}\n                            >\n                              Create an Account!\n                            </Link>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n  return (\n    <>\n      <Redirect to=\"/\" />\n    </>\n  );\n};\n\nexport default Login;\n"],"sourceRoot":""}