(this.webpackJsonpmajor_project_ui=this.webpackJsonpmajor_project_ui||[]).push([[0],{115:function(e,t,a){e.exports=a(179)},120:function(e,t,a){},121:function(e,t,a){},123:function(e,t,a){},124:function(e,t){},179:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(30),c=a.n(r),s=(a(120),a(11)),o=(a(121),a(122),a(123),a(18)),i=a(20),m=a(21),u=a(22),d=a(29),p=a(27),g=a(14),E=a.n(g),b=a(87),h=a.n(b);function v(){var e=E.a.box.keyPair();return{publicKey:E.a.util.encodeBase64(e.publicKey),privateKey:E.a.util.encodeBase64(e.secretKey)}}function f(e,t,a){var n=E.a.util.decodeBase64(t),l=E.a.util.decodeBase64(a),r=E.a.randomBytes(24),c=E.a.util.decodeUTF8(e),s=E.a.box(c,r,n,l),o=new Uint8Array(r.length+s.length);return o.set(r),o.set(c,r.length),E.a.util.encodeBase64(o)}function N(e,t,a){var n=E.a.util.decodeBase64(t),l=E.a.util.decodeBase64(a),r=E.a.util.decodeBase64(e),c=r.slice(0,24),s=r.slice(24,e.length),o=E.a.box(s,c,n,l),i=E.a.box.open(o,c,n,l);return E.a.util.encodeUTF8(i)}E.a.util=h.a;var y=function(){function e(){Object(i.a)(this,e)}return Object(m.a)(e,null,[{key:"getStorage",value:function(e){var t=e.public_key,a=e.private_key,n=window.localStorage.getItem("storage");if(void 0===n||null===n||""===n)return null;try{return JSON.parse(N(n,t,a).replace(/\u0000/g,""))}catch(l){return console.log(l),null}}},{key:"getItem",value:function(e,t){var a=t.public_key,n=t.private_key,l=window.localStorage.getItem("storage"),r={};if(void 0===l||null===l||""===l)return null;try{return(r=JSON.parse(N(l,a,n).replace(/\u0000/g,"")))[e]?r[e]:null}catch(c){return console.log(c),null}}},{key:"setItem",value:function(e,t,a){var n=a.public_key,l=a.private_key,r=window.localStorage.getItem("storage"),c={};if(void 0===r||null===r||""===r)null!=e&&void 0!=e&&e&&t&&(c[e]=t,c.storage_update=Date.now());else try{(c=JSON.parse(N(r,n,l).replace(/\u0000/g,"")))[e]=t,c.storage_update=Date.now()}catch(o){c[e]=t,c.storage_update=Date.now(),console.log(o)}var s=f(JSON.stringify(c),n,l);window.localStorage.setItem("storage",s)}},{key:"clear",value:function(e){var t=e.public_key,a=e.private_key,n={};n.storage_update=Date.now();var l=f(JSON.stringify(n),t,a);window.localStorage.setItem("storage",l)}}]),e}(),k=Object(n.createContext)(),_=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(i.a)(this,a),n=t.call(this,e);var l=v(),r={private_key:l.privateKey,public_key:l.publicKey};return n.state={keys:r},console.log(n.state.keys,r),n.randomizeKeys=n.randomizeKeys.bind(Object(u.a)(n)),n.setKeys=n.setKeys.bind(Object(u.a)(n)),n.getItem=n.getItem.bind(Object(u.a)(n)),n.setItem=n.setItem.bind(Object(u.a)(n)),n.getStorage=n.getStorage.bind(Object(u.a)(n)),n.clearStorage=n.clearStorage.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"setKeys",value:function(e){this.setState({keys:{public_key:e.public_key,private_key:e.private_key}})}},{key:"randomizeKeys",value:function(){var e=v();return this.setState({keys:{public_key:e.public_key,private_key:e.private_key}}),this.state.keys}},{key:"getItem",value:function(e){return y.getItem(e,this.state.keys)}},{key:"setItem",value:function(e,t){return y.setItem(e,t,this.state.keys)}},{key:"getStorage",value:function(){return y.getStorage(this.state.keys)}},{key:"clearStorage",value:function(){y.clear(this.state.keys)}},{key:"render",value:function(){return l.a.createElement(k.Provider,{value:Object(o.a)({},this.state,{setKeys:this.setKeys,randomizeKeys:this.randomizeKeys,getItem:this.getItem,setItem:this.setItem,getStorage:this.getStorage,clearStorage:this.clearStorage})},this.props.children)}}]),a}(n.Component),w=Object(n.createContext)();function x(){var e,t=window.localStorage.getItem("theme");return console.log({theme:t}),null==t||void 0===t?(console.log("theme is not defined"),window.localStorage.setItem("theme","1"),e=1):e="1"===t?1:"2"===t?2:0,1===e?(document.body.setAttribute("class","t1"),l.a.lazy((function(){return a.e(4).then(a.t.bind(null,215,7))}))):2===e?document.body.setAttribute("class","t2"):(document.body.setAttribute("class","t3"),l.a.lazy((function(){return a.e(3).then(a.t.bind(null,216,7))}))),console.log({r:e}),e}var O=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={isLightTheme:x(),light:{styles:{background:"#fff"}},dark:{styles:{background:"#000"}}},e.toggleTheme=function(){console.log("Theme changed"),console.log({isLightTheme_before:e.state.isLightTheme}),e.setState({isLightTheme:(e.state.isLightTheme+1)%2})},e}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(){this.saveTheme()}},{key:"saveTheme",value:function(){1===this.state.isLightTheme?(document.body.setAttribute("class","t1"),window.localStorage.setItem("theme","1")):2===this.state.isLightTheme?(document.body.setAttribute("class","t2"),window.localStorage.setItem("theme","2")):0===this.state.isLightTheme&&(document.body.setAttribute("class","t3"),window.localStorage.setItem("theme","0")),console.log({isLightTheme:this.state.isLightTheme})}},{key:"render",value:function(){return l.a.createElement(w.Provider,{value:Object(o.a)({},this.state,{toggleTheme:this.toggleTheme})},this.props.children)}}]),a}(n.Component),j=a(8),S=a.n(j),C=new(a(88).a)({x:"right",y:"bottom",types:[{type:"warn",background:"orange",icon:{className:"material-icons",tagName:"i",text:"warning"}}]}),A=Object(n.createContext)();var I=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(i.a)(this,a),n=t.call(this,e);var l=function(){var e,t=null;return e=null==(t=window.localStorage.getItem("auth"))||void 0===t||""===t?{AuthState:!1,auth_token:"",user_id:"",user_email:"",user_email_verified:0,user_fullname:"",user_username:"",user_dp:"",user_bio:"",user_account_type:0,user_gender:-1}:{AuthState:""!==(t=JSON.parse(t)).auth_token,auth_token:t.auth_token,user_id:t.user_id,user_email:t.user_email,user_email_verified:t.user_email_verified,user_fullname:t.user_fullname,user_username:t.user_username,user_dp:t.user_dp,user_bio:t.user_bio,user_account_type:t.user_account_type,user_gender:t.user_gender},window.localStorage.setItem("auth",JSON.stringify(e)),window.localStorage.setItem("cache-update",Date.now()),e}();return n.state={isLoggedIn:l.AuthState,auth_token:l.auth_token,user_id:l.user_id,user_email:l.user_email,user_email_verified:l.user_email_verified,user_fullname:l.user_fullname,user_username:l.user_username,user_dp:l.user_dp,user_bio:l.user_bio,user_account_type:l.user_account_type,user_gender:l.user_gender},n.setAuth=n.setAuth.bind(Object(u.a)(n)),n.removeAuth=n.removeAuth.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(){this.saveAuth()}},{key:"saveAuth",value:function(){var e={AuthState:this.state.AuthState,auth_token:this.state.auth_token,user_id:this.state.user_id,user_email:this.state.user_email,user_email_verified:this.state.user_email_verified,user_fullname:this.state.user_fullname,user_username:this.state.user_username,user_dp:this.state.user_dp,user_bio:this.state.user_bio,user_account_type:this.state.user_account_type,user_gender:this.state.user_gender};window.localStorage.setItem("auth",JSON.stringify(e)),window.localStorage.setItem("cache-update",Date.now())}},{key:"setAuth",value:function(e){e.success&&this.setState({isLoggedIn:!0,auth_token:e.message.token,user_id:e.message.user.user_id,user_email:e.message.user.email,user_email_verified:e.message.user.email_verified,user_fullname:e.message.user.details.fullname,user_username:e.message.user.details.username,user_dp:e.message.user.details.profile_image_link,user_bio:e.message.user.details.user_bio,user_account_type:e.message.user.details.account_type,user_gender:e.message.user.details.gender})}},{key:"removeAuth",value:function(){window.localStorage.removeItem("auth"),window.localStorage.setItem("cache-update",Date.now()),this.setState({isLoggedIn:!1,auth_token:"",user_id:"",user_email:"",user_email_verified:0,user_fullname:"",user_username:"",user_dp:"",user_bio:"",user_account_type:0,user_gender:-1}),S.a.post("".concat("https://lattice-api-eu.herokuapp.com","/logout"),{xAuthToken:this.state.auth_token}).then((function(e){C.success("Logged out successfully!")})).catch((function(e){C.error("Error occured while logging out "+e.response)}))}},{key:"render",value:function(){var e=this.context,t=e.keys,a=e.setItem,n=e.getItem,r=e.getStorage;console.log({keys:t}),a("hey","1234 this is new with context");var c=n("hey"),s=r();return console.log({h:c,s:s}),l.a.createElement(A.Provider,{value:Object(o.a)({},this.state,{setAuth:this.setAuth,removeAuth:this.removeAuth})},this.props.children)}}]),a}(n.Component);I.contextType=k;var F=I,L=a(41),T=a.n(L),B=a(49),R=a(89),D=a.n(R);var K=function(e){return function(t){Object(d.a)(n,t);var a=Object(p.a)(n);function n(e){var t;return Object(i.a)(this,n),(t=a.call(this,e)).state={loading:!0},t}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=Object(B.a)(T.a.mark((function e(){var t=this;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{setTimeout((function(){document.body.classList.remove("loading"),t.setState({loading:!1})}),1500)}catch(a){console.log(a),this.setState({loading:!1})}case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?l.a.createElement("div",{className:"splash-screen",style:{width:"100vw",height:"100vh",display:"flex",textAlign:"center",justifyContent:"center",alignItems:"center",verticalAlign:"middle",background:"#18191a"}},l.a.createElement("img",{src:D.a,alt:"",style:{width:"300px",height:"300px"}})):l.a.createElement(e,this.props)}}]),n}(n.Component)},P=a(3),U=function(e){var t=screen.availWidth,a=Object(n.useState)(!0),r=Object(P.a)(a,2),c=r[0],s=r[1];function o(e){var a,n=e.xs,l=e.sm,r=e.md,c=e.lg,s=e.xl;return t<576?a=!0===n:t>=576&&t<768?a=!0===l:t>=768&&t<992?a=!0===r:t>=992&&t<1200?a=!0===c:t>=1200&&(a=!0===s),a}return Object(n.useEffect)((function(){console.log("c after compute",o(e)),s(o(e))}),[]),console.log({props:e}),console.log("render breakpoint"),console.log({res:c||!!e.show,show:c,propsShow:e.show}),l.a.createElement(l.a.Fragment,null,c||e.show?e.children:l.a.createElement(l.a.Fragment,null))},z=a(5),W=function(e){return"link"==e.type?l.a.createElement(l.a.Fragment,null,l.a.createElement(z.b,{to:e.to,className:"unset"},l.a.createElement("div",{className:"cs-dropdown-item ".concat(e.className?e.className:""),style:Object(o.a)({},e.style,{paddingLeft:e.icon?"2px":"18px"})},l.a.createElement("span",{style:{fontSize:"16px",paddingRight:e.icon?"6px":"0px"}},e.icon),e.children))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"cs-dropdown-item ".concat(e.className?e.className:""),style:Object(o.a)({},e.style,{paddingLeft:e.icon?"2px":"18px"}),onClick:e.onClick?e.onClick:null},l.a.createElement("span",{style:{fontSize:"16px",paddingRight:e.icon?"6px":"0px"}},e.icon),e.children))},J=function(e){var t=Object(n.useState)(!1),a=Object(P.a)(t,2),r=a[0],c=a[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"cs-dropdown-container ".concat(e.containerClassName?e.containerClassName:""),onMouseLeave:function(){e.autoClose&&c(!1)}},l.a.createElement("div",{className:"cs-dropdown-btn ".concat(e.className?e.className:""," ").concat(e.addActiveClass&&r?"active":""),onClick:function(){c(!r)},style:Object(o.a)({},e.style)},e.title),function(){if(r&&e.children)return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"cs-dropdown-menu ".concat(e.menuClassName?e.menuClassName:""),onClick:function(){c(!r)},style:Object(o.a)({},e.menuStyle)},e.children))}()))},M=a(195),H=a(196),q=a(197),Y=a(198),V=a(199),$=a(200),Z=a(201),G=a(202),X=a(203),Q=a(204),ee=a(205),te=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ae(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ne=function(e){var t,a=Object(n.useContext)(w),r=a.toggleTheme,c=a.isLightTheme;t=1===c?l.a.createElement(M.a,{className:"sun-icon"}):2===c?l.a.createElement(H.a,{className:"moon-icon"}):l.a.createElement(q.a,{className:"dark-moon-icon"});var s=e.className+" nav-link ";return l.a.createElement("div",{className:s,onClick:r,style:{width:"1rem"}},t)},le=function(e){var t=Object(n.useState)("light"),a=Object(P.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)("light"),o=Object(P.a)(s,2),i=o[0],m=o[1],u=Object(n.useState)(0),d=Object(P.a)(u,2),p=d[0],g=d[1],E=Object(n.useContext)(w).isLightTheme,b=Object(n.useContext)(A),h=(b.setAuth,b.removeAuth),v=b.isLoggedIn,f=b.user_dp,N=b.user_fullname,y=b.user_username;function k(){}function _(){h(),g((p+1)%2)}function x(){g((p+1)%2)}function O(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),window.localStorage.clear(),window.location.reload(),x()}Object(n.useEffect)((function(){1===E?(c(null),m("light")):(c("dark"),m("dark"))}),[E]);var j="navbar navbar-expand-md bg-".concat(r," navbar-").concat(i),S="side-nav ".concat(1===p?"opened":"");return l.a.createElement(l.a.Fragment,null,l.a.createElement(U,{xs:!0,sm:!0},l.a.createElement("div",{className:"nav-side-container noselect"},l.a.createElement("div",{className:S},l.a.createElement("div",{className:"contents"},l.a.createElement("div",{className:"content-block"},l.a.createElement("div",{className:"n-u-container pb-4 pl-4 pr-4 pt-3"},v?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"m-0 mr-auto p-0",onClick:x},l.a.createElement(Y.a,{style:{fontSize:"40px"}})),l.a.createElement("img",{className:"n-avatar-image mt-0 ml-auto mr-auto mb-0",src:f,alt:"user"}),l.a.createElement("span",{className:"n-name"},N),l.a.createElement("span",{className:"n-username"},"@",y),l.a.createElement("span",{className:"n-items"},l.a.createElement(z.b,{className:"l-item",onClick:x,to:"/"},"Home"),l.a.createElement(z.b,{className:"l-item",onClick:x,to:"/about"},"About"),l.a.createElement(z.b,{className:"l-item",onClick:x,to:"/dashboard"},"Dashboard"),l.a.createElement(z.b,{className:"l-item",onClick:x,to:"/"},"Bookmarks")),l.a.createElement("span",{className:"n-items n-b-items mt-auto"},l.a.createElement("a",{href:"#unregister",className:"l-item",onClick:O},"Reset App Cache"),l.a.createElement(z.b,{className:"l-item",onClick:x,to:"/settings"},"Settings"),l.a.createElement("a",{href:"#logout",className:"logout",onClick:_},"Logout"))):l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"n-items"},l.a.createElement(z.b,{className:"l-item",onClick:x,to:"/"},"Home"),l.a.createElement(z.b,{className:"l-item",onClick:x,to:"/about"},"About"),l.a.createElement(z.b,{className:"l-item",onClick:x,to:"/login"},"Login")))))),l.a.createElement("div",{className:"closer",onClick:x})))),l.a.createElement("div",{className:"nav-custom-container fixed-top"},l.a.createElement("div",{className:"container"},l.a.createElement("nav",{className:j},l.a.createElement(z.b,{className:"navbar-brand ml-auto mr-auto hide-xs hide-sm show-md",to:"/"},"Lattice"),l.a.createElement("span",{className:"show-xs show-sm hide-md",style:{width:"60px"}},l.a.createElement("span",{className:"cs-nav-toggler collapsed",onClick:x},l.a.createElement(V.a,{style:{fontSize:"30px"}}))),l.a.createElement(z.b,{className:"navbar-brand text-center show-xs show-sm hide-md ml-auto mr-auto p-0",to:"/"},"Lattice"),l.a.createElement("span",{className:"show-xs show-sm hide-md",style:{width:"60px"}},l.a.createElement(ne,{className:"show-xs show-sm hide-md ml-auto p-0"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("form",{className:"form-inline search-box text-center m-auto"},l.a.createElement("input",{className:"form-control",type:"search",placeholder:"Search","aria-label":"Search"}),l.a.createElement($.a,{className:"search-icon"})),l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement(ne,{className:"hide-xs hide-sm show-md mr-4"}),l.a.createElement(z.c,{onClick:k,to:"/about",className:"nav-link nav-btn"},l.a.createElement(Z.a,null)),v?l.a.createElement(l.a.Fragment,null,l.a.createElement(z.c,{onClick:k,to:"/dashboard",className:"nav-link nav-btn"},l.a.createElement(G.a,null)),l.a.createElement(J,{title:l.a.createElement(X.a,{style:{}}),autoClose:!0,addActiveClass:!0,className:"nav-btn dropdown-toggle nav-link last",containerClassName:"nav-btnx dropdown nav-item last"},l.a.createElement(W,{type:"link",to:"/settings",icon:l.a.createElement(Q.a,null)},"Settings"),l.a.createElement("hr",{className:"light p-0 m-0"}),l.a.createElement(W,{className:"logout",icon:l.a.createElement(ee.a,null),onClick:_},"Logout"))):l.a.createElement(z.c,{onClick:k,to:"/login",className:"nav-link"},"Login")))))))},re=a(206),ce=a(207),se=a(208),oe=function(e){var t=Object(n.useContext)(A).isLoggedIn,a=l.a.useState(1),r=Object(P.a)(a,2),c=r[0],s=r[1];function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return 1===e?1===c?l.a.createElement(re.a,{className:"bt-nav__icon active"}):l.a.createElement(re.a,{className:"bt-nav__icon"}):2===e?2===c?l.a.createElement($.a,{className:"bt-nav__icon active"}):l.a.createElement($.a,{className:"bt-nav__icon"}):3===e?3===c?l.a.createElement(ce.a,{className:"bt-nav__icon active"}):l.a.createElement(ce.a,{className:"bt-nav__icon"}):4===e?4===c?l.a.createElement(se.a,{className:"bt-nav__icon active"}):l.a.createElement(se.a,{className:"bt-nav__icon"}):void 0}function i(e){s(e)}return t?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"bt-nav"},l.a.createElement("div",{className:"bt-tabs"},l.a.createElement("ul",{className:"bt-nav__ul ml-4 mr-4"},l.a.createElement("li",{className:"bt-nav__item",onClick:function(){i(1)}},l.a.createElement(z.b,{to:"/",className:"bt-nav__link"},o(1))),l.a.createElement("li",{className:"bt-nav__item",onClick:function(){i(3)}},l.a.createElement(z.b,{to:"/newArticle",className:"bt-nav__link"},o(3))),l.a.createElement("li",{className:"bt-nav__item",onClick:function(){i(4)}},l.a.createElement(z.b,{to:"/dashboard",className:"bt-nav__link"},o(4))))))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"bt-nav"},l.a.createElement("div",{className:"bt-tabs"},l.a.createElement("ul",{className:"bt-nav__ul ml-4 mr-4"},l.a.createElement("li",{className:"bt-nav__item",onClick:function(){i(1)}},l.a.createElement(z.b,{to:"/",className:"bt-nav__link"},o(1))),l.a.createElement("li",{className:"bt-nav__item",onClick:function(){i(4)}},l.a.createElement(z.b,{to:"/login",className:"bt-nav__link"},o(4)))))))},ie=a(15),me=a.n(ie),ue=a(212);function de(e){return function(e){var t=(16777215&e).toString(16).toUpperCase();return"00000".substring(0,6-t.length)+t}(function(e){for(var t=0,a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<5)-t);return t}(e))}function pe(e,t){return t=t||2,(new Array(t).join("0")+e).slice(-t)}function ge(e,t){if(0===e.indexOf("#")&&(e=e.slice(1)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),6!==e.length)throw new Error("Invalid HEX color.");var a=parseInt(e.slice(0,2),16),n=parseInt(e.slice(2,4),16),l=parseInt(e.slice(4,6),16);return t?.299*a+.587*n+.114*l>186?"#000000":"#FFFFFF":(a=(255-a).toString(16),n=(255-n).toString(16),l=(255-l).toString(16),"#"+pe(a)+pe(n)+pe(l))}var Ee=a(31),be=a(62),he=a(38),ve=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"dots noselect"},l.a.createElement("div",{className:"dot"},"."),l.a.createElement("div",{className:"dot"},"."),l.a.createElement("div",{className:"dot"},".")))}}]),a}(n.Component),fe=a(209);function Ne(e){return e?l.a.createElement(Ee.a,{icon:he.e,className:"action-icon"}):l.a.createElement(Ee.a,{icon:be.c,className:"action-icon"})}function ye(e){return e?l.a.createElement(Ee.a,{icon:he.a,className:"action-icon"}):l.a.createElement(Ee.a,{icon:be.a,className:"action-icon"})}var ke=function(e){var t=Object(n.useState)(!1),a=Object(P.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(!1),o=Object(P.a)(s,2),i=o[0],m=o[1],u=Object(n.useState)(!1),d=Object(P.a)(u,2),p=d[0],g=d[1];console.log({p_from_card:e});var E=ye(i),b=Ne(r);var h=Object(n.useContext)(A).user_id;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"user-info-c pl-2 pr-2 pb-2"},l.a.createElement("div",{className:"user-image-c hide-xs_x show-sm_x pr-2"},l.a.createElement(z.b,{className:"unset",to:"/@".concat(e.data.user.username)},l.a.createElement("img",{src:e.data.user.imageLink,alt:"user",className:"user-image",style:{backgroundColor:"white"}}))),l.a.createElement("div",{className:"user-info"},l.a.createElement(z.b,{className:"unset",to:"/@".concat(e.data.user.username)},l.a.createElement("span",{className:"u-name d-block"},e.data.user.name),l.a.createElement("span",{className:"u-username d-inline-block"},"@",e.data.user.username))),l.a.createElement("div",{className:"ml-auto u-actions"},l.a.createElement("span",{className:"action-icon-c text-center_x",onClick:function(e){m(!i),E=ye(i)}},E),l.a.createElement("span",{className:"action-icon-c text-center_x"},l.a.createElement(Ee.a,{icon:be.b,className:"action-icon"})),l.a.createElement("span",{className:"action-icon-c text-center_x mr-4x",onClick:function(e){c(!r),b=Ne(r)}},b),l.a.createElement(J,{title:l.a.createElement(Ee.a,{icon:he.d,className:""}),autoClose:!0,className:"drop-btn dropdown-toggle_x btn",containerClassName:"action-icon-c last mr-4",menuStyle:{transform:window.innerWidth<=576?"translateX(-60%)":null}},h===e.data.user.user_id?l.a.createElement(l.a.Fragment,null,l.a.createElement(W,{icon:l.a.createElement(ce.a,null),type:"link",to:"/edit/".concat(e.data.article_id)},"Edit"),l.a.createElement("hr",{className:"light p-0 m-0"}),l.a.createElement(W,{className:"logout",icon:l.a.createElement(fe.a,null),onClick:function(){g(!0)}},"Delete"),"                                "):l.a.createElement(l.a.Fragment,null,l.a.createElement(W,null,"Report"))),l.a.createElement(ue.a,{show:p,onHide:function(){g(!1)}},l.a.createElement(ue.a.Header,{closeButton:!0},l.a.createElement(ue.a.Title,null,"Delete Article")),l.a.createElement(ue.a.Body,null,"Are you sure you want to delete this article?",l.a.createElement("br",null)),l.a.createElement(ue.a.Footer,null,l.a.createElement("button",{className:"btn btn-secondary",onClick:function(){g(!1)}},"Close"),l.a.createElement("button",{className:"btn btn-danger",onClick:e.hideCard},"Delete"))))))},_e=function(e){console.log(e);var t=Object(n.useState)(!1),a=Object(P.a)(t,2),r=a[0],c=a[1];var s,i={display:"none"};return e.data&&null!=e.data.bannerLink&&void 0!==e.data.bannerLink&&"NA"!==e.data.bannerLink&&(i={backgroundImage:"url(".concat(e.data.bannerLink,")"),backgroundSize:"cover",backgroundPosition:"50% 50%"}),e.type>=1&&e.type<=3?r?l.a.createElement(l.a.Fragment,null):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"custom-card2 mb-3"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:void 0!==e.data.bannerLink&&null!==e.data.bannerLink&&"NA"!==e.data.bannerLink?"col-md-3 col-lg-3":"col-md-12"},l.a.createElement("div",{className:"img hide-xs hide-sm show-md",style:Object(o.a)({},i,{backgroundRepeat:"no-repeat",height:"100%",borderRadius:"18px"})})),l.a.createElement("div",{className:void 0!==e.data.bannerLink&&null!==e.data.bannerLink&&"NA"!==e.data.bannerLink?"col-md-9 col-lg-9":"col-md-12"},l.a.createElement(z.b,{className:"unset",style:{color:"unset"},to:"/read/".concat(e.data.article_id)},l.a.createElement("div",{style:{cursor:"pointer"},className:void 0!==e.data.bannerLink&&null!==e.data.bannerLink&&"NA"!==e.data.bannerLink?"pl-2":"pl-2 pr-2"},l.a.createElement("div",{className:"article-row"},l.a.createElement("div",{className:"pt-3 pb-2"},l.a.createElement("div",{className:"article-date"},function(e){var t=new Date(e),a=t.getDay(),n=t.getDate(),l=t.getMonth(),r=t.getFullYear();return"".concat(["Mon","Tue","Wed","Thu","Fri","Sat"][a-1]," ").concat(n," ").concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Now","Dec"][l]," ").concat(r)}(e.data.time)),l.a.createElement("div",{className:"article-title"},me()(e.data.title))),l.a.createElement("div",{className:"article-image show-xs show-sm hide-md"},l.a.createElement("div",{className:"img",style:i}))),l.a.createElement("div",{className:"article-content pb-2",style:{}},(s=me()(e.data.content.split("<br>").join("")))?(s.length>200&&(s=s.slice(0,200)+"..."),s):""))),l.a.createElement("div",{className:"tags pl-2",style:{paddingBottom:"3px"}},function(){if(e.data.tags)return e.data.tags.map((function(e){var t=de(e),a=ge(t,!0);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"tag d-inline-block noselect",style:{backgroundColor:"#"+t,color:a,cursor:"pointer"}},"#",e))}))}()),l.a.createElement(ke,{data:e.data,hideCard:function(){c(!0)}}))))):-1==e.type?l.a.createElement(l.a.Fragment,null):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"card-loader w-100 text-center"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(ve,null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)))},we=a(214),xe=a(210),Oe=function(){var e=Object(n.useState)("tab2"),t=Object(P.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([l.a.createElement(_e,{className:"mb-4 pl-0",type:4})]),s=Object(P.a)(c,2),o=s[0],i=s[1],m=Object(n.useState)([l.a.createElement(_e,{className:"mb-4 pl-0",type:4})]),u=Object(P.a)(m,2),d=u[0],p=u[1],g=Object(n.useState)([l.a.createElement(_e,{className:"mb-4 pl-0",type:4})]),E=Object(P.a)(g,2),b=E[0],h=E[1];return Object(n.useEffect)((function(){document.title="Home - Lattice";var e=[],t=[],a=[];S.a.get("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/getFeaturedArticle")).then((function(t){if(t.data.success){var a=0;t.data.message.data.map((function(t){var n=t.tags.map((function(e){return e.tag}));e.push(l.a.createElement(_e,{className:"mb-4",type:1,data:{key:a++,article_id:t.article_id,title:t.title,time:t.created_on,content:t.preview,bannerLink:t.article_banner,tags:n,user:{user_id:t.author_details.user_id,imageLink:t.author_details.profile_image_link,name:t.author_details.fullname,username:t.author_details.username}}}))})),i(e)}})).catch((function(e){console.log(e)})),S.a.get("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/getPopularArticle")).then((function(e){if(e.data.success){var t=0;e.data.message.data.map((function(e){var n=e.tags.map((function(e){return e.tag}));console.log({i:e}),a.push(l.a.createElement(_e,{className:"mb-4",type:1,data:{key:t++,article_id:e.article_id,title:e.title,time:e.created_on,content:e.preview,bannerLink:e.article_banner,tags:n,user:{user_id:e.author_details.user_id,imageLink:e.author_details.profile_image_link,name:e.author_details.fullname,username:e.author_details.username}}}))})),h(a)}})).catch((function(e){console.log(e)})),S.a.get("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/getLatestArticle")).then((function(e){if(e.data.success){var a=0;e.data.message.data.map((function(e){var n=e.tags.map((function(e){return e.tag}));t.push(l.a.createElement(_e,{className:"mb-4",type:1,data:{key:a++,article_id:e.article_id,title:e.title,time:e.created_on,content:e.preview,bannerLink:e.article_banner,tags:n,user:{user_id:e.author_details.user_id,imageLink:e.author_details.profile_image_link,name:e.author_details.fullname,username:e.author_details.username}}}))})),p(t)}})).catch((function(e){console.log(e)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container-xl"},l.a.createElement("div",{className:"mt-2"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-2 hide-sm hide-xs show-md"},l.a.createElement("div",{className:"mt-3",style:{position:"fixed"}},l.a.createElement(z.b,{to:"/newArticle",className:"btn btn-primary"},"New post"),l.a.createElement("br",null))),l.a.createElement("div",{className:"col-lg-8"},l.a.createElement("div",{className:"container-lg"},l.a.createElement("div",{className:"tab-section mt-3"},l.a.createElement(we.a,{variant:"tabs",id:"controlled-tab-example",activeKey:a,transition:!1,onSelect:function(e){return r(e)}},l.a.createElement(xe.a,{eventKey:"tab1",title:"Featured"},o),l.a.createElement(xe.a,{eventKey:"tab2",title:"Latest"},d),l.a.createElement(xe.a,{eventKey:"tab3",title:"Popular"},b),l.a.createElement(xe.a,{eventKey:"tab4",title:"Recommended"},d)))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-lg-2 hide-sm hide-xs show-md"},l.a.createElement("div",{className:"mt-3",style:{position:"fixed"}}))))))},je=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"jumbotron p-0 pb-2 pt-3 user-jumbotron"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-3 text-center pb-0 pt-0 "},l.a.createElement("img",{className:"avatar_image mt-0 mb-0",src:e.dp,alt:"user"})),l.a.createElement("div",{className:"col-md-9"},l.a.createElement("h1",{className:"display-5 name mt-2"},e.name,"self"==e.mode?l.a.createElement(l.a.Fragment,null,l.a.createElement(z.b,{to:"/settings",className:"btn btn-info btn-sm ml-3",type:"button"},"Edit profile")):l.a.createElement(l.a.Fragment,null)),l.a.createElement("h5",{className:"display-5 username"},e.username),l.a.createElement("p",{className:"lead text-left user-bio"},e.bio)))))},Se=function(){return Object(n.useEffect)((function(){document.title="Page not found - Lattice"}),[]),l.a.createElement("div",{className:"container"},l.a.createElement("div",{id:"page-top"},l.a.createElement("div",{id:"wrapper"},l.a.createElement("div",{className:"d-flex flex-column",id:"content-wrapper"},l.a.createElement("div",{id:"content card-sh"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"text-center mt-5"},l.a.createElement("div",{className:"error mx-auto","data-text":"404",style:{width:"297px",fontSize:"147px"}},l.a.createElement("p",{className:"m-0"},"404")),l.a.createElement("p",{className:"text-dark mb-5 lead",style:{color:"rgb(255,255,255)",fontSize:"50px"}},"Page Not Found"),l.a.createElement("p",{style:{}},"There seems to be a glitch in the Matrix"),l.a.createElement(z.b,{to:"/",style:{}},"\u2190 Back to Home"))))))))};function Ce(e){var t=Object(n.useState)("article"),a=Object(P.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(l.a.createElement(_e,{className:"mb-4 pl-0",type:4})),o=Object(P.a)(s,2),i=o[0],m=o[1];return Object(n.useEffect)((function(){var t=[];S.a.get("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/getArticlesByUsername/").concat(e.username),{params:{username:e.username}}).then((function(e){if(e.data.success){var a=0;e.data.message.data.map((function(n){var r=n.tags.map((function(e){return e.tag}));t.push(l.a.createElement(_e,{className:"mb-4",type:1,data:{key:a++,article_id:n.article_id,title:n.title,time:n.created_on,content:n.preview,bannerLink:n.article_banner,tags:r,user:{user_id:e.data.message.user.user_id,imageLink:e.data.message.user.profile_image_link,name:e.data.message.user.fullname,username:e.data.message.user.username}}}))})),m(t)}})).catch((function(e){console.log(e),null!=e.response.data.error.message&&console.log(""+e.response.data.error.message)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"tab-section"},l.a.createElement(we.a,{variant:"tabs",id:"controlled-tab-example",activeKey:r,transition:!1,onSelect:function(e){return c(e)}},l.a.createElement(xe.a,{eventKey:"article",title:"self"==e.mode?"Your\xa0Articles":"Users\xa0Articles"},i))))}var Ae=function(e){var t=Object(n.useContext)(A),a=t.user_id,r=t.user_dp,c=t.user_fullname,s=t.user_username,o=t.user_bio,i=Object(n.useState)(""),m=Object(P.a)(i,2),u=m[0],d=m[1],p=Object(n.useState)(""),g=Object(P.a)(p,2),E=g[0],b=g[1],h=Object(n.useState)(""),v=Object(P.a)(h,2),f=v[0],N=v[1],y=Object(n.useState)(""),k=Object(P.a)(y,2),_=k[0],w=k[1],x=Object(n.useState)(""),O=Object(P.a)(x,2),j=O[0],C=O[1],I=Object(n.useState)(0),F=Object(P.a)(I,2),L=F[0],T=F[1];return Object(n.useEffect)((function(){"self"==e.mode?(d(s),b(a),N(r),w(c),C(o),T(1)):(d(e.username),S.a.get("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/getUserByUsername/").concat(e.username)).then((function(e){e.data.success?(b(e.data.message.data.user_id),N(e.data.message.data.details.profile_image_link),w(e.data.message.data.details.fullname),C(e.data.message.data.details.user_bio),T(1)):T(2)})).catch((function(e){console.log(e),null!=e.response.data.error.message&&console.log("User loading: "+e.response.data.error.message),T(2)})))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("br",null),1==L?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container-xl"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-2"}),l.a.createElement("div",{className:"col-lg-8"},l.a.createElement("div",{className:"container-lg"},l.a.createElement(je,{mode:e.mode,username:u,name:_,dp:f,user_id:E,bio:j}),l.a.createElement(Ce,{data:e,username:u,mode:e.mode}))),l.a.createElement("div",{className:"col-lg-2"})))):2==L?l.a.createElement(l.a.Fragment,null," ",l.a.createElement(Se,null)):void 0)},Ie=a(213),Fe=a(111),Le=a(211),Te=function(e){var t=Object(n.useContext)(A),a=(t.user_id,t.user_dp),r=t.user_fullname,c=t.user_username,s=t.user_bio,o=t.user_gender,i=t.auth_token,m=t.setAuth,u=Object(n.useState)(a),d=Object(P.a)(u,2),p=d[0],g=d[1],E=Object(n.useState)(r),b=Object(P.a)(E,2),h=b[0],v=b[1],f=Object(n.useState)(s),N=Object(P.a)(f,2),y=N[0],k=N[1],_=Object(n.useState)(o),w=Object(P.a)(_,2),x=w[0],O=w[1];function j(e){"name"==e.target.name&&v(e.target.value),"bio"==e.target.name&&k(e.target.value),"gender"==e.target.name&&O(e.target.value)}function I(){var e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.click(),e.addEventListener("change",(function(){if(e.files[0]){var t=new FormData;return t.append("file",e.files[0]),S.a.post("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/upload"),t,{}).then((function(e){var t;console.log(e),e.data.success?(t="".concat("https://lattice-api-eu.herokuapp.com","/file/").concat(e.data.file_name),S.a.post("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/updateUserSettings"),{xAuthToken:i,profile_image_link:t}).then((function(e){console.log(e),e.data.success?(g(t),e.data.message.token=i,console.log({doc:e}),m(e.data),C.success("Successfully updated image")):C.error("Error occured while updating image")})).catch((function(e){console.log(e),console.log("Error while uploading image"),C.error("Error occured while updating image")}))):C.error("Error occured while updating image")})).catch((function(e){return console.log(e),console.log("Error while uploading image"),{success:0}}))}C.error("Invalid file"),e.removeEventListener("change",(function(){}))}))}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.className},l.a.createElement("h3",null,"Public Profile"),l.a.createElement("hr",{className:"light"}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 text-center show-xs hide-md"},l.a.createElement("div",{className:"position-relative text-center"},l.a.createElement("img",{className:"avatar_image",alt:"img",name:"dp",src:p}),l.a.createElement(Ie.a,null,l.a.createElement(Ie.a.Toggle,{className:"position-absolute profile-edit-btn btn-sm px-2 py-1 right-50 bottom-0 ml-2 mb-2",variant:"info",id:"dropdown-basic2"},"Edit"),l.a.createElement(Ie.a.Menu,null,l.a.createElement(Ie.a.Item,{eventKey:"1",onClick:I},"Upload Image"))))),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("h6",null,"Name"),l.a.createElement("input",{type:"text",className:"form-control",name:"name",placeholder:"Full Name",value:h,onChange:j}),l.a.createElement("p",{className:"text-muted"},"Your name may appear around Lattice where you contribute or are mentioned."),l.a.createElement("br",null),l.a.createElement("h6",null,"Username"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"@username",value:c,disabled:!0}),l.a.createElement("p",{className:"text-muted"},"Your username may appear around Lattice where you contribute or are mentioned."),l.a.createElement("h6",null,"Bio"),l.a.createElement("textarea",{id:"",cols:"30",rows:"3",className:"form-control",name:"bio",placeholder:"Enter you Profile Bio",value:y,onChange:j}),l.a.createElement("hr",{className:"darker"}),l.a.createElement("h6",null,"Gender"),l.a.createElement("select",{className:"custom-select form-control",id:"ig-gender",name:"gender",onChange:j,value:x},l.a.createElement("option",{defaultChecked:!0},"Choose..."),l.a.createElement("option",{value:"0"},"Male"),l.a.createElement("option",{value:"1"},"Female"),l.a.createElement("option",{value:"2"},"Others"),l.a.createElement("option",{value:"-1"},"Choose not to specify.")),l.a.createElement("button",{className:"btn btn-primary mt-2",onClick:function(){null==h||""==h||h.length>60?C.error("Invalid name"):null==x||"Choose..."==x?C.error("Invalid gender"):null==y||""==y||y.length>160?C.error("Invalid bio"):S.a.post("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/updateUserSettings"),{xAuthToken:i,fullname:h,user_bio:y,gender:x}).then((function(e){console.log(e),e.data.success?(e.data.message.token=i,console.log({doc:e}),m(e.data),C.success("Successfully updated profile")):C.error("Error occured while updating profile information")})).catch((function(e){console.log(e),console.log("Error while updating information"),C.error("Error occured while updating profile information")}))}},"Save")),l.a.createElement("div",{className:"col-md-4 text-left pl-2 hide-xs show-md"},l.a.createElement("div",{className:"position-relative"},l.a.createElement("img",{className:"avatar_image",alt:"img",src:p}),l.a.createElement(Ie.a,null,l.a.createElement(Ie.a.Toggle,{className:"position-absolute profile-edit-btn btn-sm px-2 py-1 left-0 bottom-0 ml-2 mb-2",variant:"info",id:"dropdown-basic"},"Edit"),l.a.createElement(Ie.a.Menu,null,l.a.createElement(Ie.a.Item,{eventKey:"1",onClick:I},"Upload Image"))))))))},Be=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.className},l.a.createElement("h3",null,"Account Settings"),l.a.createElement("hr",{className:"light"}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8"},"This is something"))))},Re=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.className},l.a.createElement("h3",null,"Security Settings"),l.a.createElement("hr",{className:"light"}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8"},l.a.createElement("br",null),l.a.createElement("h5",null,"Change password"),l.a.createElement("hr",{className:"light"}),l.a.createElement("h6",null,"Old passworrd"),l.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter you current password"}),l.a.createElement("h6",{className:"mt-3"},"New password"),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter new password"})),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("input",{type:"password",className:"form-control",placeholder:"Repeat new password"}))),l.a.createElement("button",{className:"btn btn-primary mt-3",onClick:function(){console.log("saving new password")}},"Change password"),l.a.createElement("h5",{className:"mt-4 pt-3"},"Two-factor authentication"),l.a.createElement("hr",{className:"light"}),l.a.createElement("div",{className:"text-center"},l.a.createElement("span",{className:"mt-4 mb-2 pt-4 pb-2"},l.a.createElement(Le.a,{className:"text-muted",style:{fontSize:"48px"}})),l.a.createElement("h5",null,"Two factor authentication is not enabled yet."),l.a.createElement("p",{className:"text-muted",style:{fontSize:"14px"}},"Two-factor authentication adds an additional layer of security to your account by requiring more than just a password to log in."),l.a.createElement("button",{className:"btn btn-success mt-4"},"Enable two-factor authentication"))))))};var De=function(){var e=Object(n.useState)(1),t=Object(P.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),s=Object(P.a)(c,2),o=s[0],i=s[1],m=Object(n.useState)(0),u=Object(P.a)(m,2),d=u[0],p=u[1],g=screen.availWidth;return Object(n.useEffect)((function(){g<=767&&(p(1),i(0))}),[g]),l.a.createElement("div",{className:"settings-section"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 mb-0 mt-3"},l.a.createElement("h2",{className:"noselect cursor-pointer",onClick:function(){g<=767&&i((o+1)%2)}},"Settings\xa0",function(e,t){return e?l.a.createElement("span",null,1===t?l.a.createElement(Ee.a,{icon:he.b,className:"toggle-icon"}):l.a.createElement(Ee.a,{icon:he.c,className:"toggle-icon"})):""}(d,o)),l.a.createElement("div",{className:0===o?"hide-sm hide-xs":""},l.a.createElement(Fe.a,{variant:"pills",defaultActiveKey:"link-1",className:"flex-column settings-nav"},l.a.createElement(Fe.a.Item,null,l.a.createElement(Fe.a.Link,{i:1,className:"nav-btn",onClick:function(e){r(1)},eventKey:"link-1"},"Profile Settings")),l.a.createElement(Fe.a.Item,null,l.a.createElement(Fe.a.Link,{i:1,className:"nav-btn",onClick:function(e){r(2)},eventKey:"link-2"},"Account Settings")),l.a.createElement(Fe.a.Item,null,l.a.createElement(Fe.a.Link,{i:1,className:"nav-btn",onClick:function(e){r(3)},eventKey:"link-3"},"Security Settings"))))),l.a.createElement("div",{className:"col-lg-9"},function(e){return 1===e?l.a.createElement(Te,{className:"mt-4 pb-4"}):2===e?l.a.createElement(Be,{className:"mt-4 pb-4"}):l.a.createElement(Re,{className:"mt-4 pb-4"})}(a),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)))))},Ke=a(93),Pe=a.n(Ke),Ue=function(e){var t=Object(n.useContext)(A),a=t.isLoggedIn,r=t.setAuth,c=Object(n.useState)(""),o=Object(P.a)(c,2),i=o[0],m=o[1],u=Object(n.useState)(""),d=Object(P.a)(u,2),p=d[0],g=d[1];function E(e){var t=e.target.name,a=e.target.value;"email"===t?m(a):"password"===t&&g(a)}return a?l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{to:"/"})):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-md-9 col-lg-12 col-xl-10"},l.a.createElement("div",{className:"card shadow-lgx o-hidden border-0 my-5x",style:{backgroundColor:"inherit",color:"inherit"}},l.a.createElement("div",{className:"card-body p-0"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 d-none d-lg-flex",style:{backgroundColor:"inherit",color:"inherit"}},l.a.createElement("img",{alt:"img",src:Pe.a,style:{height:"400px",marginTop:"87px",marginRight:"6px",paddingRight:"-7px",paddingTop:"1px",paddingLeft:"0px",marginLeft:"12px"}})),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"pt-4 p-md-5 pl-sm-0 pr-sm-0 pt-sm-5"},l.a.createElement("div",{className:"text-center"},l.a.createElement("h4",{className:"mb-4",style:{color:"inherit"}},"Welcome Back!")),l.a.createElement("form",{className:"user"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control form-control-user",onChange:E,type:"email",id:"exampleInputEmail","aria-describedby":"emailHelp",placeholder:"Enter Email Address...",name:"email",style:{}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control form-control-user",onChange:E,type:"password",id:"exampleInputPassword",placeholder:"Password",name:"password",style:{}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"pl-2 custom-checkbox small"},l.a.createElement("div",{className:"form-check"},l.a.createElement("input",{className:"form-check-input custom-control-input",type:"checkbox",id:"formCheck-1"}),l.a.createElement("label",{className:"form-check-label custom-control-label",for:"formCheck-1",style:{}},"Remember Me")))),l.a.createElement("button",{className:"btn btn-primary btn-block text-white btn-user",type:"submit",style:{},onClick:function(e){e.preventDefault();var t={email:i,password:p};""!==i&&function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(i)?""===p||p.length<6?C.error("Invalid password"):S.a.post("".concat("https://lattice-api-eu.herokuapp.com","/login"),t).then((function(e){C.success("Logged in successfully!"),e.data.success&&r(e.data)})).catch((function(e){null!=e.response.data.error.message?C.error(""+e.response.data.error.message):C.error("Error")})):C.error("Invalid email")}},"Login"),l.a.createElement("hr",null)),l.a.createElement("div",{className:"text-center"},l.a.createElement("a",{className:"small",href:"forgot-password.html",style:{color:"inherit"}},"Forgot Password?")),l.a.createElement("div",{className:"text-center"},l.a.createElement(z.b,{className:"small",to:"/register",style:{color:"inherit"}},"Create an Account!")))))))))))},ze=a(94),We=a.n(ze),Je=function(e){var t=Object(n.useContext)(A),a=t.isLoggedIn,r=t.setAuth,c=Object(n.useState)(2),o=Object(P.a)(c,2),i=o[0],m=o[1],u=Object(n.useState)(""),d=Object(P.a)(u,2),p=(d[0],d[1]),g=Object(n.useState)(""),E=Object(P.a)(g,2),b=E[0],h=E[1],v=Object(n.useState)(""),f=Object(P.a)(v,2),N=f[0],y=f[1],k=Object(n.useState)(""),_=Object(P.a)(k,2),w=_[0],x=_[1],O=Object(n.useState)(""),j=Object(P.a)(O,2),I=j[0],F=j[1],L=Object(n.useState)(""),T=Object(P.a)(L,2),B=T[0],R=T[1];function D(e){var t=e.target.name,a=e.target.value;"invite"==t?p(a):"fullname"===t?h(a):"username"===t?y(a):"email"===t?x(a):"password"===t?F(a):"confpassword"===t&&R(a)}return a?l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{to:"/"})):2==i?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-md-9 col-lg-12 col-xl-10"},l.a.createElement("div",{className:"card shadow-lgx o-hidden border-0 my-5x",style:{backgroundColor:"inherit",color:"inherit"}},l.a.createElement("div",{className:"card-body p-0"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 d-none d-lg-flex",style:{backgroundColor:"inherit",color:"inherit"}},l.a.createElement("img",{alt:"img",src:We.a,style:{height:"400px",marginTop:"87px",paddingTop:"1px"}})),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"pt-4 p-md-5 pl-sm-0 pr-sm-0 pt-sm-5"},l.a.createElement("div",{className:"text-center"},l.a.createElement("h4",{className:"mb-4",style:{color:"inherit"}},"Create an account")),l.a.createElement("form",{className:"user"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",name:"fullname",className:"form-control form-control-user",onChange:D,placeholder:"What would you like us to call you?"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control form-control-user",name:"username",onChange:D,type:"text",id:"exampleUsernameEmail","aria-describedby":"username",placeholder:"Enter Username...",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control form-control-user",onChange:D,type:"email",id:"exampleInputEmail","aria-describedby":"emailHelp",placeholder:"Enter Email Address...",name:"email",style:{},required:!0})),l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-sm-6 mb-3 mb-sm-0"},l.a.createElement("input",{className:"form-control form-control-user",type:"password",onChange:D,id:"examplePasswordInput",placeholder:"Password",name:"password"})),l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("input",{className:"form-control form-control-user",type:"password",onChange:D,id:"exampleRepeatPasswordInput",placeholder:"Repeat Password",name:"confpassword"}))),l.a.createElement("button",{className:"btn btn-primary btn-block text-white btn-user",type:"submit",onClick:function(e){e.preventDefault(),console.log({name:b,username:N,email:w,password:I,confpassword:B});var t={username:N,fullname:b,email:w,password:I,confpassword:B};""!==b?""!==N?""!==w&&function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(w)?""===I||I.length<6?C.error("Invalid password"):""===B||B.length<6?C.error("Invalid confirmation password"):I===B?S.a.post("".concat("https://lattice-api-eu.herokuapp.com","/register"),t).then((function(e){C.success("Registered successfully"),e.data.success&&r(e.data)})).catch((function(e){console.log(e.response),null!=e.response.data.error.message?C.error(""+e.response.data.error.message):C.error("Error")})):C.error("Passwords do not match"):C.error("Invalid email"):C.error("Invalid username"):C.error("Invalid name")},style:{}},"Register"),l.a.createElement("hr",null),l.a.createElement("hr",null)),l.a.createElement("div",{className:"text-center"},l.a.createElement(z.b,{className:"small",to:"/login",style:{color:"inherit"}},"Already have an account? Login!"))))))))))):1==i?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"}),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("h1",null,"Enter invite code: "),l.a.createElement("button",{className:"btn btn-primary",onClick:function(){m(2)}},"Submit")),l.a.createElement("div",{className:"col-md-4"}))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"}),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("h1",null,"Enter email address: "),l.a.createElement("button",{className:"btn btn-primary",onClick:function(){m(1)}},"Submit")),l.a.createElement("div",{className:"col-md-4"})))},Me=function(e){var t=l.a.useState(-1),a=Object(P.a)(t,2),n=a[0],r=a[1],c=l.a.useState(""),s=Object(P.a)(c,2),o=s[0],i=s[1],m=l.a.useState(""),u=Object(P.a)(m,2),d=u[0],p=u[1],g=l.a.useState(""),E=Object(P.a)(g,2),b=E[0],h=E[1],v={fontSize:"16px",color:"#35c644"};return l.a.useEffect((function(){console.log({api:"https://lattice-api-eu.herokuapp.com"}),S.a.get("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/user-api-service")).then((function(e){console.log(e),e.data.success?r(1):r(0)})),S.a.get("".concat("https://lattice-api-eu.herokuapp.com","/")).then((function(e){console.log(e),i(e?e.data.version:"Loding")})),S.a.get("/version.json").then((function(e){console.log(e),e&&(p(e.data.version),h(new Date(e.data.build).toISOString()))})).catch((function(e){p(""),h(""),console.log(e)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"w-100 text-center mt-4"},l.a.createElement("h1",null,"Lattice")),l.a.createElement("p",null," UI Build Version: ",l.a.createElement("code",{style:v},d)," - ",l.a.createElement("code",{style:v},b)),l.a.createElement("p",null,"Server Build Version: ",l.a.createElement("code",{style:v},o)),l.a.createElement("h1",null,"Status"),l.a.createElement("p",null,"UI STATUS: ",function(e){var t;return-1===e?t=l.a.createElement(l.a.Fragment,null," ",l.a.createElement("span",{style:{color:"yellow"}},"LODING")):0===e?t=l.a.createElement(l.a.Fragment,null," ",l.a.createElement("span",{style:{color:"red"}},"INACTIVE")):1===e&&(t=l.a.createElement(l.a.Fragment,null," ",l.a.createElement("span",{style:{color:"green"}},"ACTIVE"))),t}(n))))};var He=function(e){var t=e.data,a=0,n=function(){return(a++).toString()};return t.blocks.map((function(e){return function(e){var t=e.type,a=e.data,r="";switch(t){case"header":var c=l.a.createElement("h".concat(a.level),{className:"ce-header"},a.text);r=l.a.createElement("div",{key:n(),style:{height:"fit-content"}},c);break;case"list":r="ordered"===a.style?l.a.createElement("ol",{key:n(),className:'"cdx-block" "cdx-list" "cdx-list--'.concat(a.style,'"')},a.items.map((function(e){return l.a.createElement("li",{key:n(),className:"cdx-list__item"},me()(e))}))):l.a.createElement("ul",{key:n(),className:'"cdx-block" "cdx-list" "cdx-list--'.concat(a.style,'"')},a.items.map((function(e){return l.a.createElement("li",{key:n(),className:"cdx-list__item"},me()(e))})));break;case"embed":r=l.a.createElement("div",{key:n(),className:"cdx-block embed-tool"},l.a.createElement("iframe",{title:"embed",className:"embed-tool__content",scrolling:"no",style:{"#brand":"none",margin:"0 auto"},height:a.height,frameborder:"0",width:"100%",allowfullscreen:!0,src:a.embed}),l.a.createElement("div",{style:{textAlign:"center",marginTop:"5px"}},me()(a.caption)));break;case"code":r=l.a.createElement("div",{key:n(),className:"cdx-block ce-code"},l.a.createElement("textarea",{defaultValue:a.code+"",className:"ce-code__textarea cdx-input",placeholder:"Enter code"}));break;case"image":r=l.a.createElement("div",{key:n(),className:"cdx-block image-tool image-tool--filled"},l.a.createElement("div",{className:"image-tool__image"},l.a.createElement("img",{className:"image-tool__image-picture",alt:"img",src:a.file.url})),l.a.createElement("div",{class:"image-tool__caption"},me()(a.caption)));break;case"simpleImage":r=l.a.createElement("div",{key:n(),className:"cdx-block cdx-simple-image"},l.a.createElement("div",{className:"cdx-simple-image__picture"},l.a.createElement("img",{className:"image-tool__image-picture_x",alt:"i",src:a.url})),l.a.createElement("div",{class:"cdx-simple-image__caption"},me()(a.caption)));break;case"delimiter":r=l.a.createElement("div",{key:n(),className:"ce-delimiter cdx-block"});break;case"warning":r=l.a.createElement("div",{key:n(),className:"cdx-block cdx-warning"},l.a.createElement("div",{className:"cdx-input cdx-warning__title"},me()("".concat(a.title))),l.a.createElement("div",{className:"cdx-input cdx-warning__message"},me()("".concat(a.message))));break;case"quote":r=l.a.createElement("div",{key:n(),className:"cdx-block cdx quote"},l.a.createElement("div",{className:"cdx-input cdx-quote__text"},l.a.createElement("p",{className:"mb-0"},me()(a.text))),l.a.createElement("div",{className:"text-center_x cdx-input cdx-quote__caption"},me()(a.caption)));break;case"table":r=l.a.createElement("div",{className:"tc-editor cdx-block",key:n()},l.a.createElement("div",{className:"tc-table__wrap"},l.a.createElement("table",{className:"tc-table"},l.a.createElement("tbody",null,a.content.map((function(e){var t=[];return e.map((function(e){return t.push(l.a.createElement("td",{className:"tc-table__cell",key:n()},l.a.createElement("div",{className:"tc-table__area"},l.a.createElement("div",{className:"tc-table__inp"},me()(e))))),""})),l.a.createElement("tr",{key:n()},t)}))))));break;case"linkTool":var s=(void 0!==a.meta.image||null!=a.meta.image)&&a.meta.image.url?a.meta.image.url:"";s=""!==s||void 0===a.meta.icon&&null==a.meta.icon?s:a.meta.icon.url?a.meta.icon.url:"";var o={backgroundImage:'url("'.concat(s,'")')};r=l.a.createElement("div",{key:n(),className:"cdx-block"},l.a.createElement("div",{className:"link-tool"},l.a.createElement("a",{className:"link-tool__content link-tool__content--rendered",target:"_blank",rel:"nofollow noindex noopener noreferrer",href:a.link},l.a.createElement("div",{key:n(),className:"link-tool__image",style:o}),l.a.createElement("div",{className:"link-tool__title"},a.meta.title),l.a.createElement("p",{key:n(),className:"link-tool__description"},a.meta.description),l.a.createElement("span",{className:"link-tool__anchor"},function(e){var t=e.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return t&&t[1]}(a.link)))));break;case"paragraph":r=l.a.createElement("div",{key:n(),className:"ce-paragraph cdx-block w-100"},me()("".concat(a.text)));break;case"checklist":r=l.a.createElement("div",{key:n(),className:"cdx-block cdx-checklist"},a.items.map((function(e){var t="cdx-checklist__item";return e.checked&&(t+=" cdx-checklist__item--checked"),l.a.createElement("div",{key:n(),className:t},l.a.createElement("span",{className:"cdx-checklist__item-checkbox"}),l.a.createElement("div",{className:"cdx-checklist__item-text"},e.text))})));break;default:r=l.a.createElement("div",{key:n(),className:"ce-paragraph cdx-block"}," ",me()("".concat(a.text))," ")}return l.a.createElement("div",{className:"ce-block"},l.a.createElement("div",{className:"ce-block__content"},r))}(e)}))},qe=function(e){var t=0,a=Object(n.useState)(null),r=Object(P.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(0),i=Object(P.a)(o,2),m=i[0],u=i[1],d=Object(n.useState)(""),p=Object(P.a)(d,2),g=p[0],E=p[1];return Object(n.useEffect)((function(){S.a.post("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/getArticleById"),{article_id:e.articleId}).then((function(e){if(console.log(e),e.data.success&&e.data.message.data.content)try{"NA"!=e.data.message.data.article_banner&&E(e.data.message.data.article_banner),document.title=e.data.message.data.title+" - Lattice",s(JSON.parse(e.data.message.data.content)),u(1)}catch(t){u(2)}})).catch((function(e){u(2);try{e&&(console.log({resp:e.response.data}),null!=e.response.data.error.message&&console.log(e))}catch(t){}}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{overflowY:"hidden"}},"NA"!=g||""!=g?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"w-100 show-xs show-sm hide-md"},l.a.createElement("div",{className:" text-center mb-2",style:{height:"40vw",width:"100vw",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",marginTop:"15px",borderBottomRightRadius:"18px",borderBottomLeftRadius:"18px"}},l.a.createElement("img",{src:g,alt:"\xa0",style:{height:"100%",width:"auto",borderBottomRightRadius:"18px",borderBottomLeftRadius:"18px"}})))):l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("div",{className:"container",style:{overflowY:"hidden"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-2"}),l.a.createElement("div",{className:"col-lg-8"},function(){if("NA"!=g||""!=g)return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-center mb-2 hide-xs hide-sm show-md show-lg show-xl"},l.a.createElement("img",{src:g,alt:"\xa0",style:{maxHeight:"20vw",width:"100%",borderBottomRightRadius:"18px",borderBottomLeftRadius:"18px"}})))}(),1==m?l.a.createElement(l.a.Fragment,null,l.a.createElement(He,{key:(t++).toString(),data:c}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)):2==m?l.a.createElement(l.a.Fragment,null,l.a.createElement(Se,null)):void 0)))))},Ye=a(95),Ve=a.n(Ye),$e=a(92),Ze=a(96),Ge=a.n(Ze),Xe=a(97),Qe=a.n(Xe),et=a(65),tt=a.n(et),at=a(98),nt=a.n(at),lt=a(99),rt=a.n(lt),ct=a(100),st=a.n(ct),ot=a(101),it=a.n(ot),mt=a(102),ut=a.n(mt),dt=a(103),pt=a.n(dt),gt=a(104),Et=a.n(gt),bt=a(105),ht=a.n(bt),vt=a(106),ft=a.n(vt),Nt=a(107),yt=a.n(Nt),kt=a(108),_t=a.n(kt),wt=a(109),xt=a.n(wt),Ot={embed:{class:Ge.a,inlineToolbar:!0,config:{services:{youtube:!0,coub:!0,imgur:!0,twitch:!0,gfycat:!0,yandex:!0,codepen:!0,vimeo:!0,twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+)(?:\/.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="100%" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:600,width:600,id:function(e){return e.join("/status/")}},instagram:{regex:/(https?:\/\/(?:www\.)?instagram\.com\/p\/([^/?#&]+)).*/,embedUrl:"<%= remote_id %>",html:'<div style="width: 100%; height: 100px; background-color: #DB2E6E; text-align: center; color: #ffffff; padding-top: 40px">Instagram embedded.</div>',height:300,width:600}}}},table:{class:Qe.a,inlineToolbar:!0,config:{rows:2,cols:3}},paragraph:{class:tt.a,inlineToolbar:!0},list:{class:nt.a,inlineToolbar:!0},warning:{class:rt.a,inlineToolbar:!0,shortcut:"CMD+SHIFT+W",config:{titlePlaceholder:"Title",messagePlaceholder:"Message"}},code:st.a,linkTool:{class:it.a,config:{endpoint:"".concat("https://lattice-api-eu.herokuapp.com","/linkToolUrl")}},image:{class:ut.a,config:{uploader:{uploadByFile:function(e){var t=new FormData;return t.append("file",e),S.a.post("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/upload"),t,{}).then((function(e){return console.log(e),e.data.success?{success:1,file:{url:"".concat("https://lattice-api-eu.herokuapp.com","/file/").concat(e.data.file_name)}}:{success:0}})).catch((function(e){return console.log(e),console.log("Error while uploading image"),{success:0}}))}}}},header:pt.a,quote:Et.a,marker:ht.a,checklist:ft.a,delimiter:yt.a,inlineCode:_t.a,simpleImage:xt.a},jt=function(){return"https://picsum.photos/id/".concat((e=0,t=1084,Math.round(Math.random()*(+t-+e)+ +e)),"/1200/400.jpg");var e,t},St=function(e){var t=Object(n.useRef)(null),a=Object(n.useContext)(A),r=a.user_id,c=a.user_dp,o=a.user_fullname,i=a.user_username,m=Object(n.useState)(!1),u=Object(P.a)(m,2),d=u[0],p=u[1],g=Object(n.useState)(null),E=Object(P.a)(g,2),b=E[0],h=E[1],v=Object(n.useState)(null),f=Object(P.a)(v,2),N=f[0],y=f[1],k=Object(n.useState)(""),_=Object(P.a)(k,2),w=_[0],x=_[1],O=Object(n.useState)(""),j=Object(P.a)(O,2),C=j[0],I=j[1],F=Object(n.useState)(""),L=Object(P.a)(F,2),R=L[0],D=L[1],K=Object(n.useState)(l.a.createElement(l.a.Fragment,null)),U=Object(P.a)(K,2),z=U[0],W=U[1],J=Object(n.useState)(!1),M=Object(P.a)(J,2),H=M[0],q=M[1],Y=Object(n.useState)(""),V=Object(P.a)(Y,2),$=V[0],Z=V[1],G=Object(n.useState)("NA"),X=Object(P.a)(G,2),Q=X[0],ee=X[1],te=Object(n.useState)([]),ae=Object(P.a)(te,2),ne=ae[0],le=ae[1],re=Object(n.useState)(),ce=Object(P.a)(re,2),se=ce[0],oe=ce[1];function ie(){p(!1)}function me(){return pe.apply(this,arguments)}function pe(){return(pe=Object(B.a)(T.a.mark((function e(){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.current.save();case 2:(a=e.sent).blocks.length>0?(I(a.blocks[0].data.text),a.blocks.length>1&&D(a.blocks[1].data.text)):I("No title"),h(a),console.log("savedData",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(){ee("NA"==Q?jt():"NA")}return Object(n.useEffect)((function(){"edit"==e.mode?(y("Save"),x("updateArticleById"),e.articleData?h(JSON.parse(e.articleData.content)):h({time:Date.now(),blocks:[],version:"2.17.0"})):(y("Publish"),x("createArticle"),h({time:Date.now(),blocks:[],version:"2.17.0"}),ee("NA"))}),[]),Object(n.useEffect)((function(){if(e.articleData&&(q(!0),Z(e.articleData.article_id),h(JSON.parse(e.articleData.content)),ee(e.articleData.article_banner),e.articleData.tags)){var t=e.articleData.tags.map((function(e){return e.tag}));le(t)}}),[e.articleData]),l.a.createElement(l.a.Fragment,null,z,l.a.createElement("div",{className:"w-100 text-center",style:{}},"NA"!=Q?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"w-100 show-xs show-sm hide-md"},l.a.createElement("div",{className:" text-center mb-2",style:{height:"40vw",width:"100%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",borderBottomRightRadius:"18px",borderBottomLeftRadius:"18px"}},l.a.createElement("img",{src:Q,alt:"\xa0",style:{height:"100%",width:"auto",borderBottomRightRadius:"18px",borderBottomLeftRadius:"18px"}})))):l.a.createElement(l.a.Fragment,null)),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-2"},l.a.createElement("button",{className:"btn btn-primary mt-3",onClick:function(){b.blocks.length>0?"paragraph"==b.blocks[0].type||"header"==b.blocks[0].type?p(!0):e.notyf.error("Invalid article title"):e.notyf.error("Invalid article")}},N),l.a.createElement(ue.a,{show:d,onHide:ie,size:"lg"},l.a.createElement(ue.a.Header,{closeButton:!0},l.a.createElement(ue.a.Title,null,N," Article")),l.a.createElement(ue.a.Body,null,l.a.createElement("h5",null,"Article Card Preview"),l.a.createElement(_e,{className:"mb-4",type:1,data:{article_id:"test-article",title:C,time:Date.now(),content:R,bannerLink:Q,tags:ne,user:{user_id:r,imageLink:c,name:o,username:i}}}),l.a.createElement("hr",{className:"light"}),l.a.createElement("h5",null,"Add tags"),l.a.createElement("input",{type:"text",placeholder:"enter tags",className:"form-control",value:se,onChange:function(t){var a=t.target.value;if(" "===a[a.length-1]){if(ne.length<5)if(a.trim().length>=3&&a.trim().length<=20){var n=ne;-1==n.indexOf(a.trim().toLowerCase())?le(n.concat(a.trim().toLowerCase())):e.notyf.open({type:"warn",message:"The tag has already been added."})}else e.notyf.error("Invalid tag");else e.notyf.error("Only upto 5 tags are allowed on a single article.");oe("")}else oe(a)}}),l.a.createElement("div",{className:"text-muted",style:{fontSize:"12px"}},"Press space to add tags"),l.a.createElement("br",null),l.a.createElement("div",{className:"tags"},ne.map((function(t){var a=de(t),n=ge(a,!0);return console.log({h:a,inv:n}),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"tag d-inline-block noselect",style:{backgroundColor:"#"+a,color:n,cursor:"pointer"},onClick:function(){return function(t){var a=ne.indexOf(t);if(-1!=a){var n=ne;n.splice(a,1),le(n),me()}else e.notyf.error("Tag not found")}(t)}},"#",t))})),function(){if(ne.length>0)return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-muted",style:{fontSize:"12px"}},"Click on the tags to remove them"))}()),l.a.createElement("hr",{className:"light"}),"Would you like to ",N," this article.",l.a.createElement("br",null)),l.a.createElement(ue.a.Footer,null,l.a.createElement($e.a,{variant:"secondary",onClick:ie},"Close"),l.a.createElement($e.a,{variant:"primary",onClick:function(){if(me(),b.blocks.length>0)if("paragraph"==b.blocks[0].type||"header"==b.blocks[0].type){var t={};"edit"==e.mode?t.article_id=$:e.mode,"NA"!=Q&&(t.article_banner=Q),t.xAuthToken=e.auth_token,t.title=b.blocks[0].data.text,t.content=JSON.stringify(b),t.preview=b.blocks.length>=2?b.blocks[1].data.text:b.blocks[0].data.text,t.tags=ne,console.log({_data_editor:t}),S.a.post("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/").concat(w),t).then((function(t){console.log(t),t.data.success&&("edit"==e.mode?e.notyf.success("Saved article"):e.notyf.success("Published article"),W(l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{to:"/read/".concat(t.data.message.data.article_id)}))))})).catch((function(t){t?(console.log({resp:t.response.data}),null!=t.response.data.error.message?e.notyf.error(""+t.response.data.error.message):e.notyf.error("Error occured")):e.notyf.error("Error occured")}))}else e.notyf.error("Invalid article title");else e.notyf.error("Invalid article")}},N))),l.a.createElement("button",{className:"btn btn-outline-secondary btn-sm mt-1 show-xs show-sm hide-md",onClick:Ee},"NA"==Q?"Add Banner":"Remove Banner"),function(){if("NA"!=Q)return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"btn btn-sm btn-info show-xs show-sm hide-md",onClick:function(){ee(jt())}},"Randomize"))}()),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"w-100"},"NA"!=Q?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-center mb-2 hide-xs hide-sm show-md show-lg show-xl"},l.a.createElement("img",{src:Q,alt:"\xa0",style:{maxHeight:"20vw",width:"100%",borderBottomRightRadius:"18px",borderBottomLeftRadius:"18px"}}))):l.a.createElement(l.a.Fragment,null)),function(){if("edit"==e.mode&&H||"new"==e.mode)return l.a.createElement(l.a.Fragment,null,l.a.createElement(Ve.a,{placeholder:"Write an awesome...",instanceRef:function(e){return t.current=e},onChange:me,tools:Ot,data:b}))}()),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("button",{className:"btn btn-outline-secondary btn-sm mt-3 hide-xs hide-sm show-md",onClick:Ee},"NA"==Q?"Add Banner":"Remove Banner"),function(){if("NA"!=Q)return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"btn btn-sm btn-info hide-xs hide-sm show-md mt-2",onClick:function(){ee(jt())}},"Randomize"))}()))))},Ct=function(e){console.log(e);var t=Object(n.useContext)(A),a=t.user_id,r=t.auth_token;return Object(n.useEffect)((function(){document.title="Create new article - Lattice"}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(St,{user_id:a,auth_token:r,mode:"new",notyf:C}))},At=function(e){console.log(e);var t=Object(n.useContext)(A),a=t.user_id,r=t.auth_token,c=Object(n.useState)(null),s=Object(P.a)(c,2),o=s[0],i=s[1],m=Object(n.useState)(0),u=Object(P.a)(m,2),d=u[0],p=u[1];return Object(n.useEffect)((function(){S.a.post("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/getArticleById"),{xAuthToken:r,article_id:e.articleId}).then((function(e){console.log(e),e.data.success&&(e.data.message.data.author_id==a?(i(e.data.message.data),p(1),document.title="Edit Article - Lattice"):p(2))})).catch((function(e){p(2),e?(console.log({resp:e.response.data}),null!=e.response.data.error.message?C.error(""+e.response.data.error.message):C.error("Error")):C.error("Error")}))}),[]),l.a.createElement(l.a.Fragment,null,1==d?l.a.createElement(l.a.Fragment,null,l.a.createElement(St,{mode:"edit",user_id:a,notyf:C,auth_token:r,articleData:o})):2==d?l.a.createElement(l.a.Fragment,null,l.a.createElement(Se,null)):void 0)},It=function(e){if(1==function(e){var t=0;return null!==e&&""!==e&&(t=e.length>1&&"@"===e.charAt(0)?1:2),t}(e.match.params.username)){var t=e.match.params.username;return t=t.replace("@",""),l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(Ae,{username:t}))}return l.a.createElement(l.a.Fragment,null," ",l.a.createElement(Se,null))};function Ft(){var e=Object(n.useContext)(A).isLoggedIn;return l.a.createElement(l.a.Fragment,null,l.a.createElement(O,null,l.a.createElement(z.a,null,l.a.createElement("div",null,l.a.createElement(U,{xs:!0,sm:!0,md:!0,lg:!0,xl:!0},l.a.createElement(le,null)),l.a.createElement(U,{xs:!0,sm:!0},l.a.createElement("div",{className:"fixed-bottom"},l.a.createElement(oe,null))),l.a.createElement(s.d,null,l.a.createElement(s.b,{exact:!0,path:"/"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(Oe,null)),l.a.createElement(s.b,{path:"/about"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(Me,null)),l.a.createElement(s.b,{path:"/dashboard"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),e?l.a.createElement(l.a.Fragment,null," ",l.a.createElement(Ae,{mode:"self"})," "):l.a.createElement(l.a.Fragment,null," ",l.a.createElement(s.a,{to:"/login"})," ")),l.a.createElement(s.b,{path:"/settings"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),e?l.a.createElement(l.a.Fragment,null," ",l.a.createElement(De,null)," "):l.a.createElement(l.a.Fragment,null," ",l.a.createElement(s.a,{to:"/login"})," ")),l.a.createElement(s.b,{path:"/login"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(Ue,null)),l.a.createElement(s.b,{path:"/register"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(Je,null)),l.a.createElement(s.b,{path:"/newArticle",component:function(t){return console.log(t),e?l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(Ct,null)):l.a.createElement(l.a.Fragment,null," ",l.a.createElement(s.a,{to:"/login"})," ")}}),l.a.createElement(s.b,{path:"/edit/:articleId",component:function(t){return e?l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)," ",l.a.createElement(At,{articleId:t.match.params.articleId})):l.a.createElement(l.a.Fragment,null," ",l.a.createElement(s.a,{to:"/login"})," ")}}),l.a.createElement(s.b,{path:"/read/:articleId",component:function(e){return l.a.createElement(l.a.Fragment,null," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(qe,{articleId:e.match.params.articleId})," ")}}),l.a.createElement(s.b,{path:"/:username",component:It}),l.a.createElement(s.b,{path:"*"},l.a.createElement(Se,null)))))))}var Lt=K((function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(_,null,l.a.createElement(F,null,l.a.createElement(Ft,null))))}));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Lt,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");te?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ae(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ae(t,e)}))}}()},89:function(e,t,a){e.exports=a.p+"static/media/logo.7d55c2d5.svg"},93:function(e,t,a){e.exports=a.p+"static/media/i1.843d2b1c.png"},94:function(e,t,a){e.exports=a.p+"static/media/i2.705b891f.png"}},[[115,1,2]]]);
//# sourceMappingURL=main.cdaaf447.chunk.js.map