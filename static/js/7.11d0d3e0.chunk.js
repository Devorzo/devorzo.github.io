(this.webpackJsonpmajor_project_ui=this.webpackJsonpmajor_project_ui||[]).push([[7,13],{181:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5);t.default=function(){return Object(n.useEffect)((function(){document.title="Page not found - Lattice"}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("div",{id:"page-top"},r.a.createElement("div",{id:"wrapper"},r.a.createElement("div",{className:"d-flex flex-column",id:"content-wrapper"},r.a.createElement("div",{id:"content card-sh"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"text-center mt-5"},r.a.createElement("div",{className:"error mx-auto","data-text":"404",style:{width:"297px",fontSize:"147px"}},r.a.createElement("p",{className:"m-0"},"404")),r.a.createElement("p",{className:"text-dark mb-5 lead",style:{color:"rgb(255,255,255)",fontSize:"50px"}},"Page Not Found"),r.a.createElement("p",{style:{}},"There seems to be a glitch in the Matrix"),r.a.createElement(c.b,{to:"/",style:{}},"\u2190 Back to Home"))))))))}},192:function(e,t,a){"use strict";var n=a(61),r=a.n(n),c=a(71),l=a(6),o=a(0),s=a.n(o),i=a(194),m=a(29),u=a.n(m),d=a(179),b=a(236),g=a(9),p=a(24),f=a(60),h=a(195),E=a.n(h),v=a(196),y=a.n(v),x=a(191),j=a.n(x),O=a(197),w=a.n(O),k=a(198),N=a.n(k),S=a(199),_=a.n(S),C=a(200),A=a.n(C),D=a(201),F=a.n(D),T=a(202),I=a.n(T),B=a(203),P=a.n(B),R=a(204),z=a.n(R),W=a(205),J=a.n(W),L=a(206),M=a.n(L),H=a(207),U=a.n(H),q=a(208),$=a.n(q),G=a(30),K={embed:{class:E.a,inlineToolbar:!0,config:{services:{youtube:!0,coub:!0,imgur:!0,twitch:!0,gfycat:!0,yandex:!0,codepen:!0,vimeo:!0,twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+)(?:\/.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="100%" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:600,width:600,id:function(e){return e.join("/status/")}},instagram:{regex:/(https?:\/\/(?:www\.)?instagram\.com\/p\/([^/?#&]+)).*/,embedUrl:"<%= remote_id %>",html:'<div style="width: 100%; height: 100px; background-color: #DB2E6E; text-align: center; color: #ffffff; padding-top: 40px">Instagram embedded.</div>',height:300,width:600}}}},table:{class:y.a,inlineToolbar:!0,config:{rows:2,cols:3}},paragraph:{class:j.a,inlineToolbar:!0},list:{class:w.a,inlineToolbar:!0},warning:{class:N.a,inlineToolbar:!0,shortcut:"CMD+SHIFT+W",config:{titlePlaceholder:"Title",messagePlaceholder:"Message"}},code:_.a,linkTool:{class:A.a,config:{endpoint:"".concat(Object(G.a)(),"/linkToolUrl")}},image:{class:F.a,config:{uploader:{uploadByFile:function(e){var t=new FormData;return t.append("file",e),u.a.post("".concat(Object(G.a)(),"/api/v1/upload"),t,{}).then((function(e){return console.log(e),e.data.success?{success:1,file:{url:"".concat(Object(G.a)(),"/file/").concat(e.data.file_name)}}:{success:0}})).catch((function(e){return console.log(e),console.log("Error while uploading image"),{success:0}}))}}}},header:I.a,quote:P.a,marker:z.a,checklist:J.a,delimiter:M.a,inlineCode:U.a,simpleImage:$.a},Q=a(26),V=function(){return"https://picsum.photos/id/".concat((e=0,t=1084,Math.round(Math.random()*(+t-+e)+ +e)),"/1000/400.jpg");var e,t};t.a=function(e){var t=Object(o.useRef)(null),a=Object(o.useContext)(p.a),n=(a.user_id,a.user_dp,a.user_fullname,a.user_username,Object(o.useState)(!1)),m=Object(l.a)(n,2),h=m[0],E=m[1],v=Object(o.useState)(null),y=Object(l.a)(v,2),x=y[0],j=y[1],O=Object(o.useState)(null),w=Object(l.a)(O,2),k=w[0],N=w[1],S=Object(o.useState)(""),_=Object(l.a)(S,2),C=_[0],A=_[1],D=Object(o.useState)(""),F=Object(l.a)(D,2),T=F[0],I=F[1],B=Object(o.useState)(""),P=Object(l.a)(B,2),R=P[0],z=P[1],W=Object(o.useState)(s.a.createElement(s.a.Fragment,null)),J=Object(l.a)(W,2),L=J[0],M=J[1],H=Object(o.useState)(!1),U=Object(l.a)(H,2),q=U[0],$=U[1],X=Object(o.useState)(""),Y=Object(l.a)(X,2),Z=Y[0],ee=Y[1],te=Object(o.useState)("NA"),ae=Object(l.a)(te,2),ne=ae[0],re=ae[1],ce=Object(o.useState)([]),le=Object(l.a)(ce,2),oe=le[0],se=le[1],ie=Object(o.useState)(),me=Object(l.a)(ie,2),ue=me[0],de=me[1],be=Object(o.useState)(!0),ge=Object(l.a)(be,2),pe=ge[0],fe=ge[1],he=Object(o.useState)(0),Ee=Object(l.a)(he,2),ve=Ee[0],ye=Ee[1];function xe(){E(!1)}function je(){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(c.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.current.save();case 2:(a=e.sent).blocks.length>0&&void 0!=a.blocks&&null!=a.blocks&&a.blocks[0].data&&a.blocks[0].data.text&&z(a.blocks[0].data.text),j(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(){fe(!0),re("NA"===ne?V():"NA")}return Object(o.useEffect)((function(){"edit"===e.mode?(N("Save"),A("updateArticleById"),e.articleData?(I(e.articleData.title?e.articleData.title:""),j(JSON.parse(e.articleData.content))):j({time:Date.now(),blocks:[],version:"2.17.0"})):(N("Publish"),A("createArticle"),j({time:Date.now(),blocks:[],version:"2.17.0"}),re("NA"))}),[]),Object(o.useEffect)((function(){if(e.articleData&&($(!0),ee(e.articleData.article_id),j(JSON.parse(e.articleData.content)),re(e.articleData.article_banner),e.articleData.tags)){var t=e.articleData.tags.map((function(e){return e.tag}));se(t)}}),[e.articleData]),s.a.createElement(s.a.Fragment,null,L,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-2"},s.a.createElement("button",{className:"btn btn-primary btn-lg mt-2 mb-2",onClick:function(){""==T.trim()||T.trim().length>120?e.notyf.error("Invalid article title"):x.blocks.length>0&&("paragraph"===x.blocks[0].type||"header"===x.blocks[0].type)?E(!0):e.notyf.error("Invalid article content")},type:"button"},k),s.a.createElement(d.a,{show:h,onHide:xe},s.a.createElement(d.a.Header,{closeButton:!0},s.a.createElement(d.a.Title,null,k," Article")),s.a.createElement(d.a.Body,null,"Would you like to ",k," this article.",s.a.createElement("br",null)),s.a.createElement(d.a.Footer,null,s.a.createElement(b.a,{variant:"secondary",onClick:xe},"Close"),s.a.createElement(b.a,{variant:"primary",onClick:function(){if(je(),""==T.trim()||T.trim().length>120)e.notyf.error("Invalid article title");else if(x.blocks.length>0){var t={};"edit"===e.mode&&(t.article_id=Z),"NA"!==ne&&(t.article_banner=ne),t.xAuthToken=e.auth_token,t.title=T,t.content=JSON.stringify(x),t.preview=R,t.tags=oe,console.log({_data_editor:t}),u.a.post("".concat(Object(G.a)(),"/api/v1/").concat(C),t).then((function(t){console.log(t),t.data.success&&("edit"===e.mode?e.notyf.success("Saved article"):e.notyf.success("Published article"),M(s.a.createElement(s.a.Fragment,null,s.a.createElement(g.a,{to:"/read/".concat(t.data.message.data.article_id)}))))})).catch((function(t){t?(console.log({resp:t.response.data}),null!==t.response.data.error.message?e.notyf.error("".concat(t.response.data.error.message)):e.notyf.error("Error occured")):e.notyf.error("Error occured")}))}else e.notyf.error("Invalid article content")}},k)))),s.a.createElement("div",{className:"col-md-8 custom-card2x"},s.a.createElement("div",{className:"w-100 mt-2"}),"NA"!==ne&&""!=ne&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"w-100 d-flex flex-row flex-wrap items-center"},s.a.createElement("div",{className:"".concat(pe?"preload":""," mr-md-2 d-inline-blockx"),style:{height:"120px",maxWidth:"100%",width:"300px",borderRadius:"4px"}},s.a.createElement("img",{src:ne,alt:"\xa0",onLoad:function(){fe(!1)},style:{height:"auto",width:"100%",borderRadius:"4px"}})),s.a.createElement(Q.a,{xs:!0,sm:!0},s.a.createElement("br",null)),s.a.createElement("div",{className:"mt-auto mb-auto"},s.a.createElement("button",{className:"btn btn-sm btn-outline-primary mr-2 d-inline-blockx",onClick:function(){fe(!0),re(V())},type:"button"},"Change"),s.a.createElement("button",{className:"btn btn-sm btn-outline-secondary mr-2 d-inline-blockx",onClick:function(){fe(!0),re(V())},type:"button"},"Randomize"),s.a.createElement("button",{className:"btn btn-sm btn-outline-danger mr-2 d-inline-blockx",onClick:we,type:"button"},"Remove")))),("NA"===ne||""===ne)&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"w-100"},s.a.createElement("div",{className:"".concat(pe?"preload":""," mr-md-2"),style:{height:"120px",maxWidth:"100%",width:"300px",borderRadius:"4px",display:"grid",placeItems:"center"}},s.a.createElement("button",{className:"btn btn-outline-primary btn-sm",onClick:we,type:"button"},"Add Banner")))),s.a.createElement("br",null),s.a.createElement("textarea",{type:"text",className:"form-control mt-2",value:T,onChange:function(e){e.target.value.length<120&&I(e.target.value)},style:{fontSize:"28px",fontWeight:"600",border:"unset",boxShadow:"unset",padding:"unset",background:"unset"},placeholder:"Title...",rows:"1"}),s.a.createElement("div",{className:"tags mb-2"},oe.map((function(t){var a=Object(f.a)(t),n=Object(f.b)(a,!0);return console.log({h:a,inv:n}),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"tag d-inline-block noselect mr-2",style:{backgroundColor:"#".concat(a),color:n,cursor:"pointer"},onClick:function(){return function(t){var a=oe.indexOf(t);if(-1!==a){var n=oe;n.splice(a,1),se(n),je()}else e.notyf.error("Tag not found")}(t)}},"#",t))})),oe.length>0&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"text-muted",style:{fontSize:"9px"}},"Click on the tags to remove them"))),oe.length<5&&s.a.createElement("input",{type:"text",className:"form-control",style:{border:"unset",boxShadow:"unset",padding:"unset",background:"unset"},placeholder:0==oe.length?"Add upto 5 tags...":oe.length>0&&oe.length<4?"Add ".concat(5-oe.length," more tags..."):"Add ".concat(5-oe.length," more tag..."),value:ue,onFocus:function(){ye(1)},onBlur:function(){ye(0)},onChange:function(t){var a=t.target.value;if(" "===a[a.length-1]){if(oe.length<5)if(a.trim().length>=3&&a.trim().length<=20){var n=oe;-1===n.indexOf(a.trim().toLowerCase())?se(n.concat(a.trim().toLowerCase())):e.notyf.open({type:"warn",message:"The tag has already been added."})}else e.notyf.error("Invalid tag");else e.notyf.error("Only upto 5 tags are allowed on a single article.");de("")}else de(a)}}),1===ve&&oe.length<5&&s.a.createElement("div",{className:"text-muted",style:{fontSize:"9px"}},"Press space to add tags"),s.a.createElement("div",{className:"mt-2 mb-2"}),("edit"===e.mode&&q||"new"===e.mode)&&s.a.createElement(s.a.Fragment,null,s.a.createElement(i.a,{placeholder:"Write an awesome...",instanceRef:function(e){return t.current=e},onChange:je,tools:K,data:x}))),s.a.createElement("div",{className:"col-md-2"}))))}},237:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(0),c=a.n(r),l=a(29),o=a.n(l),s=a(192),i=a(24),m=a(30),u=a(181),d=a(59);t.default=function(e){console.log(e);var t=Object(r.useContext)(i.a),a=t.user_id,l=t.auth_token,b=Object(r.useState)(null),g=Object(n.a)(b,2),p=g[0],f=g[1],h=Object(r.useState)(0),E=Object(n.a)(h,2),v=E[0],y=E[1];return Object(r.useEffect)((function(){o.a.post("".concat(Object(m.a)(),"/api/v1/getArticleById"),{xAuthToken:l,article_id:e.articleId}).then((function(e){console.log(e),e.data.success&&(e.data.message.data.author_id===a?(f(e.data.message.data),y(1),document.title="Edit Article - Lattice"):y(2))})).catch((function(e){y(2),e?(console.log({resp:e.response.data}),null!==e.response.data.error.message?d.a.error("".concat(e.response.data.error.message)):d.a.error("Error")):d.a.error("Error")}))}),[]),c.a.createElement(c.a.Fragment,null,1===v?c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{mode:"edit",user_id:a,notyf:d.a,auth_token:l,articleData:p})):2===v?c.a.createElement(c.a.Fragment,null,c.a.createElement(u.default,null)):void 0)}}}]);
//# sourceMappingURL=7.11d0d3e0.chunk.js.map