{"version":3,"sources":["images/i2.png","pages/register.js"],"names":["module","exports","Register","props","useContext","AuthContext","isLoggedIn","setAuth","useState","inviteMode","setInviteMode","setInviteCode","name","setName","username","setUsername","email","setEmail","password","setPassword","confpassword","setConfpass","handleChange","e","n","target","v","value","to","className","style","backgroundColor","color","alt","src","img1","height","marginTop","paddingTop","type","onChange","placeholder","id","aria-describedby","required","onClick","preventDefault","console","log","data","fullname","test","validateEmail","length","notyf","error","Axios","post","getApiLink","then","response","success","catch","message"],"mappings":"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","file":"static/js/10.8c724068.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/i2.705b891f.png\";","/* eslint-disable no-useless-escape */\r\nimport React, { useState, useContext } from 'react';\r\nimport img1 from \"../images/i2.png\"\r\nimport { Link, Redirect } from \"react-router-dom\"\r\n\r\nimport { AuthContext } from \"../contexts/auth_context\"\r\nimport notyf from '../lib/notification';\r\n\r\nimport Axios from \"axios\"\r\nimport { getApiLink } from \"../lib/env.lib\"\r\n\r\nconst validateEmail = (email) => {\r\n    let re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(email);\r\n}\r\n\r\nconst Register = (props) => {\r\n\r\n    const { isLoggedIn, setAuth } = useContext(AuthContext);\r\n\r\n    const [inviteMode, setInviteMode] = useState(2)\r\n    const [inviteCode, setInviteCode] = useState(\"\");\r\n    const [name, setName] = useState(\"\");\r\n    const [username, setUsername] = useState(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [confpassword, setConfpass] = useState(\"\")\r\n\r\n    function handleChange(e) {\r\n        // console.log(e.target.name, e.target.value)\r\n        let n = e.target.name;\r\n        let v = e.target.value;\r\n        if (n === \"invite\") {\r\n            setInviteCode(v)\r\n        } else if (n === \"fullname\") {\r\n            setName(v)\r\n        } else if (n === \"username\") {\r\n            setUsername(v)\r\n        } else if (n === \"email\") {\r\n            setEmail(v)\r\n        } else if (n === \"password\") {\r\n            setPassword(v)\r\n        } else if (n === \"confpassword\") {\r\n            setConfpass(v)\r\n        }\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        console.log({\r\n            // inviteCode,\r\n            name,\r\n            username,\r\n            email,\r\n            password,\r\n            confpassword\r\n        })\r\n\r\n        let data = {\r\n            // inviteCode: inviteCode,\r\n            username: username,\r\n            fullname: name,\r\n            email,\r\n            password,\r\n            confpassword\r\n        }\r\n\r\n        // if (inviteCode === \"\") {\r\n        //     notyf.error(\"Invalid inviteCode\")\r\n        //     return\r\n        // }\r\n\r\n        if (name === \"\") {\r\n            notyf.error(\"Invalid name\")\r\n            return\r\n        }\r\n\r\n        if (username === \"\") {\r\n            notyf.error(\"Invalid username\")\r\n            return\r\n        }\r\n\r\n        if (email === \"\" || !validateEmail(email)) {\r\n            notyf.error(\"Invalid email\")\r\n            return\r\n        }\r\n\r\n        if (password === \"\" || password.length < 6) {\r\n            notyf.error(\"Invalid password\")\r\n            return\r\n        }\r\n        if (confpassword === \"\" || confpassword.length < 6) {\r\n            notyf.error(\"Invalid confirmation password\")\r\n            return\r\n        }\r\n\r\n        if (password !== confpassword) {\r\n            notyf.error(\"Passwords do not match\")\r\n            return\r\n        }\r\n\r\n        Axios.post(`${getApiLink()}/register`, data).then((response) => {\r\n            // console.log(getApiLink())\r\n            // console.log(response)\r\n            // alert(response)\r\n            notyf.success(\"Registered successfully\")\r\n\r\n            if (response.data.success) {\r\n                setAuth(response.data)\r\n            }\r\n        }).catch((e) => {\r\n            // alert(e)\r\n            console.log(e.response)\r\n            if (e.response.data.error.message !== null) {\r\n                notyf.error(\"\" + e.response.data.error.message)\r\n            } else {\r\n                notyf.error(\"Error\")\r\n            }\r\n            // notyf.error(\"\" + e.response.data.error.message)\r\n        })\r\n        // alert(name + \" \" + username + \" \" + email + \" \" + password + \" \" + confpassword)\r\n    }\r\n\r\n\r\n    if (!isLoggedIn) {\r\n        if (inviteMode === 2) {\r\n            return (\r\n                <>\r\n                    <div className=\"container\">\r\n                        <div className=\"row justify-content-center\">\r\n                            <div className=\"col-md-9 col-lg-12 col-xl-10\">\r\n                                <div className=\"card shadow-lgx o-hidden border-0 my-5x\" style={{ backgroundColor: \"inherit\", color: \"inherit\" }}>\r\n                                    <div className=\"card-body p-0\">\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col-lg-6 d-none d-lg-flex\" style={{ backgroundColor: \"inherit\", color: \"inherit\" }}>\r\n                                                {/* <img alt=\"img\"\r\n                                            src=\"assets/img/Rectangle%202.png\" /> */}\r\n                                                <img alt=\"img\" src={img1}\r\n                                                    style={{ height: \"400px\", marginTop: \"87px\", paddingTop: \"1px\", }} />\r\n                                            </div>\r\n                                            <div className=\"col-lg-6\">\r\n                                                <div className=\"pt-4 p-md-5 pl-sm-0 pr-sm-0 pt-sm-5\">\r\n                                                    <div className=\"text-center\">\r\n\r\n                                                        <h4 className=\"mb-4\"\r\n                                                            style={{ color: \"inherit\" }}>Create an account</h4>\r\n                                                    </div>\r\n                                                    <form className=\"user\">\r\n\r\n                                                        <div className=\"form-group\">\r\n                                                            {/* <div className=\"col-sm-6 mb-3 mb-sm-0\"><input className=\"form-control form-control-user\" type=\"text\" id=\"exampleFirstName\" placeholder=\"First Name\" name=\"first_name\" required /></div>\r\n                                                    <div className=\"col-sm-6\"><input className=\"form-control form-control-user\" type=\"text\" id=\"exampleFirstName\" placeholder=\"Last Name\" name=\"last_name\" required /></div> */}\r\n\r\n                                                            <input type=\"text\" name=\"fullname\" className=\"form-control form-control-user\" onChange={handleChange} placeholder=\"What would you like us to call you?\" />\r\n                                                        </div>\r\n\r\n                                                        <div className=\"form-group\">\r\n                                                            <input className=\"form-control form-control-user\"\r\n                                                                name=\"username\" onChange={handleChange}\r\n                                                                type=\"text\" id=\"exampleUsernameEmail\" aria-describedby=\"username\"\r\n                                                                placeholder=\"Enter Username...\" required />\r\n                                                        </div>\r\n\r\n                                                        <div className=\"form-group\">\r\n                                                            <input className=\"form-control form-control-user\"\r\n                                                                onChange={handleChange}\r\n                                                                type=\"email\" id=\"exampleInputEmail\" aria-describedby=\"emailHelp\"\r\n                                                                placeholder=\"Enter Email Address...\" name=\"email\"\r\n                                                                style={{}} required />\r\n                                                        </div>\r\n\r\n\r\n\r\n                                                        {/* <div className=\"form-group\">\r\n                                                    <input className=\"form-control form-control-user\"\r\n                                                        type=\"password\" id=\"exampleInputPassword\" placeholder=\"Password\"\r\n                                                        name=\"password\" style={{}} />\r\n                                                </div> */}\r\n\r\n                                                        <div className=\"form-group row\">\r\n                                                            <div className=\"col-sm-6 mb-3 mb-sm-0\">\r\n                                                                <input className=\"form-control form-control-user\" type=\"password\" onChange={handleChange} id=\"examplePasswordInput\" placeholder=\"Password\" name=\"password\" />\r\n                                                            </div>\r\n                                                            <div className=\"col-sm-6\">\r\n                                                                <input className=\"form-control form-control-user\" type=\"password\" onChange={handleChange} id=\"exampleRepeatPasswordInput\" placeholder=\"Repeat Password\" name=\"confpassword\" />\r\n                                                            </div>\r\n                                                        </div>\r\n\r\n\r\n                                                        {/* <div className=\"form-group\">\r\n                                                    <div className=\"custom-control custom-checkbox small\">\r\n                                                        <div className=\"form-check\">\r\n                                                            <input\r\n                                                                className=\"form-check-input custom-control-input\" type=\"checkbox\"\r\n                                                                id=\"formCheck-1\" />\r\n                                                            <label\r\n                                                                className=\"form-check-label custom-control-label\" htmlFor=\"formCheck-1\"\r\n                                                                style={{}}>Remember Me</label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div> */}\r\n\r\n                                                        <button className=\"btn btn-primary btn-block text-white btn-user\"\r\n                                                            type=\"submit\" onClick={handleSubmit} style={{}}>Register</button>\r\n\r\n                                                        <hr />\r\n\r\n                                                        {/* <a className=\"btn btn-primary btn-block text-white btn-google btn-user\"\r\n                                                    role=\"button\" style={{}} href=\"#btn\">\r\n                                                    <i\r\n                                                        className=\"fab fa-google\"></i>&nbsp; Login with Google</a><a href=\"#btn\"\r\n                                                            className=\"btn btn-primary btn-block text-white btn-facebook btn-user\"\r\n                                                            role=\"button\" style={{}}><i\r\n                                                                className=\"fab fa-facebook-f\"></i>&nbsp; Login with Facebook</a> */}\r\n                                                        <hr />\r\n                                                    </form>\r\n                                                    {/* <div className=\"text-center\"><a className=\"small\" href=\"forgot-password.html\"\r\n                                                style={{}}>Forgot Password?</a></div> */}\r\n                                                    <div className=\"text-center\"><Link className=\"small\" to=\"/login\"\r\n                                                        style={{ color: \"inherit\" }}>Already have an account? Login!</Link>\r\n\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            );\r\n        } else if (inviteMode === 1) {\r\n            return (\r\n                <>\r\n                    {/* <div className=\"container\"> */}\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4\"></div>\r\n                            <div className=\"col-md-4\">\r\n                                <h1>Enter invite code: </h1>\r\n\r\n                                <button className=\"btn btn-primary\" onClick={()=>{\r\n                                    setInviteMode(2)\r\n                                }}>Submit</button>\r\n                            </div>\r\n                            <div className=\"col-md-4\"></div>\r\n                        </div>\r\n                    {/* </div> */}\r\n                </>\r\n            )\r\n        } else {\r\n            return (\r\n                <>\r\n                    {/* <div className=\"container\"> */}\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-4\"></div>\r\n                            <div className=\"col-md-4\">\r\n                                <h1>Enter email address: </h1>\r\n\r\n                                <button className=\"btn btn-primary\" onClick={()=>{\r\n                                    setInviteMode(1)\r\n                                }}>Submit</button>\r\n                            </div>\r\n                            <div className=\"col-md-4\"></div>\r\n                        </div>\r\n                    {/* </div> */}\r\n                </>\r\n            )\r\n        }\r\n\r\n    } else {\r\n        return (<>\r\n            <Redirect to=\"/\" />\r\n        </>)\r\n    }\r\n}\r\n\r\nexport default Register;"],"sourceRoot":""}