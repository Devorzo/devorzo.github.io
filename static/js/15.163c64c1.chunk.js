(this.webpackJsonpmajor_project_ui=this.webpackJsonpmajor_project_ui||[]).push([[15],{232:function(e,a,t){"use strict";t.r(a),t.d(a,"ProfileSettings",(function(){return f}));var n=t(6),l=t(0),c=t.n(l),r=t(242),o=t(96),s=t(45),m=t(205),i=t(233),u=t(28),d=t.n(u),E=t(29),p=t(209),g=t(23),h=t(58),f=function(e){var a=Object(l.useContext)(g.a),t=(a.user_id,a.user_dp),o=a.user_fullname,s=a.user_username,m=a.user_bio,i=a.user_gender,u=a.auth_token,p=a.setAuth,f=Object(l.useState)(t),b=Object(n.a)(f,2),v=b[0],N=b[1],w=Object(l.useState)(o),y=Object(n.a)(w,2),j=y[0],x=y[1],O=Object(l.useState)(m),S=Object(n.a)(O,2),k=S[0],_=S[1],C=Object(l.useState)(i),I=Object(n.a)(C,2),T=I[0],A=I[1];function F(e){"name"===e.target.name&&x(e.target.value),"bio"===e.target.name&&_(e.target.value),"gender"===e.target.name&&A(e.target.value)}function L(){var e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.click(),e.addEventListener("change",(function(){if(e.files[0]){var a=new FormData;return a.append("file",e.files[0]),d.a.post("".concat(Object(E.a)(),"/api/v1/upload"),a,{}).then((function(e){var a;console.log(e),e.data.success?(a="".concat(Object(E.a)(),"/file/").concat(e.data.file_name),d.a.post("".concat(Object(E.a)(),"/api/v1/updateUserSettings"),{xAuthToken:u,profile_image_link:a}).then((function(e){console.log(e),e.data.success?(N(a),e.data.message.token=u,console.log({doc:e}),p(e.data),h.a.success("Successfully updated image")):h.a.error("Error occured while updating image")})).catch((function(e){console.log(e),console.log("Error while uploading image"),h.a.error("Error occured while updating image")}))):h.a.error("Error occured while updating image")})).catch((function(e){return console.log(e),console.log("Error while uploading image"),{success:0}}))}h.a.error("Invalid file"),e.removeEventListener("change",(function(){}))}))}return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:e.className},c.a.createElement("h3",null,"Public Profile"),c.a.createElement("hr",{className:"light"}),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4 text-center show-xs hide-md"},c.a.createElement("div",{className:"position-relative text-center"},c.a.createElement("img",{className:"avatar_image",alt:"img",name:"dp",src:v}),c.a.createElement(r.a,null,c.a.createElement(r.a.Toggle,{className:"position-absolute profile-edit-btn btn-sm px-2 py-1 right-50 bottom-0 ml-2 mb-2",variant:"info",id:"dropdown-basic2"},"Edit"),c.a.createElement(r.a.Menu,null,c.a.createElement(r.a.Item,{eventKey:"1",onClick:L},"Upload Image"))))),c.a.createElement("div",{className:"col-md-8"},c.a.createElement("h6",null,"Name"),c.a.createElement("input",{type:"text",className:"form-control",name:"name",placeholder:"Full Name",value:j,onChange:F}),c.a.createElement("p",{className:"text-muted"},"Your name may appear around Lattice where you contribute or are mentioned."),c.a.createElement("br",null),c.a.createElement("h6",null,"Username"),c.a.createElement("input",{type:"text",className:"form-control",placeholder:"@username",value:s,disabled:!0}),c.a.createElement("p",{className:"text-muted"},"Your username may appear around Lattice where you contribute or are mentioned."),c.a.createElement("h6",null,"Bio"),c.a.createElement("textarea",{id:"",cols:"30",rows:"3",className:"form-control",name:"bio",placeholder:"Enter you Profile Bio",value:k,onChange:F}),c.a.createElement("hr",{className:"darker"}),c.a.createElement("h6",null,"Gender"),c.a.createElement("select",{className:"custom-select form-control",id:"ig-gender",name:"gender",onChange:F,value:T},c.a.createElement("option",{defaultChecked:!0},"Choose..."),c.a.createElement("option",{value:"0"},"Male"),c.a.createElement("option",{value:"1"},"Female"),c.a.createElement("option",{value:"2"},"Others"),c.a.createElement("option",{value:"-1"},"Choose not to specify.")),c.a.createElement("button",{className:"btn btn-primary mt-2",onClick:function(){null===j||""===j||j.length>60?h.a.error("Invalid name"):null===T||"Choose..."===T?h.a.error("Invalid gender"):null===k||""===k||k.length>160?h.a.error("Invalid bio"):d.a.post("".concat(Object(E.a)(),"/api/v1/updateUserSettings"),{xAuthToken:u,fullname:j,user_bio:k,gender:T}).then((function(e){console.log(e),e.data.success?(e.data.message.token=u,console.log({doc:e}),p(e.data),h.a.success("Successfully updated profile")):h.a.error("Error occured while updating profile information")})).catch((function(e){console.log(e),console.log("Error while updating information"),h.a.error("Error occured while updating profile information")}))}},"Save")),c.a.createElement("div",{className:"col-md-4 text-left pl-2 hide-xs show-md"},c.a.createElement("div",{className:"position-relative"},c.a.createElement("img",{className:"avatar_image",alt:"img",src:v}),c.a.createElement(r.a,null,c.a.createElement(r.a.Toggle,{className:"position-absolute profile-edit-btn btn-sm px-2 py-1 left-0 bottom-0 ml-2 mb-2",variant:"info",id:"dropdown-basic"},"Edit"),c.a.createElement(r.a.Menu,null,c.a.createElement(r.a.Item,{eventKey:"1",onClick:L},"Upload Image"))))))))},b=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:e.className},c.a.createElement("h3",null,"Account Settings"),c.a.createElement("hr",{className:"light"}),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-8"},"This is something"))))},v=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:e.className},c.a.createElement("h3",null,"Security Settings"),c.a.createElement("hr",{className:"light"}),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-8"},c.a.createElement("br",null),c.a.createElement("h5",null,"Change password"),c.a.createElement("hr",{className:"light"}),c.a.createElement("h6",null,"Old passworrd"),c.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter you current password"}),c.a.createElement("h6",{className:"mt-3"},"New password"),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6 mb-2"},c.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter new password"})),c.a.createElement("div",{className:"col-md-6"},c.a.createElement("input",{type:"password",className:"form-control",placeholder:"Repeat new password"}))),c.a.createElement("button",{className:"btn btn-primary mt-3",onClick:function(){console.log("saving new password")}},"Change password"),c.a.createElement("h5",{className:"mt-4 pt-3"},"Two-factor authentication"),c.a.createElement("hr",{className:"light"}),c.a.createElement("div",{className:"text-center"},c.a.createElement("span",{className:"mt-4 mb-2 pt-4 pb-2"},c.a.createElement(i.a,{className:"text-muted",style:{fontSize:"48px"}})),c.a.createElement("h5",null,"Two factor authentication is not enabled yet."),c.a.createElement("p",{className:"text-muted",style:{fontSize:"14px"}},"Two-factor authentication adds an additional layer of security to your account by requiring more than just a password to log in."),c.a.createElement("button",{className:"btn btn-success mt-4"},"Enable two-factor authentication"))))))};a.default=function(){var e=Object(l.useState)(1),a=Object(n.a)(e,2),t=a[0],r=a[1],i=Object(l.useState)(1),u=Object(n.a)(i,2),d=u[0],E=u[1],g=Object(l.useState)(0),h=Object(n.a)(g,2),N=h[0],w=h[1],y=screen.availWidth;return Object(l.useEffect)((function(){y<=767&&(w(1),E(0))}),[y]),c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,null,c.a.createElement("meta",{charSet:"utf-8"}),c.a.createElement("title",null,"Settings - Devorzo"),c.a.createElement("link",{rel:"canonical",href:"https://devorzo.github.io/settings"})),c.a.createElement("div",{className:"settings-section"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-3 mb-0 mt-3"},c.a.createElement("h2",{className:"noselect cursor-pointer",onClick:function(){y<=767&&E((d+1)%2)}},"Settings\xa0",function(e,a){return e?c.a.createElement("span",null,1===a?c.a.createElement(m.a,{icon:p.a,className:"toggle-icon"}):c.a.createElement(m.a,{icon:p.b,className:"toggle-icon"})):""}(N,d)),c.a.createElement("div",{className:0===d?"hide-sm hide-xs":""},c.a.createElement(o.a,{variant:"pills",defaultActiveKey:"link-1",className:"flex-column settings-nav"},c.a.createElement(o.a.Item,null,c.a.createElement(o.a.Link,{i:1,className:"nav-btn",onClick:function(e){r(1)},eventKey:"link-1"},"Profile Settings"))))),c.a.createElement("div",{className:"col-lg-9"},function(e){return 1===e?c.a.createElement(f,{className:"mt-4 pb-4"}):2===e?c.a.createElement(b,{className:"mt-4 pb-4"}):c.a.createElement(v,{className:"mt-4 pb-4"})}(t),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("br",null))))))}}}]);
//# sourceMappingURL=15.163c64c1.chunk.js.map