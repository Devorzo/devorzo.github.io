(this.webpackJsonpmajor_project_ui=this.webpackJsonpmajor_project_ui||[]).push([[0],{114:function(e,a,t){e.exports=t(173)},119:function(e,a,t){},120:function(e,a,t){},122:function(e,a,t){},173:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(25),r=t.n(c),s=(t(119),t(33)),o=(t(120),t(121),t(122),t(40)),m=t(28),i=t(29),u=t(32),d=t(31),p=Object(n.createContext)();function E(){var e,a=window.localStorage.getItem("theme");return console.log({theme:a}),null==a||void 0===a?(console.log("theme is not defined"),window.localStorage.setItem("theme","1"),e=1):e="1"===a?1:"2"===a?2:0,1===e?document.body.setAttribute("class","t1"):2===e?document.body.setAttribute("class","t2"):document.body.setAttribute("class","t3"),console.log({r:e}),e}var g=function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(){var e;Object(m.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=a.call.apply(a,[this].concat(l))).state={isLightTheme:E(),light:{styles:{background:"#fff"}},dark:{styles:{background:"#000"}}},e.toggleTheme=function(){console.log("Theme changed"),console.log({isLightTheme_before:e.state.isLightTheme}),e.setState({isLightTheme:(e.state.isLightTheme+1)%2})},e}return Object(i.a)(t,[{key:"componentDidUpdate",value:function(){this.saveTheme()}},{key:"saveTheme",value:function(){1===this.state.isLightTheme?(document.body.setAttribute("class","t1"),window.localStorage.setItem("theme","1")):2===this.state.isLightTheme?(document.body.setAttribute("class","t2"),window.localStorage.setItem("theme","2")):0===this.state.isLightTheme&&(document.body.setAttribute("class","t3"),window.localStorage.setItem("theme","0")),console.log({isLightTheme:this.state.isLightTheme})}},{key:"render",value:function(){return l.a.createElement(p.Provider,{value:Object(o.a)({},this.state,{toggleTheme:this.toggleTheme})},this.props.children)}}]),t}(n.Component),h=t(47),b=t(8),v=t.n(b),f=new(t(85).a)({x:"right",y:"bottom"}),N=Object(n.createContext)();var _=function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(e){var n;Object(m.a)(this,t),n=a.call(this,e);var l=function(){var e,a=window.localStorage.getItem("auth");return e=null==a||void 0===a||""===a?{AuthState:!1,auth_token:"",user_id:"",user_email:"",user_email_verified:0,user_fullname:"",user_username:"",user_dp:"",user_bio:"",user_account_type:0,user_gender:-1}:{AuthState:""!==(a=JSON.parse(a)).auth_token,auth_token:a.auth_token,user_id:a.user_id,user_email:a.user_email,user_email_verified:a.user_email_verified,user_fullname:a.user_fullname,user_username:a.user_username,user_dp:a.user_dp,user_bio:a.user_bio,user_account_type:a.user_account_type,user_gender:a.user_gender},window.localStorage.setItem("auth",JSON.stringify(e)),window.localStorage.setItem("cache-update",Date.now()),e}();return n.state={isLoggedIn:l.AuthState,auth_token:l.auth_token,user_id:l.user_id,user_email:l.user_email,user_email_verified:l.user_email_verified,user_fullname:l.user_fullname,user_username:l.user_username,user_dp:l.user_dp,user_bio:l.user_bio,user_account_type:l.user_account_type,user_gender:l.user_gender},n.setAuth=n.setAuth.bind(Object(h.a)(n)),n.removeAuth=n.removeAuth.bind(Object(h.a)(n)),n}return Object(i.a)(t,[{key:"componentDidUpdate",value:function(){this.saveAuth()}},{key:"saveAuth",value:function(){var e={AuthState:this.state.AuthState,auth_token:this.state.auth_token,user_id:this.state.user_id,user_email:this.state.user_email,user_email_verified:this.state.user_email_verified,user_fullname:this.state.user_fullname,user_username:this.state.user_username,user_dp:this.state.user_dp,user_bio:this.state.user_bio,user_account_type:this.state.user_account_type,user_gender:this.state.user_gender};window.localStorage.setItem("auth",JSON.stringify(e)),window.localStorage.setItem("cache-update",Date.now())}},{key:"setAuth",value:function(e){e.success&&this.setState({isLoggedIn:!0,auth_token:e.message.token,user_id:e.message.user.user_id,user_email:e.message.user.email,user_email_verified:e.message.user.email_verified,user_fullname:e.message.user.details.fullname,user_username:e.message.user.details.username,user_dp:e.message.user.details.profile_image_link,user_bio:e.message.user.details.user_bio,user_account_type:e.message.user.details.account_type,user_gender:e.message.user.details.gender})}},{key:"removeAuth",value:function(){window.localStorage.removeItem("auth"),window.localStorage.setItem("cache-update",Date.now()),this.setState({isLoggedIn:!1,auth_token:"",user_id:"",user_email:"",user_email_verified:0,user_fullname:"",user_username:"",user_dp:"",user_bio:"",user_account_type:0,user_gender:-1}),v.a.post("".concat("https://lattice-api-eu.herokuapp.com","/logout"),{xAuthToken:this.state.auth_token}).then((function(e){f.success("Logged out successfully!")})).catch((function(e){f.error("Error occured while logging out "+e.response)}))}},{key:"render",value:function(){return l.a.createElement(N.Provider,{value:Object(o.a)({},this.state,{setAuth:this.setAuth,removeAuth:this.removeAuth})},this.props.children)}}]),t}(n.Component),k=t(43),w=t.n(k),y=t(53),x=t(86),j=t.n(x);var O=function(e){return function(a){Object(u.a)(n,a);var t=Object(d.a)(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={loading:!0},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=Object(y.a)(w.a.mark((function e(){var a=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{setTimeout((function(){a.setState({loading:!1})}),1500)}catch(t){console.log(t),this.setState({loading:!1})}case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loading?l.a.createElement("div",{className:"splash-screen",style:{width:"100vw",height:"100vh",display:"flex",textAlign:"center",justifyContent:"center",alignItems:"center",verticalAlign:"middle",background:"#18191a"}},l.a.createElement("img",{src:j.a,alt:"",style:{width:"300px",height:"300px"}})):l.a.createElement(e,this.props)}}]),n}(n.Component)},S=t(4),C=function(e){var a=screen.availWidth,t=Object(n.useState)(!0),c=Object(S.a)(t,2),r=c[0],s=c[1];function o(e){var t,n=e.xs,l=e.sm,c=e.md,r=e.lg,s=e.xl;return a<576?t=!0===n:a>=576&&a<768?t=!0===l:a>=768&&a<992?t=!0===c:a>=992&&a<1200?t=!0===r:a>=1200&&(t=!0===s),t}return Object(n.useEffect)((function(){console.log("c after compute",o(e)),s(o(e))}),[]),console.log({props:e}),console.log("render breakpoint"),console.log({res:r||!!e.show,show:r,propsShow:e.show}),l.a.createElement(l.a.Fragment,null,r||e.show?e.children:l.a.createElement(l.a.Fragment,null))},A=t(5),F=t(194),I=t(13),L=t(23),T=t(44),D=t(189),P=t(190),U=t(191),R=t(192),B=t(193),W=t(195),M=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function K(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var z=function(e){var a,t=Object(n.useContext)(p),c=t.toggleTheme,r=t.isLightTheme;a=1===r?l.a.createElement(D.a,{className:"sun-icon"}):2===r?l.a.createElement(I.a,{icon:T.c,className:"moon-icon"}):l.a.createElement(I.a,{icon:L.e,className:"cloud-icon"});var s=e.className+" nav-link ";return l.a.createElement("div",{className:s,onClick:c,style:{width:"1rem"}},a)},J=function(e){var a=Object(n.useState)("light"),t=Object(S.a)(a,2),c=t[0],r=t[1],s=Object(n.useState)("light"),o=Object(S.a)(s,2),m=o[0],i=o[1],u=Object(n.useState)(0),d=Object(S.a)(u,2),E=d[0],g=d[1],h=Object(n.useContext)(p).isLightTheme,b=Object(n.useContext)(N),v=(b.setAuth,b.removeAuth),f=b.isLoggedIn,_=b.user_dp,k=b.user_fullname,w=b.user_username;function y(){}function x(){v(),g((E+1)%2)}function j(){g((E+1)%2)}function O(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),window.localStorage.clear(),window.location.reload(),j()}Object(n.useEffect)((function(){1===h?(r(null),i("light")):(r("dark"),i("dark"))}),[h]);var T="navbar navbar-expand-md bg-".concat(c," navbar-").concat(m),D="side-nav ".concat(1===E?"opened":"");return l.a.createElement(l.a.Fragment,null,l.a.createElement(C,{xs:!0,sm:!0},l.a.createElement("div",{className:"nav-side-container noselect"},l.a.createElement("div",{className:D},l.a.createElement("div",{className:"contents"},l.a.createElement("div",{className:"content-block"},l.a.createElement("div",{className:"n-u-container pb-4 pl-4 pr-4 pt-3"},f?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"m-0 mr-auto p-0",onClick:j},l.a.createElement(P.a,{style:{fontSize:"40px"}})),l.a.createElement("img",{className:"n-avatar-image mt-0 ml-auto mr-auto mb-0",src:_,alt:"user"}),l.a.createElement("span",{className:"n-name"},k),l.a.createElement("span",{className:"n-username"},"@",w),l.a.createElement("span",{className:"n-items"},l.a.createElement(A.b,{className:"l-item",onClick:j,to:"/"},"Home"),l.a.createElement(A.b,{className:"l-item",onClick:j,to:"/about"},"About"),l.a.createElement(A.b,{className:"l-item",onClick:j,to:"/dashboard"},"Dashboard"),l.a.createElement(A.b,{className:"l-item",onClick:j,to:"/"},"Bookmarks")),l.a.createElement("span",{className:"n-items n-b-items mt-auto"},l.a.createElement("a",{href:"#unregister",className:"l-item",onClick:O},"Reset App Cache"),l.a.createElement(A.b,{className:"l-item",onClick:j,to:"/settings"},"Settings"),l.a.createElement("a",{href:"#logout",className:"logout",onClick:x},"Logout"))):l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"n-items"},l.a.createElement(A.b,{className:"l-item",onClick:j,to:"/"},"Home"),l.a.createElement(A.b,{className:"l-item",onClick:j,to:"/about"},"About"),l.a.createElement(A.b,{className:"l-item",onClick:j,to:"/login"},"Login")))))),l.a.createElement("div",{className:"closer",onClick:j})))),l.a.createElement("div",{className:"nav-custom-container fixed-top"},l.a.createElement("div",{className:"container"},l.a.createElement("nav",{className:T},l.a.createElement(A.b,{className:"navbar-brand ml-auto mr-auto hide-xs hide-sm show-md",to:"/"},"Lattice"),l.a.createElement("span",{className:"show-xs show-sm hide-md",style:{width:"60px"}},l.a.createElement("span",{className:"cs-nav-toggler collapsed",onClick:j},l.a.createElement(U.a,{style:{fontSize:"30px"}}))),l.a.createElement(A.b,{className:"navbar-brand text-center show-xs show-sm hide-md ml-auto mr-auto p-0",to:"/"},"Lattice"),l.a.createElement("span",{className:"show-xs show-sm hide-md",style:{width:"60px"}},l.a.createElement(z,{className:"show-xs show-sm hide-md ml-auto p-0"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("form",{className:"form-inline search-box text-center m-auto"},l.a.createElement("input",{className:"form-control",type:"search",placeholder:"Search","aria-label":"Search"}),l.a.createElement(I.a,{icon:L.f,className:"search-icon"})),l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement(z,{className:"hide-xs hide-sm show-md mr-4"}),l.a.createElement(A.c,{onClick:y,to:"/about",className:"nav-link nav-btn"},l.a.createElement(R.a,null)),f?l.a.createElement(l.a.Fragment,null,l.a.createElement(A.c,{onClick:y,to:"/dashboard",className:"nav-link nav-btn"},l.a.createElement(B.a,null)),l.a.createElement(F.a,{title:l.a.createElement(W.a,null),id:"collasible-nav-dropdown",className:"nav-btn"},l.a.createElement(F.a.Item,{onClick:y,as:A.b,to:"/settings"},"Settings"),l.a.createElement(F.a.Divider,null),l.a.createElement(F.a.Item,{href:"#logout",onClick:x},"Logout"))):l.a.createElement(A.c,{onClick:y,to:"/login",className:"nav-link"},"Login")))))))},H=t(196),q=t(197),Y=t(198),$=t(199),V=function(e){var a=Object(n.useContext)(N).isLoggedIn,t=l.a.useState(1),c=Object(S.a)(t,2),r=c[0],s=c[1];function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return 1===e?1===r?l.a.createElement(H.a,{className:"bt-nav__icon active"}):l.a.createElement(H.a,{className:"bt-nav__icon"}):2===e?2===r?l.a.createElement(q.a,{className:"bt-nav__icon active"}):l.a.createElement(q.a,{className:"bt-nav__icon"}):3===e?3===r?l.a.createElement(Y.a,{className:"bt-nav__icon active"}):l.a.createElement(Y.a,{className:"bt-nav__icon"}):4===e?4===r?l.a.createElement($.a,{className:"bt-nav__icon active"}):l.a.createElement($.a,{className:"bt-nav__icon"}):void 0}function m(e){s(e)}return a?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"bt-nav"},l.a.createElement("div",{className:"bt-tabs"},l.a.createElement("ul",{className:"bt-nav__ul ml-4 mr-4"},l.a.createElement("li",{className:"bt-nav__item",onClick:function(){m(1)}},l.a.createElement(A.b,{to:"/",className:"bt-nav__link"},o(1))),l.a.createElement("li",{className:"bt-nav__item",onClick:function(){m(3)}},l.a.createElement(A.b,{to:"/newArticle",className:"bt-nav__link"},o(3))),l.a.createElement("li",{className:"bt-nav__item",onClick:function(){m(4)}},l.a.createElement(A.b,{to:"/dashboard",className:"bt-nav__link"},o(4))))))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"bt-nav"},l.a.createElement("div",{className:"bt-tabs"},l.a.createElement("ul",{className:"bt-nav__ul ml-4 mr-4"},l.a.createElement("li",{className:"bt-nav__item",onClick:function(){m(1)}},l.a.createElement(A.b,{to:"/",className:"bt-nav__link"},o(1))),l.a.createElement("li",{className:"bt-nav__item",onClick:function(){m(4)}},l.a.createElement(A.b,{to:"/login",className:"bt-nav__link"},o(4)))))))},Z=function(e){Object(u.a)(t,e);var a=Object(d.a)(t);function t(){return Object(m.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"dots noselect"},l.a.createElement("div",{className:"dot"},"."),l.a.createElement("div",{className:"dot"},"."),l.a.createElement("div",{className:"dot"},".")))}}]),t}(n.Component),G=t(37);function Q(e){return e?l.a.createElement(I.a,{icon:L.g,className:"action-icon"}):l.a.createElement(I.a,{icon:T.d,className:"action-icon"})}function X(e){return e?l.a.createElement(I.a,{icon:L.a,className:"action-icon"}):l.a.createElement(I.a,{icon:T.a,className:"action-icon"})}var ee=function(e){var a=Object(n.useState)(!1),t=Object(S.a)(a,2),c=t[0],r=t[1],s=Object(n.useState)(!1),o=Object(S.a)(s,2),m=o[0],i=o[1];console.log({p_from_card:e});var u=X(m),d=Q(c);var p=Object(n.useContext)(N).user_id;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"user-info-c pl-2 pr-2 pb-2"},l.a.createElement("div",{className:"user-image-c hide-xs_x show-sm_x pr-2"},l.a.createElement(A.b,{className:"unset",to:"/@".concat(e.data.user.username)},l.a.createElement("img",{src:e.data.user.imageLink,alt:"user",className:"user-image",style:{backgroundColor:"white"}}))),l.a.createElement("div",{className:"user-info"},l.a.createElement(A.b,{className:"unset",to:"/@".concat(e.data.user.username)},l.a.createElement("span",{className:"u-name d-block"},e.data.user.name),l.a.createElement("span",{className:"u-username d-inline-block"},"@",e.data.user.username))),l.a.createElement("div",{className:"ml-auto u-actions"},l.a.createElement("span",{className:"action-icon-c text-center_x",onClick:function(e){i(!m),u=X(m)}},u),l.a.createElement("span",{className:"action-icon-c text-center_x"},l.a.createElement(I.a,{icon:T.b,className:"action-icon"})),l.a.createElement("span",{className:"action-icon-c text-center_x mr-4x",onClick:function(e){r(!c),d=Q(c)}},d),l.a.createElement(G.a,{className:"action-icon-c last text-center_x mr-4"},l.a.createElement(G.a.Toggle,{className:"drop-btn",variant:"info"},l.a.createElement(I.a,{icon:L.d,className:"action-icon nav-btn"})),l.a.createElement(G.a.Menu,null,p==e.data.user.user_id?l.a.createElement(l.a.Fragment,null,l.a.createElement(G.a.Item,{as:A.b,to:"/edit/".concat(e.data.article_id)},"Edit")):l.a.createElement(l.a.Fragment,null,l.a.createElement(G.a.Item,{eventKey:"2"},"Report")))))))},ae=function(e){console.log(e);var a,t={display:"none"};return e.data&&null!=e.data.bannerLink&&void 0!==e.data.bannerLink&&"NA"!==e.data.bannerLink&&(t={backgroundImage:"url(".concat(e.data.bannerLink,")"),backgroundSize:"cover",backgroundPosition:"50% 50%"}),e.type>=1&&e.type<=3?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"custom-card2 mb-3"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:void 0!==e.data.bannerLink&&null!==e.data.bannerLink&&"NA"!==e.data.bannerLink?"col-md-3 col-lg-3":"col-md-12"},l.a.createElement("div",{className:"img hide-xs hide-sm show-md",style:Object(o.a)({},t,{backgroundRepeat:"no-repeat",height:"100%",borderRadius:"18px"})})),l.a.createElement("div",{className:void 0!==e.data.bannerLink&&null!==e.data.bannerLink&&"NA"!==e.data.bannerLink?"col-md-9 col-lg-9":"col-md-12"},l.a.createElement(A.b,{className:"unset",style:{color:"unset"},to:"/read/".concat(e.data.article_id)},l.a.createElement("div",{style:{cursor:"pointer"},className:void 0!==e.data.bannerLink&&null!==e.data.bannerLink&&"NA"!==e.data.bannerLink?"pl-2":"pl-2 pr-2"},l.a.createElement("div",{className:"article-row"},l.a.createElement("div",{className:"pt-3 pb-2"},l.a.createElement("div",{className:"article-date"},function(e){var a=new Date(e),t=a.getDay(),n=a.getDate(),l=a.getMonth(),c=a.getFullYear();return"".concat(["Mon","Tue","Wed","Thu","Fri","Sat"][t-1]," ").concat(n," ").concat(["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Now","Dec"][l]," ").concat(c)}(e.data.time)),l.a.createElement("div",{className:"article-title"},e.data.title)),l.a.createElement("div",{className:"article-image show-xs show-sm hide-md"},l.a.createElement("div",{className:"img",style:t}))),l.a.createElement("div",{className:"article-content pb-2",style:{}},(a=e.data.content)?(a.length>200&&(a=a.slice(0,200)+"..."),a):""))),l.a.createElement(ee,{data:e.data}))))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"card-loader w-100 text-center"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(Z,null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)))},te=t(202),ne=t(200),le=function(){var e=Object(n.useState)("tab2"),a=Object(S.a)(e,2),t=a[0],c=a[1],r=Object(n.useState)([l.a.createElement(ae,{className:"mb-4 pl-0",type:4})]),s=Object(S.a)(r,2),o=s[0],m=s[1],i=Object(n.useState)([l.a.createElement(ae,{className:"mb-4 pl-0",type:4})]),u=Object(S.a)(i,2),d=u[0],p=u[1],E=Object(n.useState)([l.a.createElement(ae,{className:"mb-4 pl-0",type:4})]),g=Object(S.a)(E,2),h=g[0],b=g[1];return Object(n.useEffect)((function(){var e=[],a=[],t=[];v.a.get("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/getFeaturedArticle")).then((function(a){if(a.data.success){var t=0;a.data.message.data.map((function(a){e.push(l.a.createElement(ae,{className:"mb-4",type:1,data:{key:t++,article_id:a.article_id,title:a.title,time:a.created_on,content:a.preview,bannerLink:a.article_banner,user:{user_id:a.author_details.user_id,imageLink:a.author_details.profile_image_link,name:a.author_details.fullname,username:a.author_details.username}}}))})),m(e)}})).catch((function(e){console.log(e)})),v.a.get("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/getPopularArticle")).then((function(e){if(e.data.success){var a=0;e.data.message.data.map((function(e){t.push(l.a.createElement(ae,{className:"mb-4",type:1,data:{key:a++,article_id:e.article_id,title:e.title,time:e.created_on,content:e.preview,bannerLink:e.article_banner,user:{user_id:e.author_details.user_id,imageLink:e.author_details.profile_image_link,name:e.author_details.fullname,username:e.author_details.username}}}))})),b(t)}})).catch((function(e){console.log(e)})),v.a.get("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/getLatestArticle")).then((function(e){if(e.data.success){var t=0;e.data.message.data.map((function(e){a.push(l.a.createElement(ae,{className:"mb-4",type:1,data:{key:t++,article_id:e.article_id,title:e.title,time:e.created_on,content:e.preview,bannerLink:e.article_banner,user:{user_id:e.author_details.user_id,imageLink:e.author_details.profile_image_link,name:e.author_details.fullname,username:e.author_details.username}}}))})),p(a)}})).catch((function(e){console.log(e)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container-xl"},l.a.createElement("div",{className:"mt-2"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-2 hide-sm hide-xs show-md"},l.a.createElement("div",{className:"mt-3",style:{position:"fixed"}},l.a.createElement(A.b,{to:"/newArticle",className:"btn btn-primary"},"New post"),l.a.createElement("br",null))),l.a.createElement("div",{className:"col-lg-8"},l.a.createElement("div",{className:"container-lg"},l.a.createElement("div",{className:"tab-section mt-3"},l.a.createElement(te.a,{variant:"tabs",id:"controlled-tab-example",activeKey:t,transition:!1,onSelect:function(e){return c(e)}},l.a.createElement(ne.a,{eventKey:"tab1",title:"Featured"},o),l.a.createElement(ne.a,{eventKey:"tab2",title:"Latest"},d),l.a.createElement(ne.a,{eventKey:"tab3",title:"Popular"},h),l.a.createElement(ne.a,{eventKey:"tab4",title:"Recommended"},d)))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-lg-2 hide-sm hide-xs show-md"},l.a.createElement("div",{className:"mt-3",style:{position:"fixed"}}))))))},ce=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"jumbotron p-0 pb-2 pt-3 user-jumbotron"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-3 text-center pb-0 pt-0 "},l.a.createElement("img",{className:"avatar_image mt-0 mb-0",src:e.dp,alt:"user"})),l.a.createElement("div",{className:"col-md-9"},l.a.createElement("h1",{className:"display-5 name mt-2"},e.name,"self"==e.mode?l.a.createElement(l.a.Fragment,null,l.a.createElement(A.b,{to:"/settings",className:"btn btn-info btn-sm ml-3",type:"button"},"Edit profile")):l.a.createElement(l.a.Fragment,null)),l.a.createElement("h5",{className:"display-5 username"},e.username),l.a.createElement("p",{className:"lead text-left user-bio"},e.bio)))))},re=function(){return Object(n.useEffect)((function(){document.title="Page not found - Lattice"}),[]),l.a.createElement("div",{className:"container"},l.a.createElement("div",{id:"page-top"},l.a.createElement("div",{id:"wrapper"},l.a.createElement("div",{className:"d-flex flex-column",id:"content-wrapper"},l.a.createElement("div",{id:"content card-sh"},l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"text-center mt-5"},l.a.createElement("div",{className:"error mx-auto","data-text":"404",style:{width:"297px",fontSize:"147px"}},l.a.createElement("p",{className:"m-0"},"404")),l.a.createElement("p",{className:"text-dark mb-5 lead",style:{color:"rgb(255,255,255)",fontSize:"50px"}},"Page Not Found"),l.a.createElement("p",{style:{}},"There seems to be a glitch in the Matrix"),l.a.createElement(A.b,{to:"/",style:{}},"\u2190 Back to Home"))))))))};function se(e){var a=Object(n.useState)("article"),t=Object(S.a)(a,2),c=t[0],r=t[1],s=Object(n.useState)(l.a.createElement(ae,{className:"mb-4 pl-0",type:4})),o=Object(S.a)(s,2),m=o[0],i=o[1];return Object(n.useEffect)((function(){var a=[];v.a.get("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/getArticlesByUsername/").concat(e.username),{params:{username:e.username}}).then((function(e){if(e.data.success){var t=0;e.data.message.data.map((function(n){a.push(l.a.createElement(ae,{className:"mb-4",type:1,data:{key:t++,article_id:n.article_id,title:n.title,time:n.created_on,content:n.preview,bannerLink:n.article_banner,user:{user_id:e.data.message.user.user_id,imageLink:e.data.message.user.profile_image_link,name:e.data.message.user.fullname,username:e.data.message.user.username}}}))})),i(a)}})).catch((function(e){console.log(e),null!=e.response.data.error.message&&console.log(""+e.response.data.error.message)}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"tab-section"},l.a.createElement(te.a,{variant:"tabs",id:"controlled-tab-example",activeKey:c,transition:!1,onSelect:function(e){return r(e)}},l.a.createElement(ne.a,{eventKey:"article",title:"self"==e.mode?"Your\xa0Articles":"Users\xa0Articles"},m),l.a.createElement(ne.a,{eventKey:"profile",title:"Profile"},"2"),l.a.createElement(ne.a,{eventKey:"contact",title:"Contact"},"3"),l.a.createElement(ne.a,{eventKey:"contacts",title:"third"},"4"))))}var oe=function(e){var a=Object(n.useContext)(N),t=a.user_id,c=a.user_dp,r=a.user_fullname,s=a.user_username,o=a.user_bio,m=Object(n.useState)(""),i=Object(S.a)(m,2),u=i[0],d=i[1],p=Object(n.useState)(""),E=Object(S.a)(p,2),g=E[0],h=E[1],b=Object(n.useState)(""),f=Object(S.a)(b,2),_=f[0],k=f[1],w=Object(n.useState)(""),y=Object(S.a)(w,2),x=y[0],j=y[1],O=Object(n.useState)(""),C=Object(S.a)(O,2),A=C[0],F=C[1],I=Object(n.useState)(0),L=Object(S.a)(I,2),T=L[0],D=L[1];return Object(n.useEffect)((function(){"self"==e.mode?(d(s),h(t),k(c),j(r),F(o),D(1)):(d(e.username),v.a.get("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/getUserByUsername/").concat(e.username)).then((function(e){e.data.success?(h(e.data.message.data.user_id),k(e.data.message.data.details.profile_image_link),j(e.data.message.data.details.fullname),F(e.data.message.data.details.user_bio),D(1)):D(2)})).catch((function(e){console.log(e),null!=e.response.data.error.message&&console.log("User loading: "+e.response.data.error.message),D(2)})))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("br",null),1==T?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container-xl"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-2"}),l.a.createElement("div",{className:"col-lg-8"},l.a.createElement("div",{className:"container-lg"},l.a.createElement(ce,{mode:e.mode,username:u,name:x,dp:_,user_id:g,bio:A}),l.a.createElement(se,{data:e,username:u,mode:e.mode}))),l.a.createElement("div",{className:"col-lg-2"})))):2==T?l.a.createElement(l.a.Fragment,null," ",l.a.createElement(re,null)):void 0)},me=t(111),ie=function(e){var a=Object(n.useContext)(N),t=(a.user_id,a.user_dp),c=a.user_fullname,r=a.user_username,s=a.user_bio,o=a.user_gender,m=a.auth_token,i=a.setAuth,u=Object(n.useState)(t),d=Object(S.a)(u,2),p=d[0],E=d[1],g=Object(n.useState)(c),h=Object(S.a)(g,2),b=h[0],_=h[1],k=Object(n.useState)(s),w=Object(S.a)(k,2),y=w[0],x=w[1],j=Object(n.useState)(o),O=Object(S.a)(j,2),C=O[0],A=O[1];function F(e){"name"==e.target.name&&_(e.target.value),"bio"==e.target.name&&x(e.target.value),"gender"==e.target.name&&A(e.target.value)}function I(){var e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.click(),e.addEventListener("change",(function(){if(e.files[0]){var a=new FormData;return a.append("file",e.files[0]),v.a.post("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/upload"),a,{}).then((function(e){var a;console.log(e),e.data.success?(a="".concat("https://lattice-api-eu.herokuapp.com","/file/").concat(e.data.file_name),v.a.post("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/updateUserSettings"),{xAuthToken:m,profile_image_link:a}).then((function(e){console.log(e),e.data.success?(E(a),e.data.message.token=m,console.log({doc:e}),i(e.data),f.success("Successfully updated image")):f.error("Error occured while updating image")})).catch((function(e){console.log(e),console.log("Error while uploading image"),f.error("Error occured while updating image")}))):f.error("Error occured while updating image")})).catch((function(e){return console.log(e),console.log("Error while uploading image"),{success:0}}))}f.error("Invalid file"),e.removeEventListener("change",(function(){}))}))}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.className},l.a.createElement("h3",null,"Public Profile"),l.a.createElement("hr",{className:"light"}),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4 text-center show-xs hide-md"},l.a.createElement("div",{className:"position-relative text-center"},l.a.createElement("img",{className:"avatar_image",alt:"img",name:"dp",src:p}),l.a.createElement(G.a,null,l.a.createElement(G.a.Toggle,{className:"position-absolute profile-edit-btn btn-sm px-2 py-1 right-50 bottom-0 ml-2 mb-2",variant:"info",id:"dropdown-basic2"},"Edit"),l.a.createElement(G.a.Menu,null,l.a.createElement(G.a.Item,{eventKey:"1",onClick:I},"Upload Image"))))),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("h6",null,"Name"),l.a.createElement("input",{type:"text",className:"form-control",name:"name",placeholder:"Full Name",value:b,onChange:F}),l.a.createElement("p",{className:"text-muted"},"Your name may appear around Lattice where you contribute or are mentioned."),l.a.createElement("br",null),l.a.createElement("h6",null,"Username"),l.a.createElement("input",{type:"text",className:"form-control",placeholder:"@username",value:r,disabled:!0}),l.a.createElement("p",{className:"text-muted"},"Your username may appear around Lattice where you contribute or are mentioned."),l.a.createElement("h6",null,"Bio"),l.a.createElement("textarea",{id:"",cols:"30",rows:"3",className:"form-control",name:"bio",placeholder:"Enter you Profile Bio",value:y,onChange:F}),l.a.createElement("hr",{className:"darker"}),l.a.createElement("h6",null,"Gender"),l.a.createElement("select",{className:"custom-select form-control",id:"ig-gender",name:"gender",onChange:F,value:C},l.a.createElement("option",{defaultChecked:!0},"Choose..."),l.a.createElement("option",{value:"0"},"Male"),l.a.createElement("option",{value:"1"},"Female"),l.a.createElement("option",{value:"2"},"Others"),l.a.createElement("option",{value:"-1"},"Choose not to specify.")),l.a.createElement("button",{className:"btn btn-primary mt-2",onClick:function(){null==b||""==b||b.length>60?f.error("Invalid name"):null==C||"Choose..."==C?f.error("Invalid gender"):null==y||""==y||y.length>160?f.error("Invalid bio"):v.a.post("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/updateUserSettings"),{xAuthToken:m,fullname:b,user_bio:y,gender:C}).then((function(e){console.log(e),e.data.success?(e.data.message.token=m,console.log({doc:e}),i(e.data),f.success("Successfully updated profile")):f.error("Error occured while updating profile information")})).catch((function(e){console.log(e),console.log("Error while updating information"),f.error("Error occured while updating profile information")}))}},"Save")),l.a.createElement("div",{className:"col-md-4 text-left pl-2 hide-xs show-md"},l.a.createElement("div",{className:"position-relative"},l.a.createElement("img",{className:"avatar_image",alt:"img",src:p}),l.a.createElement(G.a,null,l.a.createElement(G.a.Toggle,{className:"position-absolute profile-edit-btn btn-sm px-2 py-1 left-0 bottom-0 ml-2 mb-2",variant:"info",id:"dropdown-basic"},"Edit"),l.a.createElement(G.a.Menu,null,l.a.createElement(G.a.Item,{eventKey:"1",onClick:I},"Upload Image"))))))))},ue=function(e){return l.a.createElement(l.a.Fragment,null,"yo")},de=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:e.className},l.a.createElement("h2",null,"Change Password"),l.a.createElement("hr",{className:"darker"}),l.a.createElement("h5",null,"Old password"),l.a.createElement("input",{type:"password",className:"form-control"}),l.a.createElement("h5",null,"New password"),l.a.createElement("input",{type:"password",className:"form-control"}),l.a.createElement("h5",null,"COnfirm new password"),l.a.createElement("input",{type:"password",className:"form-control"})))};var pe=function(){var e=Object(n.useState)(1),a=Object(S.a)(e,2),t=a[0],c=a[1],r=Object(n.useState)(1),s=Object(S.a)(r,2),o=s[0],m=s[1],i=Object(n.useState)(0),u=Object(S.a)(i,2),d=u[0],p=u[1],E=screen.availWidth;return Object(n.useEffect)((function(){E<=767&&(p(1),m(0))}),[E]),l.a.createElement("div",{className:"settings-section"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-3 mb-0 mt-3"},l.a.createElement("h2",{className:"noselect cursor-pointer",onClick:function(){E<=767&&m((o+1)%2)}},"Settings\xa0",function(e,a){return e?l.a.createElement("span",null,1===a?l.a.createElement(I.a,{icon:L.b,className:"toggle-icon"}):l.a.createElement(I.a,{icon:L.c,className:"toggle-icon"})):""}(d,o)),l.a.createElement("div",{className:0===o?"hide-sm hide-xs":""},l.a.createElement(me.a,{variant:"pills",defaultActiveKey:"link-1",className:"flex-column settings-nav"},l.a.createElement(me.a.Item,null,l.a.createElement(me.a.Link,{i:1,className:"nav-btn",onClick:function(e){c(1)},eventKey:"link-1"},"Profile Settings"))))),l.a.createElement("div",{className:"col-lg-9"},function(e){return 1===e?l.a.createElement(ie,{className:"mt-4 pb-4"}):2===e?l.a.createElement(ue,{className:"mt-4 pb-4"}):l.a.createElement(de,{className:"mt-4 pb-4"})}(t),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)))))},Ee=t(93),ge=t.n(Ee),he=function(e){var a=Object(n.useContext)(N),t=a.isLoggedIn,c=a.setAuth,r=Object(n.useState)(""),o=Object(S.a)(r,2),m=o[0],i=o[1],u=Object(n.useState)(""),d=Object(S.a)(u,2),p=d[0],E=d[1];function g(e){var a=e.target.name,t=e.target.value;"email"===a?i(t):"password"===a&&E(t)}return t?l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{to:"/"})):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-md-9 col-lg-12 col-xl-10"},l.a.createElement("div",{className:"card shadow-lgx o-hidden border-0 my-5x",style:{backgroundColor:"inherit",color:"inherit"}},l.a.createElement("div",{className:"card-body p-0"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 d-none d-lg-flex",style:{backgroundColor:"inherit",color:"inherit"}},l.a.createElement("img",{alt:"img",src:ge.a,style:{height:"400px",marginTop:"87px",marginRight:"6px",paddingRight:"-7px",paddingTop:"1px",paddingLeft:"0px",marginLeft:"12px"}})),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"pt-4 p-md-5 pl-sm-0 pr-sm-0 pt-sm-5"},l.a.createElement("div",{className:"text-center"},l.a.createElement("h4",{className:"mb-4",style:{color:"inherit"}},"Welcome Back!")),l.a.createElement("form",{className:"user"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control form-control-user",onChange:g,type:"email",id:"exampleInputEmail","aria-describedby":"emailHelp",placeholder:"Enter Email Address...",name:"email",style:{}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control form-control-user",onChange:g,type:"password",id:"exampleInputPassword",placeholder:"Password",name:"password",style:{}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"pl-2 custom-checkbox small"},l.a.createElement("div",{className:"form-check"},l.a.createElement("input",{className:"form-check-input custom-control-input",type:"checkbox",id:"formCheck-1"}),l.a.createElement("label",{className:"form-check-label custom-control-label",for:"formCheck-1",style:{}},"Remember Me")))),l.a.createElement("button",{className:"btn btn-primary btn-block text-white btn-user",type:"submit",style:{},onClick:function(e){e.preventDefault();var a={email:m,password:p};""!==m&&function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(m)?""===p||p.length<6?f.error("Invalid password"):v.a.post("".concat("https://lattice-api-eu.herokuapp.com","/login"),a).then((function(e){f.success("Logged in successfully!"),e.data.success&&c(e.data)})).catch((function(e){null!=e.response.data.error.message?f.error(""+e.response.data.error.message):f.error("Error")})):f.error("Invalid email")}},"Login"),l.a.createElement("hr",null)),l.a.createElement("div",{className:"text-center"},l.a.createElement("a",{className:"small",href:"forgot-password.html",style:{color:"inherit"}},"Forgot Password?")),l.a.createElement("div",{className:"text-center"},l.a.createElement(A.b,{className:"small",to:"/register",style:{color:"inherit"}},"Create an Account!")))))))))))},be=t(94),ve=t.n(be),fe=function(e){var a=Object(n.useContext)(N),t=a.isLoggedIn,c=a.setAuth,r=Object(n.useState)(2),o=Object(S.a)(r,2),m=o[0],i=o[1],u=Object(n.useState)(""),d=Object(S.a)(u,2),p=(d[0],d[1]),E=Object(n.useState)(""),g=Object(S.a)(E,2),h=g[0],b=g[1],_=Object(n.useState)(""),k=Object(S.a)(_,2),w=k[0],y=k[1],x=Object(n.useState)(""),j=Object(S.a)(x,2),O=j[0],C=j[1],F=Object(n.useState)(""),I=Object(S.a)(F,2),L=I[0],T=I[1],D=Object(n.useState)(""),P=Object(S.a)(D,2),U=P[0],R=P[1];function B(e){var a=e.target.name,t=e.target.value;"invite"==a?p(t):"fullname"===a?b(t):"username"===a?y(t):"email"===a?C(t):"password"===a?T(t):"confpassword"===a&&R(t)}return t?l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{to:"/"})):2==m?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-md-9 col-lg-12 col-xl-10"},l.a.createElement("div",{className:"card shadow-lgx o-hidden border-0 my-5x",style:{backgroundColor:"inherit",color:"inherit"}},l.a.createElement("div",{className:"card-body p-0"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-6 d-none d-lg-flex",style:{backgroundColor:"inherit",color:"inherit"}},l.a.createElement("img",{alt:"img",src:ve.a,style:{height:"400px",marginTop:"87px",paddingTop:"1px"}})),l.a.createElement("div",{className:"col-lg-6"},l.a.createElement("div",{className:"pt-4 p-md-5 pl-sm-0 pr-sm-0 pt-sm-5"},l.a.createElement("div",{className:"text-center"},l.a.createElement("h4",{className:"mb-4",style:{color:"inherit"}},"Create an account")),l.a.createElement("form",{className:"user"},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",name:"fullname",className:"form-control form-control-user",onChange:B,placeholder:"What would you like us to call you?"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control form-control-user",name:"username",onChange:B,type:"text",id:"exampleUsernameEmail","aria-describedby":"username",placeholder:"Enter Username...",required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{className:"form-control form-control-user",onChange:B,type:"email",id:"exampleInputEmail","aria-describedby":"emailHelp",placeholder:"Enter Email Address...",name:"email",style:{},required:!0})),l.a.createElement("div",{className:"form-group row"},l.a.createElement("div",{className:"col-sm-6 mb-3 mb-sm-0"},l.a.createElement("input",{className:"form-control form-control-user",type:"password",onChange:B,id:"examplePasswordInput",placeholder:"Password",name:"password"})),l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("input",{className:"form-control form-control-user",type:"password",onChange:B,id:"exampleRepeatPasswordInput",placeholder:"Repeat Password",name:"confpassword"}))),l.a.createElement("button",{className:"btn btn-primary btn-block text-white btn-user",type:"submit",onClick:function(e){e.preventDefault(),console.log({name:h,username:w,email:O,password:L,confpassword:U});var a={username:w,fullname:h,email:O,password:L,confpassword:U};""!==h?""!==w?""!==O&&function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(O)?""===L||L.length<6?f.error("Invalid password"):""===U||U.length<6?f.error("Invalid confirmation password"):L===U?v.a.post("".concat("https://lattice-api-eu.herokuapp.com","/register"),a).then((function(e){f.success("Registered successfully"),e.data.success&&c(e.data)})).catch((function(e){console.log(e.response),null!=e.response.data.error.message?f.error(""+e.response.data.error.message):f.error("Error")})):f.error("Passwords do not match"):f.error("Invalid email"):f.error("Invalid username"):f.error("Invalid name")},style:{}},"Register"),l.a.createElement("hr",null),l.a.createElement("hr",null)),l.a.createElement("div",{className:"text-center"},l.a.createElement(A.b,{className:"small",to:"/login",style:{color:"inherit"}},"Already have an account? Login!"))))))))))):1==m?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"}),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("h1",null,"Enter invite code: "),l.a.createElement("button",{className:"btn btn-primary",onClick:function(){i(2)}},"Submit")),l.a.createElement("div",{className:"col-md-4"}))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-4"}),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("h1",null,"Enter email address: "),l.a.createElement("button",{className:"btn btn-primary",onClick:function(){i(1)}},"Submit")),l.a.createElement("div",{className:"col-md-4"})))},Ne=function(e){var a=l.a.useState(-1),t=Object(S.a)(a,2),n=t[0],c=t[1],r=l.a.useState(""),s=Object(S.a)(r,2),o=s[0],m=s[1];return l.a.useEffect((function(){console.log({api:"https://lattice-api-eu.herokuapp.com"}),v.a.get("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/user-api-service")).then((function(e){console.log(e),e.data.success?c(1):c(0)})),v.a.get("".concat("https://lattice-api-eu.herokuapp.com","/")).then((function(e){console.log(e),m(e?e.data.version:"Loding")}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"w-100 text-center mt-4"},l.a.createElement("h1",null,"Lattice")),l.a.createElement("p",null,"Version: ",o),l.a.createElement("h1",null,"Status"),l.a.createElement("p",null,"UI STATUS: ",function(e){var a;return-1===e?a=l.a.createElement(l.a.Fragment,null," ",l.a.createElement("span",{style:{color:"yellow"}},"LODING")):0===e?a=l.a.createElement(l.a.Fragment,null," ",l.a.createElement("span",{style:{color:"red"}},"INACTIVE")):1===e&&(a=l.a.createElement(l.a.Fragment,null," ",l.a.createElement("span",{style:{color:"green"}},"ACTIVE"))),a}(n))))},_e=t(16),ke=t.n(_e);var we=function(e){var a=e.data,t=0,n=function(){return(t++).toString()};return a.blocks.map((function(e){return function(e){var a=e.type,t=e.data,c="";switch(a){case"header":var r=l.a.createElement("h".concat(t.level),{className:"ce-header"},t.text);c=l.a.createElement("div",{key:n(),style:{height:"fit-content"}},r);break;case"list":c="ordered"===t.style?l.a.createElement("ol",{key:n(),className:'"cdx-block" "cdx-list" "cdx-list--'.concat(t.style,'"')},t.items.map((function(e){return l.a.createElement("li",{key:n(),className:"cdx-list__item"},ke()(e))}))):l.a.createElement("ul",{key:n(),className:'"cdx-block" "cdx-list" "cdx-list--'.concat(t.style,'"')},t.items.map((function(e){return l.a.createElement("li",{key:n(),className:"cdx-list__item"},ke()(e))})));break;case"embed":c=l.a.createElement("div",{key:n(),className:"cdx-block embed-tool"},l.a.createElement("iframe",{title:"embed",className:"embed-tool__content",scrolling:"no",style:{"#brand":"none",margin:"0 auto"},height:t.height,frameborder:"0",width:"100%",allowfullscreen:!0,src:t.embed}),l.a.createElement("div",{style:{textAlign:"center",marginTop:"5px"}},ke()(t.caption)));break;case"code":c=l.a.createElement("div",{key:n(),className:"cdx-block ce-code"},l.a.createElement("textarea",{defaultValue:t.code+"",className:"ce-code__textarea cdx-input",placeholder:"Enter code"}));break;case"image":c=l.a.createElement("div",{key:n(),className:"cdx-block image-tool image-tool--filled"},l.a.createElement("div",{className:"image-tool__image"},l.a.createElement("img",{className:"image-tool__image-picture",alt:"img",src:t.file.url})),l.a.createElement("div",{class:"image-tool__caption"},ke()(t.caption)));break;case"simpleImage":c=l.a.createElement("div",{key:n(),className:"cdx-block cdx-simple-image"},l.a.createElement("div",{className:"cdx-simple-image__picture"},l.a.createElement("img",{className:"image-tool__image-picture_x",alt:"i",src:t.url})),l.a.createElement("div",{class:"cdx-simple-image__caption"},ke()(t.caption)));break;case"delimiter":c=l.a.createElement("div",{key:n(),className:"ce-delimiter cdx-block"});break;case"warning":c=l.a.createElement("div",{key:n(),className:"cdx-block cdx-warning"},l.a.createElement("div",{className:"cdx-input cdx-warning__title"},ke()("".concat(t.title))),l.a.createElement("div",{className:"cdx-input cdx-warning__message"},ke()("".concat(t.message))));break;case"quote":c=l.a.createElement("div",{key:n(),className:"cdx-block cdx quote"},l.a.createElement("div",{className:"cdx-input cdx-quote__text"},l.a.createElement("p",{className:"mb-0"},ke()(t.text))),l.a.createElement("div",{className:"text-center_x cdx-input cdx-quote__caption"},ke()(t.caption)));break;case"table":c=l.a.createElement("div",{className:"tc-editor cdx-block",key:n()},l.a.createElement("div",{className:"tc-table__wrap"},l.a.createElement("table",{className:"tc-table"},l.a.createElement("tbody",null,t.content.map((function(e){var a=[];return e.map((function(e){return a.push(l.a.createElement("td",{className:"tc-table__cell",key:n()},l.a.createElement("div",{className:"tc-table__area"},l.a.createElement("div",{className:"tc-table__inp"},ke()(e))))),""})),l.a.createElement("tr",{key:n()},a)}))))));break;case"linkTool":var s=(void 0!==t.meta.image||null!=t.meta.image)&&t.meta.image.url?t.meta.image.url:"";s=""!==s||void 0===t.meta.icon&&null==t.meta.icon?s:t.meta.icon.url?t.meta.icon.url:"";var o={backgroundImage:'url("'.concat(s,'")')};c=l.a.createElement("div",{key:n(),className:"cdx-block"},l.a.createElement("div",{className:"link-tool"},l.a.createElement("a",{className:"link-tool__content link-tool__content--rendered",target:"_blank",rel:"nofollow noindex noopener noreferrer",href:t.link},l.a.createElement("div",{key:n(),className:"link-tool__image",style:o}),l.a.createElement("div",{className:"link-tool__title"},t.meta.title),l.a.createElement("p",{key:n(),className:"link-tool__description"},t.meta.description),l.a.createElement("span",{className:"link-tool__anchor"},function(e){var a=e.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return a&&a[1]}(t.link)))));break;case"paragraph":c=l.a.createElement("div",{key:n(),className:"ce-paragraph cdx-block w-100"},ke()("".concat(t.text)));break;case"checklist":c=l.a.createElement("div",{key:n(),className:"cdx-block cdx-checklist"},t.items.map((function(e){var a="cdx-checklist__item";return e.checked&&(a+=" cdx-checklist__item--checked"),l.a.createElement("div",{key:n(),className:a},l.a.createElement("span",{className:"cdx-checklist__item-checkbox"}),l.a.createElement("div",{className:"cdx-checklist__item-text"},e.text))})));break;default:c=l.a.createElement("div",{key:n(),className:"ce-paragraph cdx-block"}," ",ke()("".concat(t.text))," ")}return l.a.createElement("div",{className:"ce-block"},l.a.createElement("div",{className:"ce-block__content"},c))}(e)}))},ye=t(62),xe=t.n(ye),je=t(95),Oe=t.n(je),Se=t(96),Ce=t.n(Se),Ae=t(63),Fe=t.n(Ae),Ie=t(97),Le=t.n(Ie),Te=t(98),De=t.n(Te),Pe=t(99),Ue=t.n(Pe),Re=t(100),Be=t.n(Re),We=t(101),Me=t.n(We),Ke=t(102),ze=t.n(Ke),Je=t(103),He=t.n(Je),qe=t(104),Ye=t.n(qe),$e=t(105),Ve=t.n($e),Ze=t(106),Ge=t.n(Ze),Qe=t(107),Xe=t.n(Qe),ea=t(108),aa=t.n(ea),ta={embed:{class:Oe.a,inlineToolbar:!0,config:{services:{youtube:!0,coub:!0,imgur:!0,twitch:!0,gfycat:!0,yandex:!0,codepen:!0,vimeo:!0,twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+)(?:\/.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="100%" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:600,width:600,id:function(e){return e.join("/status/")}},instagram:{regex:/(https?:\/\/(?:www\.)?instagram\.com\/p\/([^/?#&]+)).*/,embedUrl:"<%= remote_id %>",html:'<div style="width: 100%; height: 100px; background-color: #DB2E6E; text-align: center; color: #ffffff; padding-top: 40px">Instagram embedded.</div>',height:300,width:600}}}},table:{class:Ce.a,inlineToolbar:!0,config:{rows:2,cols:3}},paragraph:{class:Fe.a,inlineToolbar:!0},list:{class:Le.a,inlineToolbar:!0},warning:{class:De.a,inlineToolbar:!0,shortcut:"CMD+SHIFT+W",config:{titlePlaceholder:"Title",messagePlaceholder:"Message"}},code:Ue.a,linkTool:{class:Be.a,config:{endpoint:"".concat("https://lattice-api-eu.herokuapp.com","/linkToolUrl")}},image:{class:Me.a,config:{uploader:{uploadByFile:function(e){var a=new FormData;return a.append("file",e),v.a.post("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/upload"),a,{}).then((function(e){return console.log(e),e.data.success?{success:1,file:{url:"".concat("https://lattice-api-eu.herokuapp.com","/file/").concat(e.data.file_name)}}:{success:0}})).catch((function(e){return console.log(e),console.log("Error while uploading image"),{success:0}}))}}}},header:ze.a,quote:He.a,marker:Ye.a,checklist:Ve.a,delimiter:Ge.a,inlineCode:Xe.a,simpleImage:aa.a},na=function(e){var a=0,t=Object(n.useState)(null),c=Object(S.a)(t,2),r=c[0],s=c[1],o=Object(n.useState)(0),m=Object(S.a)(o,2),i=m[0],u=m[1],d=Object(n.useState)(""),p=Object(S.a)(d,2),E=p[0],g=p[1];return Object(n.useEffect)((function(){v.a.post("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/getArticleById"),{article_id:e.articleId}).then((function(e){if(console.log(e),e.data.success&&e.data.message.data.content)try{"NA"!=e.data.message.data.article_banner&&g(e.data.message.data.article_banner),document.title=e.data.message.data.title+" - Lattice",s(JSON.parse(e.data.message.data.content)),u(1)}catch(a){u(2)}})).catch((function(e){u(2);try{e&&(console.log({resp:e.response.data}),null!=e.response.data.error.message&&console.log(e))}catch(a){}}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{overflowY:"hidden"}},"NA"!=E||""!=E?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"w-100 show-xs show-sm hide-md"},l.a.createElement("div",{className:" text-center mb-2",style:{height:"40vw",width:"100vw",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement("img",{src:E,alt:"\xa0",style:{height:"100%",width:"auto"}})))):l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("div",{className:"container",style:{overflowY:"hidden"}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-2"}),l.a.createElement("div",{className:"col-lg-8"},function(){if("NA"!=E||""!=E)return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-center mb-2 hide-xs hide-sm show-md show-lg show-xl"},l.a.createElement("img",{src:E,alt:"\xa0",style:{maxHeight:"20vw",width:"100%"}})))}(),1==i?l.a.createElement(l.a.Fragment,null,l.a.createElement(we,{key:(a++).toString(),data:r}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)):2==i?l.a.createElement(l.a.Fragment,null,l.a.createElement(re,null)):void 0)))))},la=t(201),ca=t(92),ra=function(){return"https://i.picsum.photos/id/".concat((e=0,a=1084,Math.round(Math.random()*(+a-+e)+ +e)),"/1200/400.jpg");var e,a},sa=function(e){var a=Object(n.useRef)(null),t=Object(n.useState)(!1),c=Object(S.a)(t,2),r=c[0],o=c[1],m=Object(n.useState)(null),i=Object(S.a)(m,2),u=i[0],d=i[1],p=Object(n.useState)(null),E=Object(S.a)(p,2),g=E[0],h=E[1],b=Object(n.useState)(""),f=Object(S.a)(b,2),N=f[0],_=f[1],k=Object(n.useState)(l.a.createElement(l.a.Fragment,null)),x=Object(S.a)(k,2),j=x[0],O=x[1],C=Object(n.useState)(!1),A=Object(S.a)(C,2),F=A[0],I=A[1],L=Object(n.useState)(""),T=Object(S.a)(L,2),D=T[0],P=T[1],U=Object(n.useState)("NA"),R=Object(S.a)(U,2),B=R[0],W=R[1];function M(){o(!1)}function K(){return z.apply(this,arguments)}function z(){return(z=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.current.save();case 2:t=e.sent,d(t),console.log("savedData",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){W("NA"==B?ra():"NA")}return Object(n.useEffect)((function(){"edit"==e.mode?(h("Save"),_("updateArticleById"),e.articleData?d(JSON.parse(e.articleData.content)):d({time:Date.now(),blocks:[],version:"2.17.0"})):(h("Publish"),_("createArticle"),d({time:Date.now(),blocks:[],version:"2.17.0"}),W("NA"))}),[]),Object(n.useEffect)((function(){e.articleData&&(I(!0),P(e.articleData.article_id),d(JSON.parse(e.articleData.content)),W(e.articleData.article_banner))}),[e.articleData]),l.a.createElement(l.a.Fragment,null,j,l.a.createElement("div",{className:"w-100 text-center",style:{}},"NA"!=B?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"w-100 show-xs show-sm hide-md"},l.a.createElement("div",{className:" text-center mb-2",style:{height:"40vw",width:"100%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"}},l.a.createElement("img",{src:B,alt:"\xa0",style:{height:"100%",width:"auto"}})))):l.a.createElement(l.a.Fragment,null)),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-2"},l.a.createElement("button",{className:"btn btn-primary mt-2",onClick:function(){o(!0)}},g),l.a.createElement(la.a,{show:r,onHide:M,size:"lg"},l.a.createElement(la.a.Header,{closeButton:!0},l.a.createElement(la.a.Title,null,g," Article")),l.a.createElement(la.a.Body,null,"Would you like to ",g," this article.",l.a.createElement("br",null),l.a.createElement("h4",null,"preview")),l.a.createElement(la.a.Footer,null,l.a.createElement(ca.a,{variant:"secondary",onClick:M},"Close"),l.a.createElement(ca.a,{variant:"primary",onClick:function(){if(K(),u.blocks.length>0){var a=new Object;"edit"==e.mode?a.article_id=D:e.mode,"NA"!=B&&(a.article_banner=B),a.xAuthToken=e.auth_token,a.title=u.blocks[0].data.text,a.content=JSON.stringify(u),a.preview=u.blocks.length>2?u.blocks[1].data.text:u.blocks[0].data.text,console.log({_data:a}),v.a.post("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/").concat(N),a).then((function(a){console.log(a),a.data.success&&("edit"==e.mode?e.notyf.success("Saved article"):e.notyf.success("Published article"),O(l.a.createElement(l.a.Fragment,null,l.a.createElement(s.a,{to:"/read/".concat(a.data.message.data.article_id)}))))})).catch((function(a){a?(console.log({resp:a.response.data}),null!=a.response.data.error.message?e.notyf.error(""+a.response.data.error.message):e.notyf.error("Error occured")):e.notyf.error("Error occured")}))}else e.notyf.error("Invalid article content")}},g))),l.a.createElement("button",{className:"btn btn-outline-secondary btn-sm mt-1 show-xs show-sm hide-md",onClick:J},"NA"==B?"Add Banner":"Remove Banner"),function(){if("NA"!=B)return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"btn btn-sm btn-info show-xs show-sm hide-md",onClick:function(){W(ra())}},"Randomize"))}()),l.a.createElement("div",{className:"col-md-8"},l.a.createElement("div",{className:"w-100"},"NA"!=B?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-center mb-2 hide-xs hide-sm show-md show-lg show-xl"},l.a.createElement("img",{src:B,alt:"\xa0",style:{maxHeight:"20vw",width:"100%"}}))):l.a.createElement(l.a.Fragment,null)),function(){if("edit"==e.mode&&F||"new"==e.mode)return l.a.createElement(l.a.Fragment,null,l.a.createElement(xe.a,{placeholder:"Write an awesome...",instanceRef:function(e){return a.current=e},onChange:K,tools:ta,data:u}))}()),l.a.createElement("div",{className:"col-md-2"},l.a.createElement("button",{className:"btn btn-outline-secondary btn-sm mt-1 hide-xs hide-sm show-md",onClick:J},"NA"==B?"Add Banner":"Remove Banner"),function(){if("NA"!=B)return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{className:"btn btn-sm btn-info hide-xs hide-sm show-md mt-1",onClick:function(){W(ra())}},"Randomize"))}()))))},oa=function(e){console.log(e);var a=Object(n.useContext)(N),t=a.user_id,c=a.auth_token;return Object(n.useEffect)((function(){document.title="Create new article - Lattice"}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(sa,{user_id:t,auth_token:c,mode:"new",notyf:f}))},ma=function(e){console.log(e);var a=Object(n.useContext)(N),t=a.user_id,c=a.auth_token,r=Object(n.useState)(null),s=Object(S.a)(r,2),o=s[0],m=s[1],i=Object(n.useState)(0),u=Object(S.a)(i,2),d=u[0],p=u[1];return Object(n.useEffect)((function(){v.a.post("".concat("https://lattice-api-eu.herokuapp.com","/api/v1/getArticleById"),{xAuthToken:c,article_id:e.articleId}).then((function(e){console.log(e),e.data.success&&(e.data.message.data.author_id==t?(m(e.data.message.data),p(1),document.title="Edit Article - Lattice"):p(2))})).catch((function(e){p(2),e?(console.log({resp:e.response.data}),null!=e.response.data.error.message?f.error(""+e.response.data.error.message):f.error("Error")):f.error("Error")}))}),[]),l.a.createElement(l.a.Fragment,null,1==d?l.a.createElement(l.a.Fragment,null,l.a.createElement(sa,{mode:"edit",user_id:t,notyf:f,auth_token:c,articleData:o})):2==d?l.a.createElement(l.a.Fragment,null,l.a.createElement(re,null)):void 0)},ia=function(e){if(1==function(e){var a=0;return null!==e&&""!==e&&(a=e.length>1&&"@"===e.charAt(0)?1:2),a}(e.match.params.username)){var a=e.match.params.username;return a=a.replace("@",""),l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(oe,{username:a}))}return l.a.createElement(l.a.Fragment,null," ",l.a.createElement(re,null))};function ua(){var e=Object(n.useContext)(N).isLoggedIn;return l.a.createElement(l.a.Fragment,null,l.a.createElement(g,null,l.a.createElement(A.a,null,l.a.createElement("div",null,l.a.createElement(C,{xs:!0,sm:!0,md:!0,lg:!0,xl:!0},l.a.createElement(J,null)),l.a.createElement(C,{xs:!0,sm:!0},l.a.createElement("div",{className:"fixed-bottom"},l.a.createElement(V,null))),l.a.createElement(s.d,null,l.a.createElement(s.b,{exact:!0,path:"/"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(le,null)),l.a.createElement(s.b,{path:"/about"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(Ne,null)),l.a.createElement(s.b,{path:"/dashboard"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),e?l.a.createElement(l.a.Fragment,null," ",l.a.createElement(oe,{mode:"self"})," "):l.a.createElement(l.a.Fragment,null," ",l.a.createElement(s.a,{to:"/login"})," ")),l.a.createElement(s.b,{path:"/settings"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),e?l.a.createElement(l.a.Fragment,null," ",l.a.createElement(pe,null)," "):l.a.createElement(l.a.Fragment,null," ",l.a.createElement(s.a,{to:"/login"})," ")),l.a.createElement(s.b,{path:"/login"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(he,null)),l.a.createElement(s.b,{path:"/register"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(fe,null)),l.a.createElement(s.b,{path:"/newArticle",component:function(a){return console.log(a),e?l.a.createElement(l.a.Fragment,null,l.a.createElement(oa,null)):l.a.createElement(l.a.Fragment,null," ",l.a.createElement(s.a,{to:"/login"})," ")}}),l.a.createElement(s.b,{path:"/edit/:articleId",component:function(a){return e?l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null)," ",l.a.createElement(ma,{articleId:a.match.params.articleId})):l.a.createElement(l.a.Fragment,null," ",l.a.createElement(s.a,{to:"/login"})," ")}}),l.a.createElement(s.b,{path:"/read/:articleId",component:function(e){return l.a.createElement(l.a.Fragment,null," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(na,{articleId:e.match.params.articleId})," ")}}),l.a.createElement(s.b,{path:"/:username",component:ia}),l.a.createElement(s.b,{path:"*"},l.a.createElement(re,null)))))))}var da=O((function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(_,null,l.a.createElement(ua,null)))}));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(da,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("","/service-worker.js");M?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):K(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):K(a,e)}))}}()},86:function(e,a,t){e.exports=t.p+"static/media/logo.c5d52747.svg"},93:function(e,a,t){e.exports=t.p+"static/media/i1.843d2b1c.png"},94:function(e,a,t){e.exports=t.p+"static/media/i2.705b891f.png"}},[[114,1,2]]]);
//# sourceMappingURL=main.37a2a4f4.chunk.js.map