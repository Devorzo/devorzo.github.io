{"version":3,"sources":["icons/downArrow.svg","pages/settings.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","fill","d","className","SvgDownArrow","_ref","svgRef","title","props","focusable","role","viewBox","ref","ForwardRef","forwardRef","ProfileSettings","useContext","AuthContext","user_dp","user_id","user_fullname","user_username","user_bio","user_gender","auth_token","setAuth","useState","aspect","width","crop","setCrop","modalDisp","setModalDisp","imgSrc","setImgSrc","setFile","imgRef","setImgRef","u_dp","setDp","u_name","setName","u_bio","setBio","u_gender","setGender","onImageLoad","useCallback","img","height","unit","x","y","handleChange","e","name","value","uploadImage","file_d","f","FormData","append","Axios","post","getApiLink","then","doc","dp","console","log","data","success","file_name","message","token","notyf","error","catch","handleUpload","f_i","document","setAttribute","click","addEventListener","files","window","URL","createObjectURL","removeEventListener","alt","src","autoClose","autoCloseTouch","containerClassName","containerStyle","menuStyle","onClick","type","placeholder","onChange","disabled","id","cols","rows","defaultChecked","transform","innerWidth","show","onHide","Header","closeButton","Title","Body","circularCrop","keepSelection","onComplete","percrop","newCrop","onImageLoaded","Footer","image","fileName","canvas","scaleX","naturalWidth","scaleY","naturalHeight","getContext","drawImage","Promise","resolve","reject","toBlob","blob","getCroppedImg","File","AccountSettings","SecuritySettings","style","fontSize","Settings","display","setdisplay","showMenu","setshowMenu","useToggle","setUseToggle","w","screen","availWidth","useEffect","charSet","rel","href","c","icon","faCaretDown","faCaretRight","showToggle","variant","defaultActiveKey","Item","Link","eventKey"],"mappings":"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","file":"static/js/8.20898771.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"currentColor\",\n  d: \"M151.5 347.8L3.5 201c-4.7-4.7-4.7-12.3 0-17l19.8-19.8c4.7-4.7 12.3-4.7 17 0L160 282.7l119.7-118.5c4.7-4.7 12.3-4.7 17 0l19.8 19.8c4.7 4.7 4.7 12.3 0 17l-148 146.8c-4.7 4.7-12.3 4.7-17 0z\",\n  className: \"\"\n});\n\nvar SvgDownArrow = function SvgDownArrow(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    \"data-prefix\": \"far\",\n    \"data-icon\": \"angle-down\",\n    role: \"img\",\n    viewBox: \"0 0 320 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgDownArrow, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/downArrow.3a6d5d96.svg\";\nexport { ForwardRef as ReactComponent };","/* TODO\r\n- refactor\r\n- proper image upload\r\n- option to delete account\r\n- working settings\r\n*/\r\n\r\nimport React, { useState, useEffect, useContext, useCallback } from 'react';\r\n\r\nimport { Nav, Dropdown } from \"react-bootstrap\"\r\n\r\nimport 'react-image-crop/lib/ReactCrop.scss';\r\nimport ReactCrop from 'react-image-crop';\r\n\r\nimport { Modal } from \"react-bootstrap\"\r\n\r\nimport { ReactComponent as Menu } from '../icons/downArrow.svg'\r\nimport DropdownMenu, { DropdownItem } from '../components/dropdown'\r\n\r\nimport { Helmet } from 'react-helmet'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\n// faToggleOn, faToggleOff\r\nimport { LockRounded } from '@material-ui/icons';\r\nimport Axios from \"axios\"\r\nimport { getApiLink } from \"../lib/env.lib\"\r\n\r\nimport { faCaretRight, faCaretDown } from '@fortawesome/free-solid-svg-icons';\r\nimport { AuthContext } from \"../contexts/auth_context\"\r\n\r\nimport notyf from \"../lib/notification\"\r\n\r\nfunction getCroppedImg(image, crop, fileName) {\r\n    const canvas = document.createElement('canvas');\r\n    const scaleX = image.naturalWidth / image.width;\r\n    const scaleY = image.naturalHeight / image.height;\r\n    canvas.width = crop.width;\r\n    canvas.height = crop.height;\r\n    const ctx = canvas.getContext('2d');\r\n\r\n    ctx.drawImage(\r\n        image,\r\n        crop.x * scaleX,\r\n        crop.y * scaleY,\r\n        crop.width * scaleX,\r\n        crop.height * scaleY,\r\n        0,\r\n        0,\r\n        crop.width,\r\n        crop.height,\r\n    );\r\n\r\n    // As Base64 string\r\n    // const base64Image = canvas.toDataURL('image/jpeg');\r\n\r\n    // As a blob\r\n    return new Promise((resolve, reject) => {\r\n        canvas.toBlob(blob => {\r\n            blob.name = fileName;\r\n            resolve(blob);\r\n        }, 'image/jpeg', 1);\r\n    });\r\n}\r\n\r\nexport const ProfileSettings = (props) => {\r\n    const { user_id, user_dp, user_fullname, user_username, user_bio, user_gender, auth_token, setAuth } = useContext(AuthContext);\r\n\r\n    // const [state, setstate] = useState(initialState)\r\n    const [crop, setCrop] = useState({\r\n        aspect: 1 / 1,\r\n        width: 1024\r\n    });\r\n\r\n    const [modalDisp, setModalDisp] = useState(false)\r\n\r\n    const [imgSrc, setImgSrc] = useState(null)\r\n    const [file, setFile] = useState(null)\r\n    const [imgRef, setImgRef] = useState(null)\r\n    const [u_dp, setDp] = useState(user_dp)\r\n    const [u_name, setName] = useState(user_fullname)\r\n    const [u_bio, setBio] = useState(user_bio)\r\n    const [u_gender, setGender] = useState(user_gender)\r\n\r\n    const onImageLoad = useCallback(img => {\r\n        setImgRef(img);\r\n\r\n        const aspect = 1 / 1;\r\n        const width = img.width / aspect < img.height * aspect ? 100 : ((img.height * aspect) / img.width) * 100;\r\n        const height = img.width / aspect > img.height * aspect ? 100 : (img.width / aspect / img.height) * 100;\r\n        const y = (100 - height) / 2;\r\n        const x = (100 - width) / 2;\r\n\r\n        setCrop({\r\n            unit: '%',\r\n            width,\r\n            height,\r\n            x,\r\n            y,\r\n            aspect,\r\n        });\r\n\r\n        // return false; // Return false if you set crop state in here.\r\n        return true\r\n    }, []);\r\n\r\n    function handleChange(e) {\r\n        if (e.target.name === \"name\") {\r\n            setName(e.target.value)\r\n        }\r\n\r\n        if (e.target.name === \"bio\") {\r\n            setBio(e.target.value)\r\n        }\r\n\r\n        if (e.target.name === \"gender\") {\r\n            setGender(e.target.value)\r\n        }\r\n    }\r\n\r\n    function saveImage(dp) {\r\n        Axios.post(`${getApiLink()}/api/v1/updateUserSettings`, {\r\n            \"xAuthToken\": auth_token,\r\n            \"profile_image_link\": dp\r\n        }).then((doc) => {\r\n            console.log(doc)\r\n\r\n            if (doc.data.success) {\r\n                setDp(dp)\r\n                doc.data.message.token = auth_token\r\n                console.log({ doc })\r\n                setAuth(doc.data)\r\n                notyf.success(\"Successfully updated image\")\r\n            } else {\r\n                notyf.error(\"Error occured while updating image\")\r\n            }\r\n        }).catch((e) => {\r\n            console.log(e)\r\n            console.log(\"Error while uploading image\")\r\n            notyf.error(\"Error occured while updating image\")\r\n        })\r\n    }\r\n\r\n    function uploadImage(file_d) {\r\n        let f = new FormData()\r\n        f.append(\"file\", file_d)\r\n        return Axios.post(`${getApiLink()}/api/v1/upload`, f, {\r\n\r\n        }).then((doc) => {\r\n            console.log(doc)\r\n\r\n            if (doc.data.success) {\r\n                saveImage(`${getApiLink()}/file/${doc.data.file_name}`)\r\n            } else {\r\n                notyf.error(\"Error occured while updating image\")\r\n            }\r\n        }).catch((e) => {\r\n            console.log(e)\r\n            console.log(\"Error while uploading image\")\r\n            return {\r\n                success: 0\r\n            }\r\n        })\r\n    }\r\n    function handleUpload() {\r\n\r\n        let f_i = document.createElement(\"input\")\r\n        f_i.setAttribute(\"type\", \"file\")\r\n        f_i.setAttribute(\"accept\", \"image/*\")\r\n\r\n        f_i.click()\r\n\r\n        f_i.addEventListener(\"change\", () => {\r\n\r\n            if (f_i.files[0]) {\r\n                setFile(f_i.files[0])\r\n                // console.log({ file: f_i.files[0] })\r\n                setImgSrc(window.URL.createObjectURL(f_i.files[0]))\r\n                setModalDisp(true)\r\n\r\n            } else {\r\n                notyf.error(\"Invalid file\")\r\n            }\r\n\r\n            f_i.removeEventListener(\"change\", () => { })\r\n        })\r\n\r\n\r\n\r\n    }\r\n\r\n    function handleSave() {\r\n\r\n        if (u_name === null || u_name === \"\" || u_name.length > 60) {\r\n            notyf.error(\"Invalid name\")\r\n        } else if (u_gender === null || u_gender === \"Choose...\") {\r\n            notyf.error(\"Invalid gender\")\r\n        } else if (u_bio === null || u_bio === \"\" || u_bio.length > 160) {\r\n            notyf.error(\"Invalid bio\")\r\n        } else {\r\n            Axios.post(`${getApiLink()}/api/v1/updateUserSettings`, {\r\n                \"xAuthToken\": auth_token,\r\n                \"fullname\": u_name,\r\n                \"user_bio\": u_bio,\r\n                \"gender\": u_gender\r\n            }).then((doc) => {\r\n                console.log(doc)\r\n\r\n                if (doc.data.success) {\r\n                    doc.data.message.token = auth_token\r\n                    console.log({ doc })\r\n                    setAuth(doc.data)\r\n                    notyf.success(\"Successfully updated profile\")\r\n                } else {\r\n                    notyf.error(\"Error occured while updating profile information\")\r\n                }\r\n            }).catch((e) => {\r\n                console.log(e)\r\n                console.log(\"Error while updating information\")\r\n                notyf.error(\"Error occured while updating profile information\")\r\n            })\r\n        }\r\n\r\n\r\n    }\r\n    return (<>\r\n\r\n        <div className={props.className}>\r\n            <h3>Public Profile</h3>\r\n            <hr className=\"light\" />\r\n            <div className=\"row\">\r\n                <div className=\"col-md-4 text-center show-xs hide-md\">\r\n\r\n                    <div className=\"position-relative text-center\">\r\n                        <img className=\"avatar_image\" alt=\"img\" name=\"dp\"\r\n                            src={u_dp} />\r\n\r\n                        {/* <Dropdown>\r\n                            <Dropdown.Toggle className=\"position-absolute profile-edit-btn btn-sm px-2 py-1 right-50 bottom-0 ml-2 mb-2\" variant=\"info\" id=\"dropdown-basic2\">\r\n                                Edit\r\n                            </Dropdown.Toggle>\r\n\r\n                            <Dropdown.Menu>\r\n                                <Dropdown.Item eventKey=\"1\" onClick={handleUpload}>Upload Image</Dropdown.Item>\r\n                             <Dropdown.Item eventKey=\"2\">Remove Image</Dropdown.Item> \r\n                            </Dropdown.Menu>\r\n                        </Dropdown> */}\r\n\r\n                        <DropdownMenu title={<Menu className=\"text\" />}\r\n                            autoClose\r\n                            autoCloseTouch\r\n                            containerClassName=\"drop-btnx position-absolute px-2 py-1 right-50 bottom-0 ml-2 mb-2\"\r\n                            className=\"profile-edit-btn btn-sm btn-info\"\r\n                            containerStyle={{\r\n                                // marginRight: \"4fr\"\r\n                            }}\r\n                            menuStyle={{\r\n                                // transform: (window.innerWidth <= 576) ? \"translateX(-80%)\" : null\r\n                            }}>\r\n                            <DropdownItem onClick={handleUpload}>Upload Image</DropdownItem>\r\n                        </DropdownMenu>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                <div className=\"col-md-8\">\r\n                    <h6>Name</h6>\r\n                    <input type=\"text\" className=\"form-control\" name=\"name\" placeholder=\"Full Name\" value={u_name} onChange={handleChange} />\r\n                    <p className=\"text-muted\">\r\n                        Your name may appear around Lattice where you contribute or are mentioned.\r\n                        </p>\r\n                    <br />\r\n                    <h6>Username</h6>\r\n                    <input type=\"text\" className=\"form-control\" placeholder=\"@username\" value={user_username} disabled />\r\n                    <p className=\"text-muted\">\r\n                        Your username may appear around Lattice where you contribute or are mentioned.\r\n                        </p>\r\n\r\n                    <h6>Bio</h6>\r\n                    <textarea id=\"\" cols=\"30\" rows=\"3\" className=\"form-control\" name=\"bio\"\r\n                        placeholder=\"Enter you Profile Bio\" value={u_bio} onChange={handleChange} ></textarea>\r\n\r\n                    <hr className=\"darker\" />\r\n                    <h6>Gender</h6>\r\n                    <select className=\"custom-select form-control\" id=\"ig-gender\" name=\"gender\" onChange={handleChange} value={u_gender}>\r\n                        <option defaultChecked>Choose...</option>\r\n                        <option value=\"0\">Male</option>\r\n                        <option value=\"1\">Female</option>\r\n                        <option value=\"2\">Others</option>\r\n                        <option value=\"-1\">Choose not to specify.</option>\r\n                    </select>\r\n                    <button className=\"btn btn-primary mt-2\" onClick={handleSave}>Save</button>\r\n                </div>\r\n                <div className=\"col-md-4 text-left pl-2 hide-xs show-md\">\r\n\r\n                    <div className=\"position-relative\">\r\n                        <img className=\"avatar_image\" alt=\"img\"\r\n                            src={u_dp} />\r\n\r\n                        {/* <Dropdown>\r\n                            <Dropdown.Toggle className=\"position-absolute profile-edit-btn btn-sm px-2 py-1 left-0 bottom-0 ml-2 mb-2\" variant=\"info\" id=\"dropdown-basic\">\r\n                                Edit\r\n                            </Dropdown.Toggle>\r\n\r\n                            <Dropdown.Menu>\r\n                                <Dropdown.Item eventKey=\"1\" onClick={handleUpload}>Upload Image</Dropdown.Item>\r\n                                <Dropdown.Item eventKey=\"2\">Remove Image</Dropdown.Item>\r\n                            </Dropdown.Menu>\r\n                        </Dropdown> */}\r\n\r\n                        <DropdownMenu title={<Menu className=\"text\" />}\r\n                            autoClose\r\n                            autoCloseTouch\r\n                            containerClassName=\"drop-btnx position-absolute px-2 py-1 left-0 bottom-0 ml-2 mb-2\"\r\n                            className=\"profile-edit-btn btn-sm btn-info\"\r\n                            containerStyle={{\r\n                                // marginRight: \"4fr\"\r\n                            }}\r\n                            menuStyle={{\r\n                                transform: (window.innerWidth <= 576) ? \"translateX(-80%)\" : null\r\n                            }}>\r\n                            <DropdownItem onClick={handleUpload}>Upload Image</DropdownItem>\r\n                        </DropdownMenu>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n\r\n        </div>\r\n        <Modal show={modalDisp}\r\n            onHide={(() => { setModalDisp(false) })}\r\n        >\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Select Image</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <ReactCrop\r\n                    circularCrop={true}\r\n                    keepSelection={true}\r\n                    onComplete={(crop, percrop) => {\r\n                        console.log(crop, percrop)\r\n                    }}\r\n                    src={imgSrc}\r\n                    crop={crop}\r\n                    onChange={newCrop => setCrop(newCrop)}\r\n                    onImageLoaded={onImageLoad}\r\n                />\r\n                <br />\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <button className=\"btn btn-secondary\" onClick={(() => { setModalDisp(false) })}>Close</button>\r\n                <button className=\"btn btn-primary\" onClick={\r\n                    () => {\r\n                        getCroppedImg(imgRef, crop, \"file-upload.jpeg\").then((blob) => {\r\n                            // console.log(blob)\r\n                            setFile(blob)\r\n                            setModalDisp(false)\r\n                            uploadImage(new File([blob], 'file-upload.jpeg'))\r\n                            // setImgSrc(window.URL.createObjectURL(blob))\r\n\r\n                        })\r\n                    }\r\n                }>Select</button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    </>);\r\n}\r\n\r\nconst AccountSettings = (props) => {\r\n    return (<>\r\n        <div className={props.className}>\r\n            <h3>Account Settings</h3>\r\n            <hr className=\"light\" />\r\n\r\n            <div className=\"row\">\r\n                <div className=\"col-md-8\">\r\n                    This is something\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </>);\r\n}\r\n\r\nconst SecuritySettings = (props) => {\r\n\r\n    function handleSave() {\r\n        console.log(\"saving new password\")\r\n    }\r\n    return (\r\n        <>\r\n            <div className={props.className}>\r\n                <h3>Security Settings</h3>\r\n                <hr className=\"light\" />\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-8\">\r\n                        <br />\r\n                        <h5>Change password</h5>\r\n                        <hr className=\"light\" />\r\n                        <h6>Old passworrd</h6>\r\n                        <input type=\"password\" className=\"form-control\" placeholder=\"Enter you current password\" />\r\n\r\n                        <h6 className=\"mt-3\">New password</h6>\r\n                        <div className=\"row\">\r\n                            <div className=\"col-md-6 mb-2\">\r\n                                <input type=\"password\" className=\"form-control\" placeholder=\"Enter new password\" />\r\n                            </div>\r\n                            <div className=\"col-md-6\">\r\n                                <input type=\"password\" className=\"form-control\" placeholder=\"Repeat new password\" />\r\n                            </div>\r\n                        </div>\r\n                        <button className=\"btn btn-primary mt-3\" onClick={handleSave}>Change password</button>\r\n\r\n                        <h5 className=\"mt-4 pt-3\">Two-factor authentication</h5>\r\n                        <hr className=\"light\" />\r\n                        <div className=\"text-center\">\r\n\r\n                            <span className=\"mt-4 mb-2 pt-4 pb-2\"><LockRounded className=\"text-muted\" style={{\r\n                                fontSize: \"48px\"\r\n                            }} /></span>\r\n                            <h5>Two factor authentication is not enabled yet.</h5>\r\n                            <p className=\"text-muted\" style={{\r\n                                fontSize: \"14px\"\r\n                            }}>Two-factor authentication adds an additional layer of security to\r\n                                your account by requiring more than just a password to log in.</p>\r\n\r\n                            <button className=\"btn btn-success mt-4\">Enable two-factor authentication</button>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>);\r\n}\r\n\r\nfunction handleChange(display) {\r\n    if (display === 1) {\r\n        return (<ProfileSettings className=\"mt-4 pb-4\" />)\r\n    } else if (display === 2) {\r\n        return (<AccountSettings className=\"mt-4 pb-4\" />)\r\n    } else {\r\n        return (<SecuritySettings className=\"mt-4 pb-4\" />)\r\n    }\r\n}\r\n\r\nfunction showToggle(c, showMenu) {\r\n\r\n    if (c) {\r\n        return (\r\n            <span>\r\n                {/* {(showMenu === 1) ? <FontAwesomeIcon icon={faToggleOn} className=\"toggle-icon\" /> : <FontAwesomeIcon icon={faToggleOff} className=\"toggle-icon\" />} */}\r\n                {(showMenu === 1) ? <FontAwesomeIcon icon={faCaretDown} className=\"toggle-icon\" /> : <FontAwesomeIcon icon={faCaretRight} className=\"toggle-icon\" />}\r\n            </span>\r\n        )\r\n    } else {\r\n        return \"\"\r\n    }\r\n\r\n}\r\n// export default ProfileSettings;\r\nconst Settings = () => {\r\n\r\n    const [display, setdisplay] = useState(1);\r\n\r\n    const [showMenu, setshowMenu] = useState(1);\r\n    const [useToggle, setUseToggle] = useState(0);\r\n    // eslint-disable-next-line no-restricted-globals\r\n    const w = screen.availWidth;\r\n\r\n    useEffect(() => {\r\n\r\n        if (w <= 767) {\r\n            setUseToggle(1)\r\n            setshowMenu(0)\r\n        }\r\n\r\n    }, [w])\r\n\r\n    function setStateProfile(e) {\r\n        // console.log(\"1\")\r\n        setdisplay(1)\r\n    }\r\n\r\n    function setStateAccount(e) {\r\n        // console.log(\"2\")\r\n        setdisplay(2)\r\n    }\r\n\r\n    function setStateSecurity(e) {\r\n        // console.log(\"3\")\r\n        setdisplay(3)\r\n    }\r\n\r\n    function setSettingsToggler() {\r\n        if (w <= 767) {\r\n            setshowMenu((showMenu + 1) % 2)\r\n        }\r\n    }\r\n\r\n\r\n    return (<>\r\n        <Helmet>\r\n            <meta charSet=\"utf-8\" />\r\n            <title>Settings - Devorzo</title>\r\n            <link rel=\"canonical\" href=\"https://devorzo.github.io/settings\" />\r\n        </Helmet>\r\n        <div className=\"settings-section\">\r\n            <div className=\"container\">\r\n\r\n                <div className=\"row\">\r\n\r\n\r\n                    <div className=\"col-lg-3 mb-0 mt-3\">\r\n\r\n                        <h2 className=\"noselect cursor-pointer\" onClick={setSettingsToggler}>Settings&nbsp;\r\n                        {showToggle(useToggle, showMenu)}\r\n                        </h2>\r\n\r\n                        <div className={(showMenu === 0) ? \"hide-sm hide-xs\" : \"\"}>\r\n                            <Nav variant=\"pills\" defaultActiveKey=\"link-1\" className=\"flex-column settings-nav\">\r\n                                <Nav.Item>\r\n                                    <Nav.Link i={1} className=\"nav-btn\" onClick={setStateProfile} eventKey=\"link-1\">Profile Settings</Nav.Link>\r\n                                </Nav.Item>\r\n                                {/* <Nav.Item>\r\n                                    <Nav.Link i={1} className=\"nav-btn\" onClick={setStateAccount} eventKey=\"link-2\">Account Settings</Nav.Link>\r\n                                </Nav.Item>\r\n                                <Nav.Item>\r\n                                    <Nav.Link i={1} className=\"nav-btn\" onClick={setStateSecurity} eventKey=\"link-3\">Security Settings</Nav.Link>\r\n                                </Nav.Item> */}\r\n                            </Nav>\r\n                        </div>\r\n\r\n\r\n                    </div>\r\n\r\n                    <div className=\"col-lg-9\">\r\n                        {handleChange(display)}\r\n                        <br />\r\n                        <br />\r\n                        <br />\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div >\r\n    </>\r\n\r\n    );\r\n}\r\n\r\nexport default Settings;"],"sourceRoot":""}