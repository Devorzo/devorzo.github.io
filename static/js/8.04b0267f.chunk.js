(this.webpackJsonpmajor_project_ui=this.webpackJsonpmajor_project_ui||[]).push([[8],{185:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(0),l=a.n(n);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function c(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var o=l.a.createElement("path",{fill:"currentColor",d:"M151.5 347.8L3.5 201c-4.7-4.7-4.7-12.3 0-17l19.8-19.8c4.7-4.7 12.3-4.7 17 0L160 282.7l119.7-118.5c4.7-4.7 12.3-4.7 17 0l19.8 19.8c4.7 4.7 4.7 12.3 0 17l-148 146.8c-4.7 4.7-12.3 4.7-17 0z",className:""}),s=function(e){var t=e.svgRef,a=e.title,n=c(e,["svgRef","title"]);return l.a.createElement("svg",r({"aria-hidden":"true",focusable:"false","data-prefix":"far","data-icon":"angle-down",role:"img",viewBox:"0 0 320 512",ref:t},n),a?l.a.createElement("title",null,a):null,o)},i=l.a.forwardRef((function(e,t){return l.a.createElement(s,r({svgRef:t},e))}));a.p},244:function(e,t,a){"use strict";a.r(t);var n=a(6),l=a(0),r=a.n(l),c=a(97),o=(a(193),a(43)),s=a(209),i=a(214),m=a(179),u=a(213),d=a.n(u),p=a(29),h=a.n(p),g=a(30),E=a(23),b=a(185),f=a(24),v=a(59),N=function(e,t,a){var n=document.createElement("canvas"),l=e.naturalWidth/e.width,r=e.naturalHeight/e.height;return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,t.x*l,t.y*r,t.width*l,t.height*r,0,0,t.width,t.height),new Promise((function(e){n.toBlob((function(t){t.name=a,e(t)}),"image/jpeg",1)}))},w=function(e){var t=Object(l.useContext)(f.a),a=t.user_dp,c=t.user_fullname,s=t.user_username,i=t.user_bio,u=t.user_gender,p=t.auth_token,w=t.setAuth,y=Object(l.useState)(!0),j=Object(n.a)(y,2),O=j[0],S=j[1],x=Object(l.useState)({aspect:1,width:1024}),C=Object(n.a)(x,2),k=C[0],_=C[1],L=Object(l.useState)(!1),I=Object(n.a)(L,2),F=I[0],P=I[1],R=Object(l.useState)(null),T=Object(n.a)(R,2),z=T[0],A=T[1],U=Object(l.useState)(null),B=Object(n.a)(U,2),D=B[0],H=B[1],W=Object(l.useState)(a),J=Object(n.a)(W,2),K=J[0],M=J[1],Y=Object(l.useState)(c),q=Object(n.a)(Y,2),G=q[0],X=q[1],Q=Object(l.useState)(i),V=Object(n.a)(Q,2),Z=V[0],$=V[1],ee=Object(l.useState)(u),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],le=Object(l.useCallback)((function(e){H(e);var t=e.width/1<1*e.height?100:1*e.height/e.width*100,a=e.width/1>1*e.height?100:e.width/1/e.height*100;return _({unit:"%",width:t,height:a,x:(100-t)/2,y:(100-a)/2,aspect:1}),!0}),[]);function re(e){"name"===e.target.name&&X(e.target.value),"bio"===e.target.name&&$(e.target.value),"gender"===e.target.name&&ne(e.target.value)}function ce(e){var t=new FormData;return t.append("file",e),h.a.post("".concat(Object(g.a)(),"/api/v1/upload"),t,{}).then((function(e){var t;console.log(e),e.data.success?(t="".concat(Object(g.a)(),"/file/").concat(e.data.file_name),h.a.post("".concat(Object(g.a)(),"/api/v1/updateUserSettings"),{xAuthToken:p,profile_image_link:t}).then((function(e){console.log(e),e.data.success?(M(t),e.data.message.token=p,console.log({doc:e}),w(e.data),v.a.success("Successfully updated image")):v.a.error("Error occured while updating image")})).catch((function(e){console.log(e),console.log("Error while uploading image"),v.a.error("Error occured while updating image")}))):v.a.error("Error occured while updating image")})).catch((function(e){return console.log(e),console.log("Error while uploading image"),{success:0}}))}function oe(){var e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.click(),e.addEventListener("change",(function(){e.files[0]?(A(window.URL.createObjectURL(e.files[0])),P(!0)):v.a.error("Invalid file"),e.removeEventListener("change",(function(){}))}))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Profile Settings - Devorzo"),r.a.createElement("link",{rel:"canonical",href:"https://devorzo.github.io/settings"})),r.a.createElement("div",{className:e.className},r.a.createElement("h3",null,"Public Profile"),r.a.createElement("hr",{className:"light"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 text-center show-xs hide-md"},r.a.createElement("div",{className:"position-relative text-center"},r.a.createElement("img",{className:"avatar_image ".concat(O?"with_background":""),onLoad:function(e){new RegExp("avatars.dicebear.com").test(e.target.src)||S(!1)},alt:"img",name:"dp",src:K}),r.a.createElement(E.b,{title:r.a.createElement(b.a,{className:"text"}),autoClose:!0,autoCloseTouch:!0,containerClassName:"drop-btnx position-absolute px-2 py-1 right-50 bottom-0 ml-2 mb-2",className:"profile-edit-btn btn-sm btn-info",containerStyle:{},menuStyle:{}},r.a.createElement(E.a,{onClick:oe},"Upload Image")))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("h6",null,"Name"),r.a.createElement("input",{type:"text",className:"form-control",name:"name",placeholder:"Full Name",value:G,onChange:re}),r.a.createElement("p",{className:"text-muted"},"Your name may appear around Lattice where you contribute or are mentioned."),r.a.createElement("br",null),r.a.createElement("h6",null,"Username"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"@username",value:s,disabled:!0}),r.a.createElement("p",{className:"text-muted"},"Your username may appear around Lattice where you contribute or are mentioned."),r.a.createElement("h6",null,"Bio"),r.a.createElement("textarea",{id:"",cols:"30",rows:"3",className:"form-control",name:"bio",placeholder:"Enter you Profile Bio",value:Z,onChange:re}),r.a.createElement("hr",{className:"darker"}),r.a.createElement("h6",null,"Gender"),r.a.createElement("select",{className:"custom-select form-control",id:"ig-gender",name:"gender",onChange:re,value:ae},r.a.createElement("option",{defaultChecked:!0},"Choose..."),r.a.createElement("option",{value:"0"},"Male"),r.a.createElement("option",{value:"1"},"Female"),r.a.createElement("option",{value:"2"},"Others"),r.a.createElement("option",{value:"-1"},"Choose not to specify.")),r.a.createElement("button",{className:"btn btn-primary mt-2",onClick:function(){null===G||""===G||G.length>60?v.a.error("Invalid name"):null===ae||"Choose..."===ae?v.a.error("Invalid gender"):null===Z||""===Z||Z.length>160?v.a.error("Invalid bio"):h.a.post("".concat(Object(g.a)(),"/api/v1/updateUserSettings"),{xAuthToken:p,fullname:G,user_bio:Z,gender:ae}).then((function(e){console.log(e),e.data.success?(e.data.message.token=p,console.log({doc:e}),w(e.data),v.a.success("Successfully updated profile")):v.a.error("Error occured while updating profile information")})).catch((function(e){console.log(e),console.log("Error while updating information"),v.a.error("Error occured while updating profile information")}))},type:"button"},"Save")),r.a.createElement("div",{className:"col-md-4 text-left pl-2 hide-xs show-md"},r.a.createElement("div",{className:"position-relative"},r.a.createElement("img",{className:"avatar_image ".concat(O?"with_background":""),onLoad:function(e){new RegExp("avatars.dicebear.com").test(e.target.src)||S(!1)},alt:"img",src:K}),r.a.createElement(E.b,{title:r.a.createElement(b.a,{className:"text"}),autoClose:!0,autoCloseTouch:!0,containerClassName:"drop-btnx position-absolute px-2 py-1 left-0 bottom-0 ml-2 mb-2",className:"profile-edit-btn btn-sm btn-info",containerStyle:{},menuStyle:{transform:window.innerWidth<=576?"translateX(-80%)":null}},r.a.createElement(E.a,{onClick:oe},"Upload Image")))))),r.a.createElement(m.a,{show:F,onHide:function(){P(!1)}},r.a.createElement(m.a.Header,{closeButton:!0},r.a.createElement(m.a.Title,null,"Select Image")),r.a.createElement(m.a.Body,null,r.a.createElement(d.a,{circularCrop:!0,keepSelection:!0,onComplete:function(e,t){console.log(e,t)},src:z,crop:k,onChange:function(e){return _(e)},onImageLoaded:le}),r.a.createElement("br",null)),r.a.createElement(m.a.Footer,null,r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){P(!1)},type:"button"},"Close"),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){N(D,k,"file-upload.jpeg").then((function(e){P(!1),ce(new File([e],"file-upload.jpeg"))}))},type:"button"},"Select"))))},y=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.className},r.a.createElement("h3",null,"Account Settings"),r.a.createElement("hr",{className:"light"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},"This is something"))))},j=a(231),O=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:e.className},r.a.createElement("h3",null,"Security Settings"),r.a.createElement("hr",{className:"light"}),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("br",null),r.a.createElement("h5",null,"Change password"),r.a.createElement("hr",{className:"light"}),r.a.createElement("h6",null,"Old passworrd"),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter you current password"}),r.a.createElement("h6",{className:"mt-3"},"New password"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 mb-2"},r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Enter new password"})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Repeat new password"}))),r.a.createElement("button",{className:"btn btn-primary mt-3",onClick:function(){console.log("saving new password")},type:"button"},"Change password"),r.a.createElement("h5",{className:"mt-4 pt-3"},"Two-factor authentication"),r.a.createElement("hr",{className:"light"}),r.a.createElement("div",{className:"text-center"},r.a.createElement("span",{className:"mt-4 mb-2 pt-4 pb-2"},r.a.createElement(j.a,{className:"text-muted",style:{fontSize:"48px"}})),r.a.createElement("h5",null,"Two factor authentication is not enabled yet."),r.a.createElement("p",{className:"text-muted",style:{fontSize:"14px"}},"Two-factor authentication adds an additional layer of security to your account by requiring more than just a password to log in."),r.a.createElement("button",{className:"btn btn-success mt-4",type:"button"},"Enable two-factor authentication"))))))};t.default=function(){var e=Object(l.useState)(1),t=Object(n.a)(e,2),a=t[0],m=t[1],u=Object(l.useState)(1),d=Object(n.a)(u,2),p=d[0],h=d[1],g=Object(l.useState)(0),E=Object(n.a)(g,2),b=E[0],f=E[1],v=screen.availWidth;return Object(l.useEffect)((function(){v<=767&&(f(1),h(0))}),[v]),r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,null,r.a.createElement("meta",{charSet:"utf-8"}),r.a.createElement("title",null,"Settings - Devorzo"),r.a.createElement("link",{rel:"canonical",href:"https://devorzo.github.io/settings"})),r.a.createElement("div",{className:"settings-section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-3 mb-0 mt-3"},r.a.createElement("h2",{className:"noselect cursor-pointer",onClick:function(){v<=767&&h((p+1)%2)}},"Settings\xa0",1===b&&1===p&&r.a.createElement(s.a,{icon:i.a,className:"toggle-icon"}),1===b&&0===p&&r.a.createElement(s.a,{icon:i.b,className:"toggle-icon"})),r.a.createElement("div",{className:0===p?"hide-sm hide-xs":""},r.a.createElement(c.a,{variant:"pills",defaultActiveKey:"link-1",className:"flex-column settings-nav"},r.a.createElement(c.a.Item,null,r.a.createElement(c.a.Link,{i:1,className:"nav-btn",onClick:function(){m(1)},eventKey:"link-1"},"Profile Settings"))))),r.a.createElement("div",{className:"col-lg-9"},1===a&&r.a.createElement(w,{className:"mt-4 pb-4"}),2===a&&r.a.createElement(y,{className:"mt-4 pb-4"}),3===a&&r.a.createElement(O,{className:"mt-4 pb-4"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))))))}}}]);
//# sourceMappingURL=8.04b0267f.chunk.js.map